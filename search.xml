<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[è‡ªå·±çš„æ”¶è—å¤¹]]></title>
    <url>%2F2018%2F11%2Fshare%2F</url>
    <content type="text"><![CDATA[ä¸€äº›ä»¥åŽå¯èƒ½ä¼šéœ€è¦çš„æ–‡ç«  HTML5 å›¾ç‰‡ä¸Šä¼ è§£å†³æ–¹æ¡ˆ Blobå¯¹è±¡]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ­£åˆ™è¡¨è¾¾å¼â€”â€”åˆšæ‰æ˜Žæ˜Žæ˜¯å¥½çš„]]></title>
    <url>%2F2018%2F11%2Fregexp-global%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©æµ‹è¯•æä¸€ä¸ªjiraç»™æˆ‘ï¼Œè¯´æœ‰ä¸€ä¸ªå¾ˆè¯¡å¼‚çš„bugï¼Œè¡¨å•éªŒè¯æœ‰æ—¶å€™ä¼šæˆåŠŸï¼Œæœ‰æ—¶å€™ä¼šå¤±è´¥ã€‚ è€Œä¸”å¾ˆæœ‰è§„å¾‹æ€§çš„ï¼Œä¸¤ä¸‹æˆåŠŸï¼ŒæŽ¥ç€å¤±è´¥ï¼Œå†ä¸¤ä¸‹æˆåŠŸï¼Œå†å¤±è´¥â€¦çœ‹ä»£ç ä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œ\SåŒ¹é…ä»»ä½•éžç©ºå­—ç¬¦ï¼Œgå…¨å±€æŸ¥æ‰¾ï¼Œè¿™ä¹ˆç®€å•çš„ä¸€ä¸ªæ­£åˆ™æ€Žä¹ˆå¯èƒ½ä¼šå‡ºé”™ã€‚123456const r = /\S/g;$input.addEventListener('blur', (e)=&gt; &#123; // ... const result = r.test(e.currentTarget.value); // ...&#125;); ç„¶åŽç›´æŽ¥æ‹¿åˆ°æŽ§åˆ¶å°åŽ»æµ‹è¯•ï¼Œå‘çŽ°ä¹Ÿæœ‰ç±»ä¼¼çš„é—®é¢˜ï¼Œä½†æ˜¯å¦‚æžœæ¯æ¬¡éƒ½ç›´æŽ¥è°ƒç”¨æ­£åˆ™è¡¨è¾¾å¼çš„testæ–¹æ³•ï¼Œåˆä¸ä¼šæœ‰é—®é¢˜ã€‚æ‰€ä»¥ä¸€å¼€å§‹æ€€ç–‘æ˜¯æŠŠæ­£åˆ™å¯¹è±¡å­˜èµ·æ¥å¯¼è‡´çš„ã€‚ åŽé¢åœ¨ stackoverflowå’Œ MDNä¸Šæ‰¾åˆ°çœŸæ­£çš„åŽŸå› ã€‚ å½“è®¾ç½®å…¨å±€æ ‡å¿—çš„æ­£åˆ™ä½¿ç”¨test()å¦‚æžœæ­£åˆ™è¡¨è¾¾å¼è®¾ç½®äº†å…¨å±€æ ‡å¿—ï¼Œtest() çš„æ‰§è¡Œä¼šæ”¹å˜æ­£åˆ™è¡¨è¾¾å¼ lastIndexå±žæ€§ã€‚è¿žç»­çš„æ‰§è¡Œtest()æ–¹æ³•ï¼ŒåŽç»­çš„æ‰§è¡Œå°†ä¼šä»Ž lastIndex å¤„å¼€å§‹åŒ¹é…å­—ç¬¦ä¸²ï¼Œ(exec() åŒæ ·æ”¹å˜æ­£åˆ™æœ¬èº«çš„ lastIndexå±žæ€§å€¼). è¿™æ„æ€å°±å¾ˆæ˜Žæ˜¾äº†ï¼Œæˆ‘ä»¬æ¯ä¸€æ¬¡æœç´¢åŒ¹é…ä¸­ä¹‹åŽï¼Œä¸‹æ¬¡å°±ä»Žä»–çš„ä¸‹ä¸€ä½å¼€å§‹æ‰§è¡Œæœç´¢ã€‚ æ‰€ä»¥æœ€åŽçœ‹ä¸šåŠ¡åœºæ™¯ï¼Œå®Œå…¨ä¸éœ€è¦åŠ è¿™ä¸ªgï¼Œç›´æŽ¥åŽ»æŽ‰å°±ç®—fixäº†ã€‚å½“ç„¶å¦‚æžœä½ å¤´å¾ˆé“â€¦ä¸€å®šè¦åŠ gçš„è¯ï¼Œé‚£ä¹Ÿå¯ä»¥æ¯æ¬¡æ‰§è¡Œå®Œé‡ç½® lastIndexã€‚1234567const r = /\S/g;$input.addEventListener('blur', (e)=&gt; &#123; // ... const result = r.test(e.currentTarget.value); if (result) r.lastIndex = 0; // ...&#125;); last è°¢è°¢å¤§é’Šå­å’Œå¤å°‘ä¸¤ä½åŒäº‹]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>work</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Reactæºç ç³»åˆ—]]></title>
    <url>%2F2018%2F11%2Freact-source%2F</url>
    <content type="text"><![CDATA[react16 æºç é˜…è¯»å­¦ä¹ è®°å½•]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>github</tag>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‡½æ•°å¼ç¼–ç¨‹]]></title>
    <url>%2F2018%2F09%2Ffp%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡pptè¯·ç¬‘çº³ å‡½æ•°å¼ç¼–ç¨‹ç»´åŸºç™¾ç§‘å¯¹å‡½æ•°å¼ç¼–ç¨‹çš„å®šä¹‰ï¼šå‡½æ•°å¼ç¼–ç¨‹ï¼ˆè‹±è¯­ï¼šfunctional programmingï¼‰æˆ–ç§°å‡½æ•°ç¨‹åºè®¾è®¡ï¼Œæ˜¯ä¸€ç§ç¼–ç¨‹å…¸èŒƒï¼Œå®ƒå°†è®¡ç®—æœºè¿ç®—è§†ä¸ºæ•°å­¦ä¸Šçš„å‡½æ•°è®¡ç®—ï¼Œå¹¶ä¸”é¿å…ä½¿ç”¨ç¨‹åºçŠ¶æ€ä»¥åŠæ˜“å˜å¯¹è±¡ã€‚è¿™é‡Œçš„å‡½æ•°æŒ‡çš„æ˜¯æ•°å­¦ä¸Šçš„å‡½æ•°ï¼Œæ—¢è‡ªå˜é‡ï¼ˆæ•°æ®ï¼‰çš„æ˜ å°„ã€‚ ä¸Žå‘½ä»¤å¼ç¼–ç¨‹å¯¹æ¯”ï¼Œå‡½æ•°å¼ç¼–ç¨‹æ›´åŠ å¼ºè°ƒç¨‹åºæ‰§è¡Œçš„ç»“æžœè€Œéžæ‰§è¡Œçš„è¿‡ç¨‹ï¼Œå€¡å¯¼åˆ©ç”¨è‹¥å¹²ç®€å•çš„æ‰§è¡Œå•å…ƒ(å°å‡½æ•°)è®©è®¡ç®—ç»“æžœä¸æ–­æ¸è¿›ï¼Œé€å±‚æŽ¨å¯¼å¤æ‚çš„è¿ç®—ï¼Œè€Œä¸æ˜¯è®¾è®¡ä¸€ä¸ªå¤æ‚çš„æ‰§è¡Œè¿‡ç¨‹ã€‚ æˆ‘çš„ç†è§£æ˜¯ï¼Œä»¥çº¯å‡½æ•°ï¼ˆ é¿å…ä½¿ç”¨ç¨‹åºçŠ¶æ€ä»¥åŠå¼‚å˜å¯¹è±¡ï¼‰ä¸ºå•å…ƒï¼ŒåŽ»æŠ½è±¡ã€æ‹†åˆ†æ¨¡å—åŠŸèƒ½çš„ç¼–ç¨‹æ€æƒ³ã€‚å…¶å®žå‡½æ•°å¼ç¼–ç¨‹æˆ‘ä»¬å¹³æ—¶ä¸é™Œç”Ÿï¼Œæ¯”å¦‚react, redux éƒ½å¤šå¤šå°‘å°‘æœ‰ä¸€äº›ç›¸å…³ã€‚ æ‰€ä»¥æˆ‘ä»¬å¾—å‡ºå‡ ä¸ªå‡½æ•°å¼ç¼–ç¨‹çš„è¦ç‚¹ï¼š é¿å…ä½¿ç”¨ç¨‹åºçŠ¶æ€ä»¥åŠå¼‚å˜å¯¹è±¡ï¼Œæ•°æ®æ˜ å°„=&gt; çº¯å‡½æ•° å¼ºè°ƒæ‰§è¡Œç»“æžœè€Œéžè¿‡ç¨‹=&gt; å£°æ˜Žå¼ çº¯å‡½æ•°çº¯å‡½æ•°ï¼šè¾“å‡ºç»“æžœåªç”±è¾“å…¥å†³å®šï¼Œå¹¶ä¸”ä¸äº§ç”Ÿå‰¯ä½œç”¨(effects)ã€‚ é¿å…ä½¿ç”¨ thisï¼Œwindow ç­‰å¤–éƒ¨å˜é‡ æ²¡æœ‰äº§ç”Ÿå‰¯ä½œç”¨(Effects)ï¼Œæ—¢æŠŠEffectsæŠ½ç¦»å‡ºæ¥ Effectsæœ‰å“ªäº›å‘¢ï¼Ÿæ¯”å¦‚ æ”¹åŠ¨å¤–éƒ¨æ•°æ®ï¼Œå‘èµ·ajaxè¯·æ±‚ï¼Œæ”¹åŠ¨domç­‰ç­‰ã€‚å†™è¿‡dvaçš„å°±çŸ¥é“ï¼Œdvaçš„modelæœ‰ä¸€ä¸ªeffectsï¼Œå°±æ˜¯ç”¨æ¥æ”¾è¿™äº›å‰¯ä½œç”¨çš„ä»£ç ã€‚ æˆ‘ä»¬æŠŠEffectsåˆ†ç¦»å‡ºæ¥ä¹‹åŽï¼Œå‰©ä¸‹çš„å°±æ˜¯çº¯å‡½æ•°ï¼Œçº¯å‡½æ•°å¯ä»¥å¾ˆç®€å•çš„è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œæ‰€ä»¥æ˜¯ä¸å®¹æ˜“å‡ºbugçš„ï¼Œå› ä¸ºå¾€å¾€æœ‰bugçš„éƒ½æ˜¯ä¸å¯é¢„è§çš„éƒ¨åˆ†ã€‚ ä¸¾ä¸ªä¾‹å­123const arr=['bilibili', 'hello', 'jsonz'];arr.slice(1, 3); // æ²¡å‰¯ä½œç”¨arr.splice(1, 2); // æœ‰å‰¯ä½œç”¨ï¼Œä¿®æ”¹åˆ°åŽŸæ¥çš„arræ•°ç»„ å¯èƒ½ä¼šé€ æˆæ„æƒ³ä¸åˆ°çš„bug è™½ç„¶æ‰§è¡Œä¹‹åŽï¼Œéƒ½èƒ½å¾—åˆ° Hello Jsonzã€‚ ä½†æ˜¯ splice ä¼šæ”¹åŠ¨åˆ°åŽŸæ¥çš„æ•°ç»„ï¼Œæ‰€ä»¥ä¸ç®—çº¯å‡½æ•°ã€‚ å·¥ä½œä¸­å…¶å®žå¾ˆå¤šå·¥å…·ç±»çš„functionéƒ½æ˜¯çº¯å‡½æ•°ï¼Œreduxçš„Reducerä¹Ÿæ˜¯æ ‡å‡†çš„çº¯å‡½æ•°ã€‚ redux reducers123456function set(state, &#123; payload &#125;) &#123; return &#123; ...state, ...payload, &#125;&#125; çº¯å‡½æ•°çš„å¥½å¤„æ˜¯ï¼Œä½ ä¸éœ€è¦æ‹…å¿ƒæŸä¸ªå€¼åœ¨æŸå¤„å‘é€æ„æƒ³ä¸åˆ°çš„æ”¹å˜å¯¼è‡´å‡ºbugï¼›çº¯å‡½æ•°é‡Œä¸äº§ç”Ÿå‰¯ä½œç”¨ï¼Œæ‰€ä»¥ä¹Ÿä¸ä¼šæ‹…å¿ƒæ”¹åŠ¨åˆ°å…¶ä»–åœ°æ–¹ï¼Œä»£ç æ›´å¥ç¡•ï¼›å¯ä»¥æ›´ä¼˜é›…çš„ç»„åˆå¤ç”¨ï¼Œæ–¹ä¾¿ç§»æ¤åˆ°å…¶ä»–çŽ¯å¢ƒ(web workers)ï¼›æ–¹ä¾¿çš„å†™å•å…ƒæµ‹è¯•ã€‚ å£°æ˜Žå¼åœ¨è¯´å£°æ˜Žå¼ä¹‹å‰ï¼Œè¦å…ˆæ™®åŠä¸€ä¸‹ä¸Žä¹‹å¯¹åº”çš„å‘½ä»¤å¼ï¼ˆæŒ‡ä»¤å¼ï¼‰ã€‚æˆ‘ä»¬å¹³æ—¶å†™çš„ä»£ç åŸºæœ¬éƒ½æ˜¯å‘½ä»¤å¼ï¼Œæ—¢æˆ‘ä»¬é€šè¿‡ä¸€æ¡ä¸€æ¡çš„å‘½ä»¤åŽ»æ‰§è¡Œä¸€äº›æ“ä½œï¼Œå…¶ä¸­ä¼šæ¶‰åŠåˆ°å¾ˆå¤šç»†èŠ‚çš„ä¸œè¥¿ã€‚æ—¢å…³æ³¨æ‰§è¡Œè¿‡ç¨‹ï¼Œç”¨å„ç§æŽ§åˆ¶è¯­å¥if...else...ä¸Žforå¾ªçŽ¯ç­‰ã€‚ å‘½ä»¤å¼ç¼–ç¨‹ï¼šå‘½ä»¤â€œæœºå™¨â€å¦‚ä½•åŽ»åšäº‹æƒ…(how)ï¼Œè¿™æ ·ä¸ç®¡ä½ æƒ³è¦çš„æ˜¯ä»€ä¹ˆ(what)ï¼Œå®ƒéƒ½ä¼šæŒ‰ç…§ä½ çš„å‘½ä»¤å®žçŽ°ã€‚å£°æ˜Žå¼ç¼–ç¨‹ï¼šå‘Šè¯‰â€œæœºå™¨â€ä½ æƒ³è¦çš„æ˜¯ä»€ä¹ˆ(what)ï¼Œè®©æœºå™¨æƒ³å‡ºå¦‚ä½•åŽ»åš(how)ã€‚ SQLè¯­å¥æ˜¯å…¸åž‹å£°æ˜Žå¼ï¼ŒSQLå­˜å‚¨è¿‡ç¨‹å’Œå­˜å‚¨å‡½æ•°åˆ™æ˜¯å‘½ä»¤å¼ç¼–ç¨‹ã€‚ reacté‡Œé¢çš„ä¸¤ç§ç¼–ç¨‹æ–¹å¼12345678910111213141516171819202122// å‡½æ•°å¼ç¼–ç¨‹const data= [&#123;name: 'jsonz', age: 2&#125;, &#123; name: 'balala', age: 3&#125;, &#123; name: 'å°é­”ä»™', age: 30&#125;];const dom = data.filter(item=&gt; age&lt;10) .map(item=&gt; &lt;span&gt;&#123;item.name&#125; - &#123;item.age&#125;&lt;span&gt;); // è¿™é‡ŒåŽé¢çš„spanæ˜¯é—­åˆçš„&lt;/span&gt;// å‘½ä»¤å¼ç¼–ç¨‹const data= [&#123;name: 'jsonz', age: 2&#125;, &#123; name: 'balala', age: 3&#125;, &#123; name: 'å°é­”ä»™', age: 30&#125;];let newData = [];for (let i= 0; i&lt; data.length; i++) &#123; if (data[i].age &lt; 10) &#123; newData.push(data); &#125;&#125;const dom2 = [];for (let i= 0; i&lt; newData.length; i++) &#123; dom2.push(`&lt;span&gt;$&#123;item.name&#125;-$&#123;item.age&#125;&lt;span&gt;`);&#125; æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå£°æ˜Žå¼çš„ä»£ç æ›´åŠ ç®€æ´æ¸…æ™°ä¼˜é›…ã€‚ å£°æ˜Žå¼ä»£ç å¤ç”¨12345678910111213141516171819202122232425262728293031// åŒå€function double(arr) &#123; const results = []; for (let i = 0; i&lt; arr.length; i++) &#123; results.push(arr[i] * 2); &#125; return results;&#125;// +1function addOne(arr) &#123; const results = []; for (let i = 0; i&lt; arr.length; i++) &#123; results.push(arr[i] +1); &#125; return results;&#125;// å£°æ˜Žå¼: åŽ»é‡å¤ä»£ç ï¼Œç®€æ´function double(arr) &#123; return arr.map(item=&gt; item*2);&#125;function addOne(arr) &#123; return arr.map(item=&gt; item+1);&#125;// å£°æ˜Žå¼ç©¶æžç‰ˆï¼š å€ŸåŠ© Ramdaconst m= _.curry((fn, arr) =&gt; arr.map(item=&gt; fn(item)));const double = m(item=&gt; item*2);const addOne = m(item=&gt; item+1); è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºä¸€äº›å‡½æ•°å¼æœ€ç®€å•çš„æ€è·¯ï¼šæŠŠå¾ªçŽ¯å’Œåˆ¤æ–­ç­‰æŽ§åˆ¶è¯­å¥å°½å¯èƒ½æ¢æˆç­›é€‰ filterã€æ˜ å°„ mapã€åŒ–çº¦ reduceã€‚ cookieèŽ·å–1234567891011121314151617181920212223242526272829303132333435// å‘½ä»¤å¼// èŽ·å–cookievar _cookie = document.cookie;// cookie çš„å½¢å¼æ˜¯å­—ç¬¦ä¸² "key1=value1; key2=value2; "; æŠŠä»–è½¬å˜æˆæ•°ç»„å½¢å¼ ["key1=value1", "key2=value2"]ã€‚ ç”¨ "; "ä½œä¸ºåˆ†éš”ç¬¦var _cookieArray = _cookie.split('; ');// å¾ªçŽ¯æŠŠæ•°ç»„é‡Œé¢çš„ key1=value1å˜æˆå¯¹è±¡objçš„keyå’Œvalue æ–¹ä¾¿èŽ·å–var obj = &#123;&#125;;for (var i= 0; i&lt; _cookieArray.length; i++) &#123; // å–å‡ºcookieæ•°ç»„é‡Œé¢çš„å•ä¸ª: key1=value1 var cookieItem = _cookieArray[i]; // æŠŠè¿™ä¸ªå­—ç¬¦ä¸²key1= value1 å˜æ¢æˆæ•°ç»„ [key1, value1]ï¼Œç”¨ "=" åšä¸ºåˆ†å‰²ç¬¦ var cookieItemArray = cookieItem.split('='); // [key1, value1] // æŠŠåˆ†å‰²å¥½çš„æ•°ç»„ï¼Œèµ‹å€¼ç»™obj var key = cookieItemArray[0]; var value = cookieItemArray[1]; obj[key] = value;&#125;// å‡½æ•°å¼document.cookie.split('; ') .map(item=&gt; &#123; const [key, value] = item.split('='); return &#123;key, value&#125;; &#125;) .reduce((acc, cur)=&gt; &#123; const &#123; key, value &#125; = cur; acc[key] = value; return acc; &#125;, &#123;&#125;); ç»¼åˆ çº¯å‡½æ•° + å£°æ˜Žå¼è¯¥éƒ¨åˆ†æºä»£ç å¯ä»¥çœ‹è¿™ä¸ªä»“åº“ ( â˜‰_â˜‰)â‰¡â˜žoâ”€â”€â”€â”€â˜…Â°ä»“åº“åœ°å€ æ±‚å®Œç¾Žæ•°12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788// å®Œå…¨æ•°ï¼ˆPerfect numberï¼‰ï¼Œåˆç§°å®Œç¾Žæ•°æˆ–å®Œå¤‡æ•°ï¼Œæ˜¯ä¸€äº›ç‰¹æ®Šçš„è‡ªç„¶æ•°ã€‚ å®ƒæ‰€æœ‰çš„çœŸå› å­ï¼ˆå³é™¤äº†è‡ªèº«ä»¥å¤–çš„çº¦æ•°ï¼‰çš„å’Œï¼ˆå³å› å­å‡½æ•°ï¼‰ï¼Œæ°å¥½ç­‰äºŽå®ƒæœ¬èº«// æ¯”å¦‚ 6 = 1 + 2 + 3 æ˜¯å®Œç¾Žæ•°; 8 != 1 + 2 + 4 ä¸æ˜¯å®Œç¾Žæ•°// &#123; let num = 6; function isPerfect() &#123; return aliquotSum() === num; &#125; function isFactor(potential) &#123; return num % potential === 0; &#125; function getFactors() &#123; const arr = []; arr.push(1); arr.push(num); for (let i= 2; i&lt; num; i++) &#123; if (isFactor(i)) arr.push(i); &#125; return arr; &#125; function aliquotSum() &#123; let sum = 0; const factors = getFactors(num); for (let i= 0; i&lt; factors.length; i++) &#123; sum += factors[i]; &#125; sum -= num; return sum; &#125; const result = isPerfect(); console.log(result);&#125;// å‘å‡½æ•°å¼é æ‹¢// 1. å°† num å˜ä¸ºä¼ å‚ è€Œä¸æ˜¯å¤–éƒ¨çŠ¶æ€// 2. ä½¿å¾—æ‰€æœ‰æ–¹æ³•éƒ½å˜ä¸ºçº¯å‡½æ•°// 3. çœŸå› å­ç›¸åŠ æ”¹ä¸ºå‡½æ•°å¼å†™æ³•&#123; function isPerfect(num) &#123; return aliquotSum(num) === num; &#125; function isFactor(num, potential) &#123; return num % potential === 0; &#125; function getFactors(num) &#123; return Array.from(Array(num), (item, i)=&gt; i) .filter(v=&gt; isFactor(num, v)); &#125; function aliquotSum(num) &#123; let sum = 0; const factors = getFactors(num); for (let i= 0; i&lt; factors.length; i++) &#123; sum += factors[i]; &#125; return sum; &#125; const result = isPerfect(6); console.log(result);&#125;// ç©¶æžç‰ˆ&#123; const aliquotSum = num=&gt; Array.from(Array(num), (item, i)=&gt; i) .filter(item=&gt; num % item === 0) .reduce((cur, next)=&gt; cur += next); function isPerfect(num) &#123; return aliquotSum(num) === num; &#125; const result = isPerfect(6); console.log(result);&#125; ä¸Šé¢éƒ½æ˜¯æ¯”è¾ƒå°çš„å·¥å…·demoï¼ŒåŸºæœ¬ä¸Šä¸åŒ…å«Effectsï¼Œä½†æ˜¯å®žé™…ä¸Šé¡¹ç›®å……æ–¥ä¸€å †ä¸šåŠ¡é€»è¾‘(Effects)ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼šå€ŸåŠ©ä¸€äº›å·¥å…·/åº“æ¥å®žçŽ°,æ¯”å¦‚ ramda.jså’Œrx.jsã€‚ rxJs å®˜ç½‘çš„æè¿°æ˜¯ Reactive Extensions Library for JavaScriptç®€å•æ¥è¯´RxJSå°±æ˜¯è¾…åŠ©æˆ‘ä»¬å†™å‡ºå‡½æ•°å¼å“åº”å¼ä»£ç çš„ä¸€ç§å·¥å…·ã€‚ æˆ‘ä»¬çŽ°åœ¨æ¥å®žçŽ°ä¸€ä¸ªåŠŸèƒ½ï¼Œé¡µé¢ä¸Šæœ‰ä¸€ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»ä¹‹åŽè¾“å‡ºè®¡æ•°1234567891011121314151617181920212223// æ™®é€šç‰ˆæœ¬&#123; let count = 0; const button = document.querySelector('#button'); button.addEventListener('click', ()=&gt; &#123; count += 1; // ç”¨åˆ°å¤–éƒ¨å˜é‡ console.log(`clicked!$&#123;count&#125; times`); &#125;);&#125;// RxJsç‰ˆæœ¬&#123; const &#123; fromEvent, operators: &#123; scan, &#125; &#125; = rxjs; const button = document.querySelector('#button'); fromEvent(button, 'click') .pipe( // scan éšç€æ—¶é—´çš„æŽ¨ç§»è¿›è¡Œå½’å¹¶ã€‚ scan((count)=&gt; count+ 1, 0) ) .subscribe(count=&gt; console.log(`clicked! $&#123;count&#125; times`));&#125; èŠ‚æµå’Œç´¯åŠ ç‚¹å‡»åæ ‡1234567891011121314151617181920212223242526&#123; let count = 0; const button = document.querySelector('#button'); const rate = 1000; let lastClick = Date.now() - rate; button.addEventListener('click', (e)=&gt; &#123; if (Date.now() - lastClick &gt;= rate) &#123; count += e.clientX; console.log(`clicked!$&#123;count&#125; times`); lastClick = Date.now(); &#125; &#125;);&#125;&#123; const &#123; fromEvent, operators: &#123; scan, throttleTime, map &#125; &#125; = rxjs; const button = document.querySelector('#button'); fromEvent(button, 'click') .pipe( throttleTime(1000), map(e=&gt; e.clientX), scan((count, clientX)=&gt; count+ clientX, 0) ) .subscribe(count=&gt; console.log(`clicked! $&#123;count&#125; times`));&#125; æŽ¥ä¸‹æ¥æˆ‘ä»¬ç”¨Ramda.jsæ¥å®žçŽ°ä¸€ä¸ªé¡µé¢ï¼ŒèŽ·å–æŸä¸ªå…³é”®å­—å›¾ç‰‡ï¼Œå¹¶å±•ç¤ºå‡ºæ¥ã€‚Ramdaä¸»è¦å¸®å¿™å®žçŽ°ä¸€äº› curry, compose ç­‰åŠŸèƒ½ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546requirejs.config(&#123; paths: &#123; ramda: 'https://cdnjs.cloudflare.com/ajax/libs/ramda/0.13.0/ramda.min', jquery: 'https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min' &#125;&#125;);require([ 'ramda', 'jquery' ], function (_, $) &#123; // æˆ‘ä»¬æŠŠä¸çº¯çš„EffectsæŠ½å‡ºæ¥ const Impure = &#123; getJSON: _.curry((callback, url)=&gt; $.getJSON(url, callback)), setHtml: _.curry((sel, html)=&gt; $(sel).html(html)), &#125;; // ä¼ å…¥url ç”Ÿæˆ img dom const img = function(url) &#123; return $('&lt;img /&gt;', &#123; src: url &#125;); &#125;; // èŽ·å–ä¼ å…¥å‚æ•°çš„ media å±žæ€§ï¼Œä»¥åŠèŽ·å– mediaå±žæ€§ä¸Šçš„ mã€‚ ç­‰ä»·äºŽ arg.media.m const mediaUrl = _.compose(_.prop('m'), _.prop('media')); // èŽ·å–ä¼ å…¥å‚æ•°çš„ item å±žæ€§ï¼Œä»¥åŠå¯¹æ¯ä¸ªitemæ‰§è¡Œ mediaUrl å‡½æ•° const srcs = _.compose(_.map(mediaUrl), _.prop('items')); // æŠŠimgå’Œsrcså‡½æ•°æ•´åˆèµ·æ¥ const images = _.compose(_.map(img), srcs); const url = term=&gt; `https://api.flickr.com/services/feeds/photos_public.gne ?tags=$&#123;term&#125;&amp;format=json&amp;jsoncallback=?`; // æŠŠimgesèŽ·å–åˆ°çš„å‚æ•°ä¼ ç»™ Impure.setHtml('body'); const renderImages = _.compose(Impure.setHtml('body'), images); // æŠŠæ‰€æœ‰å°å‡½æ•°æ•´åˆæˆä¸€ä¸ªå¤§çš„å‡½æ•°ï¼Œæˆ‘ä»¬åªéœ€è¦ç»™è¿™ä¸ªappå–‚æ•°æ®å³å¯ const app = _.compose(Impure.getJSON(renderImages), url); app('cat');&#125;); ä¼˜åŒ–1234567891011// old const mediaUrl = _.compose(_.prop('m'), _.prop('media')); const srcs = _.compose(_.map(mediaUrl), _.prop('items')); const images = _.compose(_.map(img), srcs); // new const mediaUrl = _.compose(_.prop('m'), _.prop('media')); const images = _.compose(_.map(img), _.map(mediaUrl), _.prop('items')); å†ä¼˜åŒ–1const images = _.compose(_.map(_.compose(img, mediaUrl)), _.prop('items')); å‡½æ•°å¼å’Œé¢å‘å¯¹è±¡å¯¹æ¯”é¢å‘å¯¹è±¡ç¼–ç¨‹æ€æƒ³ï¼Œå°è£… ç»§æ‰¿ å¤šæ€ã€‚ æŠŠçŠ¶æ€çš„æ”¹å˜å°è£…èµ·æ¥ï¼Œè®©ä»£ç æ›´åŠ æ¸…æ™°ï¼Œé€šè¿‡ç±»ä¸Žç»§æ‰¿åŽ»å¤„ç†å…³è”å…³ç³»ã€‚ä½†æ˜¯ä¼šå……æ»¡å…¬ç”¨å˜é‡ï¼Œthisï¼Œbindç­‰ã€‚ é¢å‘å¯¹è±¡ç›®å‰æ›´åŠ å¹¿æ³›ï¼Œè€Œä¸”æ›´å®¹æ˜“è¢«æŽ¥å—ï¼Œå†™èµ·æ¥æ›´å®¹æ˜“ï¼Œä½†å¯èƒ½ä¼šæœ‰æ›´å¤šå†—ä½™çš„ä»£ç ï¼Œæ†ç»‘äº†å¾ˆå¤šçŠ¶æ€ï¼Œå…¸åž‹çš„é—®é¢˜æ˜¯ ä½ åªéœ€è¦ä¸€ä¸ªé¦™è•‰ï¼Œä½†æ˜¯å´å¾—åˆ°ä¸€ä¸ªæ‹¿ç€é¦™è•‰çš„å¤§çŒ©çŒ©ä»¥åŠæ•´ä¸ªä¸›æž—ã€‚ å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ï¼Œå°½é‡å‡å°‘ä¸ç¡®å®šå› ç´ ï¼Œæ¥è®©ä»£ç æ›´åŠ æ¸…æ™°å¥ç¡•ã€‚ æ¯ä¸ªå‡½æ•°éƒ½ä¸è¦åŽ»ä¿®æ”¹åŽŸæœ‰çš„æ•°æ®ï¼Œè€Œæ˜¯é€šè¿‡äº§ç”Ÿæ–°çš„æ•°æ®æ¥åšä¸ºè¿ç®—ç»“æžœï¼Œè¿™ä¹Ÿæ„å‘³ç€å‡½æ•°å¼æ¯”è¾ƒè€—èµ„æºï¼Œæ‰€ä»¥åœ¨è®¡ç®—æœºçŸ³å™¨æ—¶ä»£å¹¶ä¸æµè¡Œã€‚ ç®€å•æ¥è¯´å°±æ˜¯å¾ˆå¤šå°çš„çº¯å‡½æ•°ï¼Œä¸€ä¸ªå°å‡½æ•°åªåšä¸€äº›äº‹æƒ…ï¼Œç„¶åŽç”¨è¿™äº›å°å‡½æ•°æ¥ç»„ç»‡æˆæ›´å¤§çš„å‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°ä¸Žè¿”å›žå€¼ä¹Ÿå¤§éƒ¨åˆ†éƒ½æ˜¯å‡½æ•°ã€‚æœ€åŽèƒ½å¾—åˆ°ä¸€ä¸ªè¶…çº§ç‰›é€¼çš„å‡½æ•°ï¼Œæˆ‘ä»¬åªè¦æŠŠæ•°æ®ç»™ä»–ï¼Œå°±å¯ä»¥äº†ã€‚ å‡½æ•°å¼ç®€æ´ï¼Œæ¸…æ™°å¯å¤ç”¨æ€§é«˜ï¼Œå‡ºé”™å‡ çŽ‡æ›´å°ã€‚ä½†æ˜¯ä¸€å¼€å§‹æ€ç»´å¾ˆéš¾ä»Žé¢å‘å¯¹è±¡æˆ–å‘½ä»¤å¼è½¬æ¢è¿‡æ¥ï¼Œå¾€å¾€ä¹Ÿéœ€è¦å€ŸåŠ©ä¸€äº›å·¥å…·åº“æ¥ç¼–å†™ã€‚ ç»“è¯­è¿™é‡Œåªæäº†å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€äº›æ€æƒ³ï¼Œä½†æ˜¯çœŸæ­£å‡½æ•°å¼å¼€å‘è¿˜åŒ…å«å¾ˆå¤šå…¶ä»–è¦å­¦çš„ã€‚æ¯”å¦‚æˆ‘ä»¬ç”¨åˆ°çš„æŸ¯é‡ŒåŒ–curryè¿˜æœ‰ä»£ç ç»„åˆcomposeç­‰ï¼Œå…‰RxJsæä¾›çš„apiå°±æœ‰179ä¸ªä¹‹å¤šâ€¦ å†è€…ä¸çŸ¥é“æ˜¯ä¸æ˜¯å¯¹å‡½æ•°å¼çš„ç†è§£ä¸å¤Ÿé€å½»ï¼Œæœ‰è¯•è¿‡æŸä¸ªéœ€æ±‚ç”¨å‡½æ•°å¼çš„æ€æƒ³åŽ»å†™ï¼Œä½†æ˜¯æœ‰ç‚¹å¥½åƒç¡¬æŽ°çš„æ ·å­ï¼Œå†™çš„æœ‰ç‚¹ä¸ä¼¦ä¸ç±»â€¦.æ‰€ä»¥çŽ°åœ¨åªæ˜¯å¸æ”¶ä¸€äº›å‡½æ•°å¼çš„æ€æƒ³ï¼ˆæ¯”å¦‚çº¯å‡½æ•°å‡å°‘ä¸ç¡®å®šæ€§ï¼‰ï¼Œä½†æ˜¯å¹³æ—¶å·¥ä½œä¸ä¼šå¾ˆåˆ»æ„å…¨éƒ¨éƒ½ç”¨å‡½æ•°å¼åŽ»å†™ã€‚åªæ˜¯å½“æˆä¸€ä¸ªå¯ä»¥æ‰©å±•çš„çŸ¥è¯†é¢ï¼ŒåŽé¢å¦‚æžœå‡½æ•°å¼çœŸçš„åœ¨å‰ç«¯æµè¡Œèµ·æ¥ï¼Œå†ä¸Šæ‰‹ä¹Ÿä¸è¿Ÿã€‚ é¡ºè·¯æ„Ÿæ…¨JSçš„çµæ´»æ€§ï¼Œæ—¢æœ‰ES6é¢å‘å¯¹è±¡çš„ç‰¹æ€§classä¹Ÿæœ‰ES5çš„ filterã€mapã€reduceï¼Œä»¥åŠES.Nextçš„è£…é¥°å™¨(Decorator)ç­‰å‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹æ€§ã€‚ æœ€åŽå†ç»™å‡ºå‚è€ƒçš„ä»¥åŠå­¦ä¹ è¿‡ç¨‹çœ‹åˆ°çš„ä¸€äº›ä¸é”™çš„ä¹¦ç±å’Œæ–‡ç« : JS å‡½æ•°å¼ç¼–ç¨‹æŒ‡å—æ·±å…¥æµ…å‡ºRxjså‡½æ•°å¼ç¼–ç¨‹æ€ç»´å‘½ä»¤å¼ã€å£°æ˜Žå¼ã€é¢å‘å¯¹è±¡ã€å‡½æ•°å¼ã€æŽ§åˆ¶åè½¬ä¹‹åŽå±±è®ºå‰‘ï¼ˆä¸Šï¼‰RxJs å“åº”å¼ä»£ç åº“Ramda å‡½æ•°å¼å·¥å…·åº“Haskell çº¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹æ€ç»´å‡½æ•°å¼ç¼–ç¨‹æœ¯è¯­è§£æž]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸€é“èµ‹å€¼é¢è¯•é¢˜å¼•å‘çš„æ€è€ƒ]]></title>
    <url>%2F2018%2F07%2Fcircular-reference%2F</url>
    <content type="text"><![CDATA[æœ¬ç¯‡ä¸»è¦è¯´ä¸€äº›åŸºç¡€çŸ¥è¯†ç‚¹ï¼Œå…³äºŽå¤šé¡¹èµ‹å€¼é¡ºåºï¼Œå¯¹è±¡å¼•ç”¨ç­‰ï¼ŒæœŸé—´æ’å…¥ä¸€ç‚¹es6åªæ˜¯ä»¥åŠè§£å†³é—®é¢˜çš„æ€è·¯ã€‚ å¼€å¤´å…ˆæ¥åšä¸€é“é¢è¯•é¢˜ part112345var a=&#123;n:1&#125;;var b=a;a.x=a=&#123;n:2&#125;;console.log(a.x);console.log(b.x); æœ€åŽè¾“å‡ºçš„æ˜¯ä»€ä¹ˆï¼Ÿ å…ˆä¸è¯´ç­”æ¡ˆï¼Œæˆ‘ä»¬æ¥åˆ†æžä¸€ä¸‹ L2(ç¬¬äºŒè¡Œ) æˆ‘ä»¬æŠŠaèµ‹å€¼ç»™bï¼Œ ç”±äºŽaæ˜¯å¯¹è±¡ç±»åž‹ï¼Œè¿™å°±æ„å‘³ç€bå’ŒaæŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ L3 a.x = a = { n: 2} è¿™é‡Œæˆ‘ä»¬æœ‰ä¸ªç–‘æƒ‘ï¼Œè¿™å¥è¯­å¥æ‰§è¡Œé¡ºåºæ˜¯ a = {n: 2} &amp;&amp; a.x = {n:2} è¿˜æ˜¯ a.x = {n:2} &amp;&amp; a= {n:2} è¿˜æ˜¯è¿™ç§ a = {n: 2} &amp;&amp; a.x = a æˆ‘ä»¬è¿™é‡Œå¯ä»¥å€ŸåŠ© Object.defineProperty æˆ– ES6çš„ Proxyæ¥éªŒè¯å¤šé¡¹èµ‹å€¼çš„é¡ºåºæ˜¯æ€Žæ ·çš„ 123456789101112131415const obj = new Proxy(&#123;&#125;, &#123; set(target, key, value, r) &#123; console.log(key, value) if (key === 'a') Reflect.set(target, key, 'isA', r); else Reflect.set(target, key, value, r); &#125;&#125;);obj.b = obj.a= &#123;n: 1&#125;;// è¾“å‡º:// "a" &#123;n: 1&#125;// "b" &#123;n: 1&#125;obj.a; // isAobj.b; // &#123;n: 1&#125; æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾—å‡º èµ‹å€¼çš„é¡ºåºæ˜¯ä»Žå³è¾¹å¼€å§‹åˆ°å·¦è¾¹çš„ã€‚è€Œä¸”æ˜¯ç›´æŽ¥ a = {n: 1}, a.x = {n:1 }ï¼Œè€Œä¸æ˜¯ a.x = a è¿™æ ·åŽ»èµ‹å€¼ çŽ°åœ¨æˆ‘ä»¬å†å€ŸåŠ© Proxy æ¥åˆ†æžä¸€å¼€å§‹part1è¿™é“é¢˜ï¼Œç”¨obj.a, obj.b æ¥ä»£æ›¿åŽŸé¢˜ç›®çš„ aå’Œbã€‚ 1234567891011121314var obj = new Proxy(&#123;&#125;, &#123; get: function (target, key, receiver) &#123; console.log(`getting $&#123;key&#125;!`); return Reflect.get(target, key, receiver); &#125;, set: function (target, key, value, receiver) &#123; console.log(`setting $&#123;key&#125;!`); return Reflect.set(target, key, value, receiver); &#125;&#125;);obj.a = &#123;n: 1 &#125;;// getting a;obj.b = obj.a; // getting a; setting b;obj.a.x = obj.a = &#123;n:2 &#125;; // getting a; setting a; å¯ä»¥çœ‹åˆ° obj.a.x = obj.a = {n: 2}è¿™æ®µè¯­å¥æ‰§è¡Œæ—¶ï¼Œä¼šå…ˆè¾“å‡ºä¸€ä¸ª getting a å†è¾“å‡º setting aã€‚è¿™å°±æ„å‘³ç€åœ¨å¯¹ obj.a.x èµ‹å€¼æ—¶ï¼Œç¨‹åºæ˜¯å…ˆèŽ·å– obj.aæŒ‡å‘çš„å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œæ­¤æ—¶è§¦å‘äº† getting aï¼Œç„¶åŽå†å¯¹å³è¾¹ obj.a è¿›è¡Œèµ‹å€¼ï¼Œè§¦å‘äº† setting aï¼Œ èµ‹å€¼å®Œæœ€åŽä¸€æ­¥æ‰æ˜¯å¯¹ obj.a.xèµ‹å€¼ {n:2 }ã€‚ é‡ç‚¹: åœ¨å¯¹obj.a.xèµ‹å€¼çš„æ—¶åˆ»å·²ç»èŽ·å–äº†obj.aè¯¥å¯¹è±¡æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œæ‰€ä»¥åŽé¢aå°±ç®—æŒ‡å‘å…¶ä»–åœ°å€ï¼Œä¹Ÿå’Œè¿™é‡Œçš„obj.a.xæ— å…³ã€‚æ­¤æ—¶æŒ‡å‘è¯¥åœ°å€çš„è¿˜æœ‰obj.b æˆ‘ä»¬å†ç”¨ä¸‰å¼ å›¾æ¥æ‹ä¸€æ‹æ•´ç†çš„æ€è·¯ æ‰§è¡Œ obj.a = {n: 1}; obj.b = obj.aåŽobjå¯¹åº”çš„å¼•ç”¨æ˜¯è¿™æ ·çš„ æ‰§è¡Œ obj.a.x = xxx æ—¶ æ‰§è¡Œobj.a.x = obj.a = {n:2} åŽ è‡³æ­¤ï¼Œè¿™é“é¢è¯•é¢˜ç›¸ä¿¡å¤§å®¶éƒ½æœ‰ç­”æ¡ˆäº†ï¼Œå¯ä»¥è‡ªå·±åŽ»æŽ§åˆ¶å°éªŒè¯ä¸€ä¸‹ã€‚ å‡å¦‚è¿™æ—¶å€™å†æ‰§è¡Œ obj.a.n = 3ï¼Œ æ‰“å°obj.bä¼šè¾“å‡ºä»€ä¹ˆå‘¢ï¼Ÿ part2æŽ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹å¦ä¸€é“é¢˜ï¼Œå…³äºŽå¯¹è±¡å¾ªçŽ¯å¼•ç”¨çš„ 12var a = &#123; n: 1&#125;a.b = a; è¿™é‡Œçš„aæ˜Žæ˜¾æ˜¯å¾ªçŽ¯å¼•ç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦æ€Žæ ·æ‰èƒ½åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯å¾ªçŽ¯å¼•ç”¨å‘¢ï¼Ÿ å…¶å®žè¿™é“é¢˜æˆ‘ä¸€å¼€å§‹é™¤äº†é€’å½’åˆ¤æ–­å¤–æ²¡æœ‰å¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆï¼ŒåŽé¢æ˜¯ç¾¤é‡Œä¸€ä¸ªå«è¯è´¹çš„å¤§ä½¬è¯´(è¿™é“é¢˜ä¹Ÿæ˜¯ä»–å‡ºçš„)ç›´æŽ¥ç”¨ JSON.stringifyï¼Œå¾®ä¿¡å°æ¸¸æˆçš„æºç é‡Œé¢å°±æ˜¯è¿™ä¹ˆåŽ»åˆ¤æ–­ã€‚ JSON.stringify å¦‚æžœé‡åˆ°å‚æ•°é‡Œæœ‰å¾ªçŽ¯å¼•ç”¨çš„ï¼Œå°±ä¼šæŠ›å‡ºä¸€ä¸ªå¾ªçŽ¯è°ƒç”¨çš„é”™è¯¯ Uncaught TypeError: Converting circular structure to JSON é‚£å¦‚æžœä¸ç”¨JSON.stringifyæˆ–è€…æƒ³è¦è‡ªå·±å®žçŽ°ä¸€ä¸ªåŽ»æ£€æµ‹å¾ªçŽ¯è°ƒç”¨ï¼Œè¯¥æ€Žä¹ˆå†™å‘¢ï¼Ÿï¼ˆé¢è¯•å®˜å’Œéƒ¨é—¨å‰ç«¯leaderæœ€å–œæ¬¢è¿™ä¹ˆé—®ï¼‰ ä¸€èˆ¬é‡åˆ°è¿™ç§ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯åŽ»æ‰¾è¿™ä¸ªæ–¹æ³•çš„ polyfillï¼Œ json3ã€‚æˆ‘æ‰¾çš„æ˜¯ json3çš„ polyfill é‡Œé¢å¤§æ¦‚æ˜¯éåŽ†å¯¹è±¡å­˜åˆ°stackæ•°ç»„ï¼Œå†åœ¨è§£æžçš„æ—¶å€™åŽ»åˆ¤æ–­æ˜¯å¦æœ‰å¾ªçŽ¯å¼•ç”¨çš„æƒ…å†µã€‚ json3.js#L482 ç…§ç€ä»–çš„æ€è·¯å¤§æ¦‚å†™äº†ä¸€ä¸ªï¼Œå…¶å®žå°±æ˜¯å‰é¢è¯´åˆ°çš„ç®€å•é€’å½’åˆ¤æ–­123456789101112var stack = [];function fn(obj) &#123; var len; for (len = stack.length; len--;) &#123; if (stack[len] === obj) throw TypeError() &#125; stack.push(obj); for (let k in obj) &#123; const value = obj[k] if (typeof value === 'object') fn(value); &#125;&#125; ç¬¬ä¸€æ¬¡è®²å…³äºŽè¯­è¨€çŸ¥è¯†ç‚¹çš„ï¼Œå¦‚æžœå‘çŽ°æœ‰é”™è¯¯çš„åœ°æ–¹ æ¬¢è¿ŽæŒ‡å‡º~æœ€åŽè°¢è°¢æƒ é¡¾ï¼Œè¯·ç¬‘çº³]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§†é¢‘è½¬å­—ç¬¦ç”»]]></title>
    <url>%2F2018%2F07%2Fvideo-to-chat%2F</url>
    <content type="text"><![CDATA[å…ˆçœ‹ä¸€ä¸‹æ•ˆæžœï¼ŒåŽŸè§†é¢‘æ˜¯è¿™æ ·çš„ æˆ‘ä»¬è¦å®žçŽ°çš„æ•ˆæžœæ˜¯è¿™æ ·å­çš„ï¼Œä¹‹æ‰€ä»¥æ‰¾è¿™ä¸ªè§†é¢‘æ˜¯å› ä¸ºâ€¦è¿™ä¸ªè§†é¢‘å’ŒèƒŒæ™¯çš„å¯¹æ¯”åº¦æ¯”è¾ƒé«˜åšå‡ºæ¥æ¯”è¾ƒæœ‰è¾¨è¯†åº¦ï¼Œæ²¡æœ‰å…¶ä»–çš„æ„æ€ ( *ãƒ»Ï‰ãƒ»)âœ„â•°ã²â•¯ èµ·å› æŸå¤©ä¸€ä¸ªåŸºå‹åœ¨ç¾¤é‡Œé—®æˆ‘ï¼Œåœ¨æŠ–éŸ³çœ‹åˆ°ä¸€ç§è§†é¢‘ï¼Œé—®æˆ‘æ˜¯ä¸æ˜¯èƒ½å®žçŽ°ã€‚æˆ‘è¯´å¯ä»¥çš„~äºŽæ˜¯å½“å¤©æ™šä¸ŠèŠ±äº†ä¸€ä¸ªå¤šå°æ—¶æŠ˜è…¾äº†ä¸€ä¸ªç²—ç³™ç‰ˆæœ¬â€¦ å…ˆæŠŠè§†é¢‘ä¸¢åˆ°éƒ¨é—¨æŠ€æœ¯ç¾¤é—®æœ‰æ²¡æœ‰å…³é”®å­—ï¼Œç»™äº†ä¸€ä¸ªkeyword å›¾ç‰‡è½¬å­—ç¬¦ä¸² äºŽæ˜¯ç…§ç€è¿™ä¸ªæ€è·¯åŽ»gayhubæ‰¾èµ„æºæ‹¼ä¹é«˜ï¼ æ•´ä½“æ€è·¯ ç¬¬ä¸€æ­¥æˆ‘ä»¬é€šè¿‡ input[type=&quot;file&quot;] èŽ·å–æ–‡ä»¶ æ‹¿åˆ°æ–‡ä»¶ä¹‹åŽï¼Œç”¨ URL.createObjectURLæ¥èŽ·å–è§†é¢‘çš„è·¯å¾„ é€šè¿‡ ctx.drawImage æˆ‘ä»¬å¯ä»¥æŠŠæŸä¸ª video å½“å‰çš„å›¾åƒæ¸²æŸ“åˆ° canvasé‡Œé¢ ctx.getImageData å¯ä»¥èŽ·å–å½“å‰canvas é‡Œé¢å›¾ç‰‡çš„è‰²å€¼ï¼Œåˆ©ç”¨å…¬å¼è®¡ç®—å‡ºç°åº¦ æ ¹æ®ç°åº¦çš„æ·±æµ…åŽ»åŒ¹é…è¦æ˜¾ç¤ºçš„å­—ç¬¦ï¼Œæ·±è‰²åŒ¹é…æ¯”è¾ƒå¯†é›†çš„å­—ç¬¦ï¼Œæœ€æµ…çš„ç›´æŽ¥ç”¨ç©ºæ ¼ä»£æ›¿ï¼Œç„¶åŽç”¨ ctx.fillTexté‡ç»˜è¿›åŽ» è®¾ç½® video.currentTime æ¥èŽ·å¾—è§†é¢‘çš„æŸä¸€æ—¶åˆ»å›¾åƒï¼Œé‡å¤ä¸Šè¿°é‡ç»˜è¿‡ç¨‹ æ—¢ç„¶å¤§æ¦‚çš„æ€è·¯å·²ç»ç†æ¸…ï¼ŒæŽ¥ä¸‹æ¥å°±æ˜¯å…·ä½“çš„ç¼–ç ï¼ŒæŠŠæƒ³æ³•å†™å‡ºæ¥çš„è¿‡ç¨‹ å…·ä½“ç¼–ç å®žçŽ°èŽ·å–è§†é¢‘æ–‡ä»¶é¦–å…ˆæˆ‘ä»¬å…ˆç¡®å®šä¸‹htmléœ€è¦å“ªäº›å…ƒç´  ä¸€ä¸ª input[type=â€fileâ€] ç”¨æ¥ç»™ç”¨æˆ·ä¸Šä¼ çš„ ä¸€ä¸ª video ç”¨æ¥æ‰¿è½½ä¸Šä¼ çš„video ä¸€ä¸ª canvas ç”¨æ¥å±•ç¤ºæœ€ç»ˆçš„ç»“æžœ å¤§æ¦‚æ˜¯é•¿è¿™æ ·ï¼šindex.html123&lt;input type="file" id="inputFile" accept=".mp4" /&gt;&lt;canvas id="canvasShow"&gt;&lt;/canvas&gt;&lt;video id="video"&gt;&lt;/video&gt; æŽ¥ä¸‹æ¥jsæ–‡ä»¶ï¼Œæˆ‘ä»¬è¦å…ˆå¯¹ input ç»‘å®šä¸ªç›‘å¬äº‹ä»¶ï¼Œæ‹¿åˆ°æ–‡ä»¶urlä¹‹åŽè®¾ç½®ç»™videoè¿™é‡Œè¦æ³¨æ„ä¸¤ç‚¹ï¼Œä¸€ä¸ªæ˜¯ urlç”¨å®Œä¸ç”¨çš„è¯ï¼Œç”¨ URL.revokeObjectURL é‡Šæ”¾èµ„æºï¼› ä¸€ä¸ªæ˜¯æˆ‘ä»¬è¿™é‡Œç”¨äº† await åœ¨domVide.onCanplayä¹‹å‰ä¸åšä»»ä½•æ“ä½œï¼Œé˜²æ­¢è§†é¢‘æ²¡æœ‰åŠ è½½å®Œå°±æ“ä½œï¼Œæœ‰é»‘å±é£Žé™©ã€‚ å¦‚æžœå¯¹ es6ã€es7ã€es8ä¸ç†Ÿæ‚‰çš„å°ä¼™ä¼´è¦åŽ»è¡¥ä¸€ä¸‹äº†~ çŽ°åœ¨åŸºæœ¬ä¸ä¼šè¿™äº›åŸºæœ¬è¯­æ³•éƒ½çœ‹ä¸æ‡‚demo= =é™„ä¸Šé˜®ä¸€å³°è€å¸ˆçš„ES6æ•™ç¨‹ï¼Œåˆæƒ³èµ·é¢è¯•è¢«é—®ES7æœ‰ä»€ä¹ˆæ–°ç‰¹æ€§ ç®€ç›´æ˜¯*äº†ç‹—index.js1234567domInput.addEventListener('change', async(&#123;target: &#123;files &#125;&#125;)=&gt; &#123; const file = files[0]; const url = URL.createObjectURL(file); domVideo.src = urlrl; await new Promise(res=&gt; domVideo.addEventListener('canplay', res)); // next ====&gt; handleVideoInit()&#125;); å°†è§†é¢‘æ¸²æŸ“åˆ°canvasæ‹¿åˆ°è§†é¢‘ä¹‹åŽï¼Œæˆ‘ä»¬è¦æŠŠå½“å‰è¿™ä¸€ä¸ªæ—¶åˆ»çš„å›¾åƒæ¸²æŸ“åˆ°canvasé‡Œé¢å…ˆç”¨ctx.drawImage(video, 0, 0, width, height) æŠŠvideo domå½“å‰å±æ¸²æŸ“è¿›canvaså†ç”¨ctx.getImageData(0, 0, width, height) èŽ·å–å›¾ç‰‡çš„è‰²å€¼æ¥åšå¤„ç†å¯ä»¥é€šè¿‡è°ƒæ•´ img2Text æ¥é€‰æ‹©æ¸²æŸ“å‡ºæ¥çš„å›¾ç‰‡æ˜¯æƒ³è¦æ€Žæ ·çš„(ç”±å“ªäº›å­—ç¬¦ç»„æˆç­‰ç­‰)æ¯”å¦‚æŠŠ textListæ”¹ä¸º [â€˜Aaâ€™, â€˜Bvâ€™, â€˜Ccâ€™, â€˜Ddâ€™, â€˜#â€™, â€˜&amp;â€™, â€˜@â€™, â€˜$â€™, â€˜*â€™, â€˜?â€™, â€˜;â€™, â€˜^â€™, â€˜Â·â€™, â€˜Â·â€™, â€˜Â·â€™, â€˜Â·â€™]ï¼Œè¾¨è¯†åº¦ä¼šé«˜ä¸€ç‚¹ index.js handleVideoInit123456789101112131415161718192021222324252627282930313233343536/*domVide =&gt; videoå…ƒç´ size =&gt; å­˜æ”¾videoç­‰å…ƒç´ çš„é•¿å®½canvasVideo =&gt; å­˜æ”¾videoå½“å‰çš„å›¾åƒçš„canvascanvasShow =&gt; å­˜æ”¾æœ€åŽå±•ç¤ºæ•ˆæžœçš„canvas*/const size = &#123;w: 0, h: 0&#125;;const canvasVideo = document.createElement('canvas');function handleVideoInit() &#123; domVideo.currentTime = 0; size.w = domVideo.width = canvasVideo.width = canvasShow.width = domVideo.videoWidth * .5; size.h = domVideo.height = canvasVideo.height = canvasShow.height = domVideo.videoHeight * .5; video2Img();&#125;function video2Img() &#123; const &#123; w, h &#125; = size; ctxVideo.drawImage(domVideo, 0, 0, w, h); const &#123; data &#125; = ctxVideo.getImageData(0, 0, w, h); ctxShow.clearRect(0, 0, w, h); for (let _h= 0; _h&lt; h; _h+= 8) &#123; for (let _w= 0; _w&lt; w; _w+= 8) &#123; const index = (_w + w * _h) * 4; const r = data[index + 0]; const g = data[index + 1]; const b = data[index + 2]; const gray = .299 * r + .587 * g + .114 * b; ctxShow.fillText(img2Text(gray), _w, _h + 8); &#125; &#125;&#125;function img2Text(g) &#123; const i = g % 16 === 0 ? parseInt(g / 16) - 1 : parseInt(g/ 16); return ['#', '&amp;', '@', '%', '$', 'w', '*', '+', 'o', '?', '!', ';', '^', ',', '.', ' '][i];&#125; åˆ°è¿™ä¸€æ­¥ï¼Œå…¶å®žå·²ç»å®žçŽ°äº†æŠŠä¸€å¼ å›¾ç‰‡å˜ä¸ºå­—ç¬¦å¡«å……å›¾äº†,å‰©ä¸‹çš„å·¥ä½œæ— éžå°±æ˜¯æŠŠè§†é¢‘å˜æˆä¸€å¼ å¼ çš„å›¾ç‰‡ï¼Œç„¶åŽé‡å¤æ‰§è¡Œè¿™äº›é€»è¾‘ æŒç»­è°ƒç”¨æ¸²æŸ“å­—ç¬¦è§†é¢‘æˆ‘ä»¬æ”¹ä¸€ä¸‹ video2Img å‡½æ•°ï¼Œå°†å…¶å®žçŽ°ä¸ºèƒ½æŒç»­è°ƒç”¨çš„å½¢å¼ï¼Œ å†æ·»åŠ ä¸€ä¸ªå‡½æ•° clear ç”¨æ¥æ¸…ç†åžƒåœ¾ è¿™é‡Œç”¨åˆ°çš„æ˜¯ window.requestAnimationFrame åŽ»æŒç»­è°ƒç”¨index.js12345678910111213141516171819202122232425262728293031323334353637383940414243444546function video2Img(&#123; timePoint= 0, curT= Date.now(), prevT= Date.now(), prevInterval,&#125;) &#123; const &#123; w, h &#125; = size; ctxVideo.drawImage(domVideo, 0, 0, w, h); drawOnce(); let _interval = Math.max((curT - prevT), 16) / 1000; if (curT - prevT !== 0) _interval -= prevInterval; await new Promise(res=&gt; setTimeout(res, _interval*1000)); const nextTimePoint = _interval + timePoint; if (nextTimePoint &gt; domVideo.duration) return clear(); tId = window.requestAnimationFrame(()=&gt; video2Img(&#123; timePoint: nextTimePoint, prevT: curT, curT: Date.now(), prevInterval: _interval, &#125;)); &#125;function drawOnce() &#123; const &#123; data &#125; = ctxVideo.getImageData(0, 0, w, h); ctxShow.clearRect(0, 0, w, h); for (let _h= 0; _h&lt; h; _h+= 8) &#123; for (let _w= 0; _w&lt; w; _w+= 8) &#123; const index = (_w + w * _h) * 4; const r = data[index + 0]; const g = data[index + 1]; const b = data[index + 2]; const gray = .299 * r + .587 * g + .114 * b; ctxShow.fillText(img2Text(gray), _w, _h + 8); &#125; &#125;&#125;function cleart() &#123; const &#123;w, h&#125; = size; lastUrl &amp;&amp; URL.revokeObjectURL(lastUrl); tId &amp;&amp; window.cancelAnimationFrame(tId); ctxShow.clearRect(0, 0, w, h); ctxVideo.clearRect(0, 0, w, h);&#125; æºç ä¸Ždemoè‡³æ­¤ï¼ŒåŠŸèƒ½åŸºæœ¬éƒ½å®žçŽ°äº†ï¼Œä¸‹é¢æä¾›åœ¨çº¿çš„å‘†æ¯›å’Œgithubä»“åº“åœ°å€~ åœ¨çº¿å‘†æ¯›github æºç videoè½¬å›¾ç‰‡å¿˜äº†æ˜¯åœ¨githubçœ‹å“ªä¸ªé¡¹ç›®çš„ï¼Œctx.drawImage(video, 0, 0, width, height)è¿™ä¸ªæ˜¯çœ‹å®Œæ‰çŸ¥é“çš„ã€‚ å›¾ç‰‡è½¬å­—ç¬¦åŸºæœ¬æ˜¯çœ‹è¿™ä¸ªå¤§å“¥çš„github åœ¨æ‰¾æ–¹æ¡ˆçš„æ—¶å€™çœ‹åˆ°çš„ä¸€ä¸ªåƒç´ å›¾å®žçŽ°ï¼ŒæŒºæœ‰è¶£çš„ï¼Œä»¥å‰å®žçŽ°é©¬èµ›å…‹æ˜¯æ‹¿å‘¨å›´åƒç´ å€¼å–å¹³å‡åŽ»åšï¼Œè¿™ä¸ªå“¥ä»¬æ˜¯ç›´æŽ¥æ”¾å¤§æˆªå›¾ æ›´ç®€å•ç²—æš´ä¼ é€é—¨]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>github</tag>
        <tag>JavaScript</tag>
        <tag>Canvas</tag>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2018-07-27 å°è®°]]></title>
    <url>%2F2018%2F07%2F2018-07-27%2F</url>
    <content type="text"><![CDATA[ä¸Šä¸€ç¯‡æ–‡å·²ç»æ˜¯ä¸€ä¸ªæœˆå‰çš„ï¼Œè¿˜æ˜¯æ”¹ä¸äº†æ‡’çš„ä¹ æƒ¯ ä¹ æƒ¯æ€§å¯¹æœ€è¿‘åšä¸€äº›æ€»ç»“ï¼Œå…³äºŽé¢è¯•ï¼Œå…³äºŽå·¥ä½œä¸Šï¼Œå…³äºŽæœ€è¿‘å­¦ä¹ çš„ä¸œè¥¿ã€‚ å…³äºŽé¢è¯•è®°å¾—ä»Žå››æœˆå°¾å°±ä¸€æ®µæ—¶é—´åŽ»é¢ä¸€æ¬¡ï¼ŒçŽ°åœ¨å·²ç»ç¡®å®šç»§ç»­ç•™åœ¨ç§Ÿç§Ÿè½¦ã€‚é¡ºè·¯æ£é¼“ä¸€äº›ä¸œè¥¿ï¼Œè€ƒè€ƒä¸“å‡æœ¬ã€‚ è‡ªè”æžä¹‹åŽé¢äº†å››å®¶ cvte é˜¿é‡Œå¤–åŒ… YY è½¦ä¸»æ— å¿§ cvtecvte æˆ‘éƒ½å¿˜äº†æœ‰æŠ•ä»–å…¬å¸ç®€åŽ†ï¼Œä¸€å¤©æ™šä¸Šçœ‹ä¹¦ï¼Œçªç„¶å°±æ¥äº†ä¸ªç”µè¯è¯´æ˜¯xxxxçš„xxxï¼Œæ¥è¿›è¡Œç”µè¯é¢è¯•ã€‚ç„¶åŽå°±ç¨€é‡Œç³Šæ¶‚èŠäº†åŠä¸ªå¤šå°æ—¶ï¼Œä¹‹åŽå°±è¯´ç­‰hrç”µè¯ã€‚ hrç”µè¯èŠäº†ä¸‹åŠ ç­æƒ…å†µï¼Œä¼ä¸šæ–‡åŒ–ï¼Œç¦åˆ©ç­‰ä¸œè¥¿ã€‚ å…¶å®žä¹‹å‰å°±ä¸€ç›´å¬è¯´cvteå¾ˆå°é—­ï¼Œåˆå¾ˆä¼ ç»Ÿï¼ŒåŠ ç­è´¼ç–¯ç‹‚ï¼Œä¼ä¸šæ–‡åŒ–åˆå¾ˆé‚£å•¥ï¼Œæ‰€ä»¥æ‰“å¿ƒé‡Œä¸ä¼šåŽ»é‚£é‡Œ æ‰€ä»¥hré¢çš„æ—¶å€™ï¼Œä¹Ÿæ²¡æœ‰æ€Žä¹ˆå›žç­”ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹æ˜¯cvteå±…ç„¶æ˜¯æ²¡æœ‰è–ªèµ„ä¿å¯†çš„ï¼Œæ‰€ä»¥æˆ‘å°±é¡ºè·¯é—®äº†hrçš„è–ªèµ„çœ‹æ˜¯ä¸æ˜¯çœŸçš„åƒä»–è¯´çš„ä¸€æ · è–ªèµ„å…è®¸è®¨è®ºã€‚ç»“æžœä¼°è®¡å› ä¸ºè¿™ä¸ªå¾—ç½ªäº†hr= =æ²¡æœ‰è¿‡hré¢ é˜¿é‡Œå¤–åŒ…é˜¿é‡Œå¤–åŒ…å…¶å®žæ˜¯æœ€æ„å¤–çš„ä¸€å®¶æ˜¯æ­¦æ±‰ä¸€å®¶å…¬å¸è”ç³»ä¸Šçš„ï¼Œè”ç³»ä¹‹åŽæƒ³ç€åŽ»è¯•ä¸€ä¸‹é˜¿é‡Œçš„é¢è¯•åˆ°åº•æ˜¯æ€Žæ ·çš„ æ‰€ä»¥å°±ç­”åº”äº†hréžå¸¸çš„å¥½ï¼Œé¢è¯•å‰å†ä¸‰å®å˜±ï¼Œä¹ŸæŠŠé¢è¯•å®˜çœ‹å®Œç®€åŽ†çš„åé¦ˆå‘Šè¯‰äº†æˆ‘è¿˜è®©åŒäº‹æå‰é¢æˆ‘ä¸€è½®ï¼Œé¢å®Œè¯´ æ²¡ä»€ä¹ˆé—®é¢˜ é¢è¯•å½“å¤©èŠäº†ä¸‹é¡¹ç›®ç»éªŒè¿˜æœ‰åŸºç¡€çŸ¥è¯†å’Œä¸€äº›é—®é¢˜çš„æŽ’æŸ¥æ€è·¯ æœ¬ä»¥ä¸ºç­”çš„æŒºä¸é”™çš„ï¼Œå’Œé¢è¯•å®˜ä¹ŸèŠå¾—å¾ˆæ„‰å¿«ã€‚åŽé¢é¢è¯•å®˜è¯´åŽ»æ‰¾è€å¤§æ¥é¢ï¼Œè®©æˆ‘éªšç­‰ç‰‡åˆ» è¿‡æ®µæ—¶é—´åŽè¯´è€å¤§åœ¨å¼€ä¼šï¼Œè®©æˆ‘å›žåŽ»ç­‰é€šçŸ¥â€¦çŽ°åœ¨æƒ³èµ·æ‰çŸ¥é“åŽŸæ¥è€å¤§åœ¨å¼€ä¼šæ˜¯ä¸€ä¸ªæ‹’ç»äººçš„å¥—è·¯ å›¾æ ·å›¾æ£®ç ´ åŽ»é˜¿é‡Œé¢æƒ³èµ·äº†ä¸€å¹´å‰åŽ»é¢ucï¼Œé‚£æ—¶å€™ä¹Ÿé¢å¾—å¾ˆå¼€å¿ƒï¼ŒåŽé¢å¾—çŸ¥æ˜¯åº”è˜å¤–åŒ…å²—å°±æ²¡æ€Žä¹ˆæƒ³ç»§ç»­ä¸‹åŽ»â€¦ ä½†æ˜¯é˜¿é‡Œçš„é¢è¯•å®˜ç»™æˆ‘çš„æ„Ÿè§‰æ²¡æœ‰åƒä¸€äº›å°å…¬å¸çš„äººä¸€æ ·ï¼Œç»™äººçš„æ„Ÿè§‰æ˜¯å¾ˆäº²åˆ‡çš„ã€‚å’Œæˆ‘è¯´å¦‚æžœæƒ³è¿›æŸä¸ªå¤§å…¬å¸ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å‚ä¸Žè¯¥å…¬å¸çš„å¼€æºé¡¹ç›®ï¼Œè¿™æ˜¯æ”¶èŽ·æœ€å¤§çš„ä¸€ä¸ªç‚¹ã€‚ è™½ç„¶è¿‡äº†ä¸ä¼šåŽ»ï¼Œä½†æ˜¯æ€»ä½“æ¥è¯´è¿˜æ˜¯å¾ˆæ„å¤–ã€‚ è½¦ä¸»æ— å¿§è½¦ä¸»æ— å¿§è¿™ä¸ªå°±æ¯”è¾ƒå°´å°¬äº†ï¼Œæ˜¯åœ¨å…¬å¸åŒä¸€æ ‹â€¦é¢è¯•å¤§æ¦‚çš„æ„Ÿè§‰å°±æ˜¯æŒºå®¹æ˜“çš„ï¼Œé¢è¯•å®˜é—®çš„é—®é¢˜éƒ½æ˜¯é’ˆå¯¹é¡¹ç›®ç»éªŒï¼Œæ‰€ä»¥åŸºæœ¬æ²¡æœ‰é€ å‡åˆ’æ°´å°±æ²¡ä»€ä¹ˆé—®é¢˜ã€‚é¢ä¸‰å››è½®ï¼ŒæŠ€æœ¯é¢é¢å‰ç«¯Leaderï¼ŒæŠ€æœ¯äºŒé¢é¢éƒ¨é—¨è´Ÿè´£äººï¼Œç„¶åŽå°±æ˜¯ctoé¢ï¼Œé¢å®Œhrå’Œæˆ‘è¯´ä¸èƒ½ç»™æˆ‘æœŸæœ›è–ªèµ„ä¸‰å¹´æœ€å¤šåªèƒ½ç»™xxkâ€¦è¯´ä¸€å¼€å§‹ä»¥ä¸ºæˆ‘æ˜¯æœ‰ä¸‰å¹´åŠç»éªŒï¼Œæ‰€ä»¥å¯ä»¥ç»™å››å¹´çš„è–ªèµ„åŽé¢æŽ¥äº†offerè€ƒè™‘ä¸‹å®Œå…¨ä¸å€¼å¾—è·³å°±æ”¾å¼ƒ ä½†æ˜¯è½¦ä¸»æ— å¿§æœ‰ä¸ªé¢˜å¤–è¯ï¼Œå’ŒhrèŠå¤©èŠå¾ˆä¹…ï¼Œhrè¯´ ä¹‹å‰ç§Ÿç§Ÿè½¦æœ‰é«˜çº§å‰ç«¯æ¥é¢è¯•ç»™å‡ºçš„è¯„ä»·æ˜¯å¾ˆæ°´ï¼Œæ‰€ä»¥å¯¹æˆ‘åŽŸæœ¬çš„ä¸æŠ±ä»€ä¹ˆå¸Œæœ›ã€‚ä½†æ˜¯æŠ€æœ¯é¢ç»™çš„è¯„ä»·æ˜¯å¾ˆä¸é”™ï¼Œæ‰€ä»¥æœ‰ç‚¹æƒŠè®¶ç§Ÿç§Ÿè½¦å†…éƒ¨çš„æ°´å¹³å·®å¼‚å¤§ã€‚ YY UEDé¢YYæ˜¯æœ€è¿‘æœ€å¼€å¿ƒï¼Œæ”¶èŽ·æœ€å¤§çš„ä¸€æ¬¡é¢è¯•ã€‚UEDå½“æ—¶é¢è¯•çš„æ—¶å€™åªæœ‰å››ä¸ªå‰ç«¯ï¼Œæˆ‘æ€»å…±é¢äº†äº”è½®ï¼ŸåŸºæœ¬ä¸Šå°±æ˜¯éƒ¨é—¨è½®ç€äººæ¥è™æˆ‘= = ä¸€é¢å’ŒleaderèŠèŠå¤©ï¼Œè¯´ä¸€äº›åœºæ™¯çš„è§£å†³æ–¹æ¡ˆ ç„¶åŽå°±æ˜¯ç¬”è¯•é¢˜ï¼Œåšå®Œä¹‹åŽå°±æ˜¯é¢ä¸‰é¢ã€‚ ä¸‰é¢å’Œéƒ¨é—¨ä¸€ä¸ªæŠ€æœ¯å¤§ç‰›èŠèŠå¤©ï¼ŒèŠæ¡†æž¶å±…å¤šï¼Œä¸€ä¸ªvueçš„äºº å¯¹reactäº†è§£æ¯”æˆ‘æ·±å¾ˆå¤šï¼Œè¿™æ˜¯æŒºä½©æœçš„ä»–æœ‰ä¸ªè¯„åˆ†æ ‡å‡†ï¼Œå¤§æ¦‚å°±æ˜¯æƒ³æ‹›vue 6åˆ†ä»¥ä¸Šï¼Œä»¥å†™å†™demoçœ‹çœ‹apiä¸º1åˆ†ï¼›èƒ½ä¿è¯é¡¹ç›®æ­£å¸¸ä¸Šçº¿5åˆ†ï¼›ç†Ÿæ‚‰æ•´ä¸ªæ¡†æž¶ç»“æž„åŽŸç†ï¼Œé‡åˆ°é—®é¢˜èƒ½å‡†ç¡®çŸ¥é“æ˜¯åœ¨å“ªä¸ªçŽ¯èŠ‚å‡ºé—®é¢˜ï¼Œå¯¹æ•´ä¸ªç”Ÿå‘½å‘¨æœŸåŠè¿è½¬å¾ˆç†Ÿæ‚‰ä¸º6åˆ†ï¼›å¯¹æ•´ä¸ªvueç”Ÿæ€éƒ½å¾ˆäº†è§£ï¼Œç²¾å‡†åˆ°æ¯æ¬¡è¿­ä»£æ”¹åŠ¨çš„æºç éƒ¨åˆ†ï¼Œè¿˜æœ‰vuexç­‰ç”Ÿæ€ä¹Ÿå¾ˆå…³æ³¨ä¸º10åˆ†ã€‚å¤§ç‰›è¯´æˆ‘æ˜¯é¢è¿‡çš„åŒç­‰å·¥ä½œå¹´é™çš„ä¸­ä¸Šæ°´å¹³ï¼Œè¿™å¥è¯è®©æˆ‘å¼€å¿ƒäº†å¥½ä¹…å¥½ä¹…â€¦.å“ˆå“ˆå“ˆå“ˆç»™å‡ºçš„è¯„ä»·æ˜¯å„æ–¹é¢éƒ½å¾ˆå‡è¡¡ï¼Œæ²¡ä»€ä¹ˆæ˜Žç¡®çš„ç¼ºç‚¹ï¼Œä½†æ˜¯è¿™ä¹Ÿæ„å‘³ç€æ²¡æœ‰ä¸€ä¸ªèƒ½æ‹¿å‡ºæ¥è®²çš„æœ‰æ·±å…¥ç ”ç©¶çš„æ–¹å‘ã€‚æœ€åŽè®©æˆ‘å›žåŽ»ç­‰é€šçŸ¥ å‡ å¤©åŽhræ‰“ç”µè¯è¯´è¿‡åŽ»é¢è¯•ï¼Œå¼€å¿ƒã€‚å››é¢æ˜¯éƒ¨é—¨å¦ä¸€ä¸ªå‰ç«¯é¢è¯•ï¼ŒèŠäº†ä¸€äº›åŸºç¡€çŸ¥è¯†å§ï¼Œè¿˜æœ‰ä¸€äº›åœºæ™¯å’Œæ¦‚å¿µæ€§çš„é—®é¢˜ã€‚å…·ä½“é—®ä»€ä¹ˆå¿˜äº†ï¼Œåªè®°å¾—èŠçš„ä¹ŸæŒºæ„‰å¿«çš„ã€‚é¢å®Œä¹‹åŽæ˜¯leaderä¸‹æ¥é—²èŠä¸€ä¸‹ï¼Œé—®è¿˜æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œæ²¡æœ‰å°±é¢hräº† hré¢æ˜¯åœ¨yyé¢è¯•æœ€ç´¯çš„ä¸€ä¸ªï¼Œå…¨ç¨‹hræ‹¿ç€å°æœ¬æœ¬ï¼Œè¾¹é—®è¾¹è®°ã€‚å¯èƒ½æ˜¯å‰é¢å’ŒæŠ€æœ¯å°ä¼™ä¼´èŠå¾—æ¯”è¾ƒopenï¼Œåˆ°hrè¿™è¾¹çªç„¶å˜å¾—è°¨æ…Žäº†ï¼Œæ‰€ä»¥é¢å®Œhrä¹‹åŽ æ•´ä¸ªäººéƒ½å¥½ç´¯ã€‚ä¹Ÿæ˜¯å¾ˆä¼ ç»Ÿçš„é—®äº†ä»¥å‰çš„å…¬å¸ï¼Œä¸ºä»€ä¹ˆè·³æ§½å•Šä¹‹ç±»çš„ã€‚ æœ‰ä¸€äº›ä¸ä¸€æ ·çš„å°±æ˜¯é—®æˆ‘æ€Žä¹ˆä¿è¯æœ‰æŒç»­çš„äº§å‡ºå’Œèƒ½ä¿æŒé«˜æ•ˆé•¿æœŸå­¦ä¹ ï¼Œå› ä¸ºUEDæ˜¯éœ€è¦ä¸æ–­çš„æŽ¢ç´¢å‰çž»æŠ€æœ¯çš„ï¼Œè¿˜æœ‰å°±æ˜¯é—®æˆ‘æœ‰æ²¡æœ‰blogï¼Œå¤šå°‘äººè®¢é˜…â€¦emmmm æˆ‘è¯´æˆ‘çš„åšå®¢æ²¡äººè®¢é˜…æ²¡äººçœ‹ï¼Œè‡ªå·±å†™ç€çŽ© ðŸ¤¦â€ è¿‡äº†å‡ å¤©åŽhræ‰“ç”µè¯èŠofferï¼Œæ€»ä½“æ¥è¯´æ¯”çŽ°åœ¨çš„é«˜äº†ä¸å°‘ï¼Œç®—æ˜¯å¾ˆæ»¡æ„çš„ä¸€ä¸ªofferäº†ã€‚ æœ¬æ¥é“äº†å¿ƒè¦è¿‡åŽ»é‚£è¾¹æµªï¼Œæ¯•ç«Ÿéƒ¨é—¨çš„åŒäº‹åŸºæœ¬éƒ½è§äº†ä¸€é å“ˆå“ˆå“ˆå“ˆï¼Œç„¶åŽofferåˆæ¯”è¾ƒå¿ƒæ°´ã€‚ åŽé¢å› ä¸ºä¸ªäººåŽŸå› é€‰æ‹©ç»§ç»­ç•™åœ¨ç§Ÿç§Ÿè½¦ï¼Œä½†æ˜¯å¦‚æžœåœ¨ä»¥åŽæœ‰æœºä¼šï¼Œè¿˜æ˜¯ä¼šä¼˜å…ˆè€ƒè™‘yyçš„ã€‚ å…³äºŽå·¥ä½œé¡¹ç›®æ‹†åŒ…æ—¢ç„¶é€‰æ‹©ç•™åœ¨ç§Ÿç§Ÿè½¦ï¼Œè‚¯å®šå°±ä¸èƒ½åƒä¹‹å‰åŠå¹´åˆ’åˆ’æ°´å°±è¿‡åŽ» æœ€è¿‘å·¥ä½œä¸Šä¸»è¦è´Ÿè´£çš„æ˜¯ï¼Œæƒ³ç€æŠŠéƒ¨é—¨çš„é¡¹ç›®åšä¸ªæ‹†åŒ… åŽŸæœ¬å°é¡¹ç›®æ…¢æ…¢è¿­ä»£æˆå¾ˆå¤§çš„é¡¹ç›®ï¼Œä¸€æ¬¡æ‰“åŒ…è¦èŠ±åŠä¸ªå°æ—¶â€¦.åŠ ä¸ŠçŽ°åœ¨ç›®å½•çš„é—®é¢˜ï¼Œæ¯å¤©è¿‡æ¥éƒ½è¦æ‰“ä¸€ä¸ªå…¨é‡åŒ…ã€‚ æ‰€ä»¥çŽ°åœ¨çš„è®¡åˆ’æ˜¯ï¼Œå¯¹é¡¹ç›®æ¨¡å—è¿›è¡Œæ‹†åŒ…ï¼Œä¸€ä¸ªæ¨¡å—ç‹¬ç«‹æˆä¸€ä¸ªé¡¹ç›®ï¼Œæœ‰è‡ªå·±çš„node_modelsï¼Œä½†æ˜¯å…±ç”¨ä¸€ä¸ªgitã€‚ è¿™ä¸ªå…¶å®žä»ŽåŠå¹´å‰å°±æœ‰äººæå‡ºæ¥ï¼Œä½†æ˜¯å¤ªéš¾æžäº† æ‰€ä»¥ä¸€ç›´æ²¡äººåŽ»æŽ¨ é¦–å…ˆè¦è€ƒè™‘çš„æ˜¯éƒ¨é—¨ä¸å¯èƒ½åœæŽ‰æ—¥å¸¸è¿­ä»£ï¼Œæ¥ç­‰ä½ æ‹†åŒ…ã€‚è€Œä¸”ä½ çš„éœ€æ±‚ä¹Ÿä¸ä¼šå› ä¸ºè¿™ä¸ªæŠ€æœ¯éœ€æ±‚è€Œå‡å°‘ï¼Œæ‰€ä»¥è¦åœ¨å¹³æ—¶åšéœ€æ±‚çš„é—´éš™åšè¿™ä»¶äº‹æƒ…ã€‚ å°½å¯èƒ½æŠŠè·¯å¾„æ›¿æ¢ï¼Œæ–‡ä»¶è¿ç§»ç­‰åšæˆè„šæœ¬åŽ»è·‘ï¼Œä¸ç„¶åšä¸ä¸‹åŽ»ã€‚è€Œä¸”æ‹†åŒ…ä¹‹åŽï¼Œè¦è€ƒè™‘åŽç«¯çš„æ¨¡æ¿è·¯å¾„é—®é¢˜è¿˜æœ‰éƒ¨ç½²çš„é—®é¢˜ï¼ŒåŠ ä¸Šä¸€äº›å‰ç«¯ pwa,ampçš„æž„å»ºè€ƒè™‘çœŸæ˜¯ä¸ªå¤§å·¥ç¨‹â€¦ æœ€è¿‘çš„æˆæžœæ˜¯æœ¬åœ°èƒ½è·‘èµ·æ¥ï¼Œä½†æ˜¯è¿˜ç¼ºä¸€ä¸ª æœ¬åœ°æœåŠ¡ï¼ŒåŠ ä¸Šè¿˜æ²¡æœ‰å’ŒåŽç«¯ï¼Œéƒ¨ç½²é‚£å—æ²Ÿé€šã€‚ ä»»é‡é“è¿œ ä¸‹åŠå¹´çš„æŒ‡æ ‡ä¸‹åŠå¹´ï¼Œè€å¤§ç»™å®šçš„æŠ€æœ¯æŒ‡æ ‡æ˜¯Reactå’ŒWebpackä¸¤é¡¹ å…¶å®žåŽŸæœ¬ç»™çš„æ˜¯Httpå’Œæµè§ˆå™¨å†…æ ¸ï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¯´çŽ°åœ¨æˆ‘åŽ»äº†è§£é‚£ä¸¤å—æ²¡ä»€ä¹ˆå¤§çš„æ”¶èŽ·ã€‚ åŠ ä¸Šåœ¨yyé¢è¯•ä¹‹åŽï¼Œé¢è¯•å®˜ä¸€ç›´ç»™çš„è¯„ä»·æ˜¯æ²¡æœ‰ä¸€ä¸ªå¾ˆæ·±å…¥çš„ç‚¹ï¼Œæ‰€ä»¥å°±é€‰äº†ReactåŽ»åšæ·±å…¥çš„æ–¹å‘ã€‚ ReactæŽ¢ç´¢ä¹‹ä½™äº†è§£Webpackå’Œ PWAéƒ¨åˆ† å…³äºŽwebpackå‰å‡ å¤©æœ‰ä¸ªéœ€æ±‚æ˜¯é¡¹ç›®ä¸Šç”¨åˆ°çš„cookieéƒ½è¦è®°å½•åˆ°æŸä¸ªæ–‡æ¡£é‡Œé¢ï¼Œä¸€å¼€å§‹æƒ³ç€å†™ä¸€ä¸ªwebpackæ’ä»¶åŽ»åšè¿™ä»¶äº‹æƒ…ã€‚ é¡¹ç›®çš„webpackæ˜¯3.xï¼Œå®˜æ–¹çš„æ–‡æ¡£å…¨éƒ½å‡çº§åˆ°4.xï¼Œä¸€å¼€å§‹æœ‰ç‚¹è›‹ç–¼ï¼Œä¹Ÿæ²¡æœ‰ä¸€ä¸ªæ¯”è¾ƒé€‚åˆå…¥é—¨çš„demoï¼Œè¦ä¸å°±æ˜¯å¤ªç®€å•ï¼Œè¦ä¸å°±æ˜¯å¾ˆå¤æ‚çš„ã€‚ åŽé¢ç»ˆäºŽå¤§æ¦‚è·‘äº†èµ·æ¥ï¼Œä½†æ˜¯è·‘èµ·æ¥ä¹‹åŽï¼Œå‘çŽ°å’Œé¢„æƒ³çš„ä¸ä¸€è‡´ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ æ–‡æ¡£éœ€è¦è®°å½•çš„æ˜¯ key value description, ä¸¾ä¸ªä¾‹å­cookie.set(â€˜nameâ€™, â€˜jsonzâ€™, â€˜ç”¨æˆ·åâ€™); æˆ‘çš„æ–¹æ¡ˆæ˜¯åœ¨webpackç¼–è¯‘çš„æ—¶å€™æ‹¿åˆ°babelè½¬ä¹‰å’Œä»£ç åŽ‹ç¼©ä¼˜åŒ–ä¹‹å‰çš„å†…å®¹ï¼Œå› ä¸ºé¡¹ç›®ä¸Šæ¶‰åŠåˆ°cookieçš„æ“ä½œéƒ½ä¼šç”¨ä¸€ä¸ª cookie-js çš„ç±»åº“ï¼Œæ‰€ä»¥å¯ä»¥åˆ©ç”¨è¿™ä¸ªåšä¸ºåˆ‡å…¥ç‚¹ã€‚ å¤§æ¦‚çš„æ€è·¯æ˜¯ï¼š webpackç”Ÿå‘½å‘¨æœŸé‡Œé¢åŽ»æ‹¿åˆ°æºæ–‡ä»¶ï¼Œç„¶åŽç”¨ä¸€ä¸ªè¯­æ³•åˆ†æžæ ‘ï¼Œè§£æžæˆASTï¼Œå†æ ¹æ®ç±»åž‹åŽ»ç­›é€‰å‡º cookie-js å‡½æ•°è°ƒç”¨ä¼ å…¥çš„å‚æ•° æœ¬æ¥è§‰å¾—å¤©è¡£æ— ç¼ï¼Œä½†æ˜¯ç†æƒ³å¾ˆå¤©çœŸï¼Œå®žé™…é¡¹ç›®ä¸Šäº”èŠ±å…«é—¨ï¼Œæ¯”å¦‚1234567891011import Cookie from 'Cookie-js';const cookie = require('Cookie-js');const key = IS_DEV? '_name': 'name';const value = JSON.parse(Cookie.get('obj')).name;Cookie.set(key, value, 'åå­—');cookie.set('user', &#123; name: 'jsonz', age: 25&#125;); æ‰€ä»¥å…¶å®žå¦‚æžœçœŸçš„è¦ç”¨è„šæœ¬è®°å½•ï¼Œåªèƒ½åœ¨è¿è¡ŒçŽ¯å¢ƒä¸‹è®°å½•ï¼Œæ‰€ä»¥æ”¾å¼ƒè¿™ä¸ªæ–¹æ¡ˆâ€¦. å…³äºŽæ£é¼“å°ç¨‹åºå‰æ®µæ—¶é—´æ˜¯è‡ªå·±æ£é¼“äº†ä¸€ä¸ªå°ç¨‹åºï¼Œç”¨æ¥ç»™æ¯å¤©åšè®¡åˆ’çš„ã€‚å¤§æ¦‚é•¿è¿™æ · æŠ€æœ¯æ ˆ:å‰ç«¯: ç”¨çš„æ˜¯ç¾Žå›¢çš„ mpvueï¼Œæš‚æ—¶å‘çŽ°å…¶å®žå’Œå†™vueå¾ˆå¤šä¸ä¸€æ ·ï¼Œå› ä¸ºæœ‰å¾ˆå¤šå¯èƒ½æ˜¯å°ç¨‹åºçš„å±€é™é—®é¢˜ï¼Œä¹Ÿå¯èƒ½æ˜¯è½¬æ¢é—®é¢˜ï¼Œnå¤šèŽ«åå…¶å¦™çš„bugè€Œä¸”è¿˜æ— æ³•æ­£é¢å¹²ã€‚ åŽç«¯:Node: åšä¸»è¦æœåŠ¡ç«¯è¯­è¨€ï¼Œç”¨çš„é˜¿é‡ŒEgg.jsæ¡†æž¶MySQL: ä¸ºä»€ä¹ˆé€‰æ‹©MySQLè€Œä¸æ˜¯å‰ç«¯(node)æƒ¯ç”¨çš„mongodbå‘¢ï¼Ÿ ä¸»è¦åŽŸå› æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯mongoä½“éªŒè¿‡äº†ï¼›ä¸€ä¸ªæ˜¯çŽ°åœ¨ä¸šç•Œå…¶å®žmySqlè¿˜æ˜¯å ç»å¤§å¤šæ•°ï¼Œè€Œä¸”æ¯”è¾ƒæˆç†Ÿï¼Œæƒ³ä½“éªŒä¸€æ³¢å…³ç³»åž‹æ•°æ®åº“ã€‚ æœåŠ¡å™¨ï¼šNginx: æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œå¯¹äºŽä¸€ä¸ªæ²¡æœ‰æŠ˜è…¾è¿‡çš„äººæ¥è¯´è¿˜æ˜¯æŒºå¼€å¿ƒçš„Centos çœ‹èµ·æ¥æ˜¯æŒºç®€å•çš„ï¼Œä½†æ˜¯å¯¹äºŽä¸ªäººå­¦ä¹ æ¥è¯´æ˜¯ä¸ªæŒºå¥½çš„é¡¹ç›®ã€‚ç‰¹åˆ«æ˜¯ä¸€ä¸ªå®Œå…¨æ²¡æœ‰çœŸæ­£æ£é¼“è¿‡åŽç«¯ï¼ŒæœåŠ¡ç«¯çš„äººæ¥è¯´ï¼ŒçœŸçš„å¾ˆhappyï¼Œæ¯”å•çº¯å†™å‰ç«¯è¦è€ƒè™‘çš„äº‹æƒ…å¤šå¾ˆå¤šã€‚ ä½†æ˜¯æœ€è¿‘å› ä¸ºå·¥ä½œçš„äº‹æƒ…ï¼Œæš‚æ—¶æç½®ä¸€è¾¹ï¼Œç›®å‰è¿˜æ˜¯ 0.0.1 å¯ä»¥ç”¨æœ€ç®€å•çš„è®¡åˆ’çš„åŠŸèƒ½ã€‚åŽé¢æ‹†åŒ…å®Œæˆä¹‹åŽå°±å›žæ¥åŠ åŠŸèƒ½å†å‘å¸ƒ å›¾ç‰‡è½¬å­—ç¬¦å‰å‡ å¤©æœ‰é«˜ä¸­å¥½æœ‹å‹åœ¨ç¾¤é‡Œå‘ä¸€ä¸ªè§†é¢‘ï¼Œé—®æˆ‘ä»¬è¯´çœŸçš„æ˜¯å¯ä»¥è¿™æ ·çš„å—ï¼Ÿ åŽŸè§†é¢‘æ˜¯æ­»è‚¥å®…éƒ½çŸ¥é“çš„æžä¹å‡€åœŸï¼Œç„¶åŽæˆ‘è§‰å¾—å¾ˆæœ‰è¶£ï¼Œå°±é—®å…¬å¸ç¾¤è¿™ç§æ€Žä¹ˆå®žçŽ°ï¼Œå¤§æ¦‚æ˜¯å›¾ç‰‡è½¬å­—ç¬¦ä¸²äºŽæ˜¯å°±åŽ»æœäº†ä¸€ä¸‹ canvas è½¬å­—ç¬¦ä¸²ï¼Œå†æ‰¾äº†ä¸‹æ€Žä¹ˆæŠŠè§†é¢‘è½¬å›¾ç‰‡ ðŸ¤¦â€æ²¡é”™ï¼Œæˆ‘å°±æ˜¯å¤§è‡ªç„¶çš„æ¬è¿å·¥æœ€åŽå®žçŽ°å‡ºæ¥å¤§æ¦‚æ˜¯è¿™æ ·å­ å¤§æ¦‚çš„å®žçŽ°æ€è·¯æ˜¯ é€šè¿‡videoå’ŒcanvasæŠŠè§†é¢‘é€å¸§ä¸¢åˆ°canvasé‡Œé¢ï¼Œå†ç”¨canvasè¯»å‡ºæ¯ä¸ªåƒç´ çš„ç°åº¦åŽ»åŒ¹é…ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åŽç”¨è¿™äº›å­—ç¬¦ä¸²é‡å†™ä¸€ä¸ªcanvaså‡ºæ¥ã€‚ åŽé¢æœ‰æ—¶é—´å†æŠŠè¿™ä¸ªæ•´ç†æˆä¸€ç¯‡æ–‡ç« å‡ºæ¥ å…³äºŽå­¦ä¹ æœ€è¿‘æ˜¯æœ‰ç‚¹æ‡’æƒ°äº†ï¼Œä¸“å‡æœ¬ä¸€ç›´çœ‹ç¦»æ•£æ•°å­¦ï¼ŒåŽŸæœ¬é¢„è®¡7æœˆä»½è¦çœ‹å®Œé¡ºè·¯åšä¸€å¥—é¢˜ï¼ŒçŽ°åœ¨æ€•æ˜¯è¦å»¶è¿Ÿä¸€ä¸ªæ˜ŸæœŸæœ€å°‘ã€‚çœ‹å®Œè¿˜æœ‰ä¸‡æ¶çš„ç½‘ç»œåŽŸç†å’Œæ•°æ®åº“åŽŸç†â€¦ åŠ æ²¹ðŸ’ª æœ€åŽé™„ä¸Šå‘¨æœ«å›¢å»ºçš„å›¾]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>blog</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[window.printâ€”â€”å…³äºŽæµè§ˆå™¨æ‰“å°]]></title>
    <url>%2F2018%2F06%2Fwindow-print%E2%80%94%E2%80%94%E5%85%B3%E4%BA%8E%E6%B5%8F%E8%A7%88%E5%99%A8%E6%89%93%E5%8D%B0%2F</url>
    <content type="text"><![CDATA[è¿‘æ—¥æœ‰ä¸ªéœ€æ±‚æ˜¯åšé¡µé¢æ‰“å°çš„ï¼Œè¶è¿™ä¸ªæœºä¼šè¡¥ä¸€ä¸‹æ¯”è¾ƒå†·é—¨çš„æµè§ˆå™¨æ‰“å°çŸ¥è¯†ã€‚æœ¬æ–‡ä¸»è¦è®¨è®º Chromeã€Safariã€Firefoxæµè§ˆå™¨çš„æƒ…å†µã€‚ æ‰“å°æŽ¥å£é¦–å…ˆæµè§ˆå™¨æ‰“å°æ˜¯ä¸€ä¸ªå¾ˆæˆç†Ÿçš„åº”ç”¨~ è‡³å°‘æ˜¯å¾ˆæ—©å°±å·²ç»æœ‰åº”ç”¨çš„åŠŸèƒ½ï¼Œæ‰€ä»¥ä¸ä¼šæœ‰ä»€ä¹ˆå…¼å®¹é—®é¢˜ æœ€ç®€å•çš„æ‰“å°å°±æ˜¯ç›´æŽ¥è°ƒç”¨ window.print()ï¼Œå½“ç„¶ç”¨ document.execCommand(&#39;print&#39;) ä¹Ÿå¯ä»¥è¾¾åˆ°åŒæ ·çš„æ•ˆæžœã€‚ è¿™æ—¶å€™åœ¨Safariå’ŒChromeéƒ½ä¼šå¼¹èµ·æ‰“å°é¢„è§ˆçš„çª—å£,FireFoxæ²¡æœ‰é¢„è§ˆè€Œæ˜¯ç›´æŽ¥è®©ä½ é€‰æ‹©æ‰“å°æœºï¼ŒOSxä¸‹å¯ä»¥é€šè¿‡é¢„è§ˆPDFæ¥é¢„è§ˆ~ ä¸€èˆ¬è¿™ç§ç›´æŽ¥åœ¨ç½‘é¡µä¸Šè°ƒç”¨ print çš„æ–¹æ³•æ˜¯æ²¡åŠžæ³•æ»¡è¶³æˆ‘ä»¬çš„ä¸šåŠ¡éœ€æ±‚ï¼Œæ¯”å¦‚è¯´ï¼š è°ƒæ•´å¸ƒå±€å’Œå­—ä½“å¤§å°æ¥é€‚åº”A4çº¸ æ‰“å°çš„æ—¶å€™ç”¨ä¸åŒçš„æ ·å¼é£Žæ ¼ ä½¿ç”¨æ›´é«˜æ¸…çš„å›¾ç‰‡æ¥æ‰“å° æŸä¸€äº›ä¸ç›¸å…³çš„ä¸œè¥¿ä¸å‡ºçŽ°åœ¨æ‰“å°ä¸­ç­‰ç­‰ç­‰ç­‰ é‚£ä¹ˆæœ‰å“ªäº›æ–¹æ³•å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ”¹å–„æ‰“å°çš„ç”¨æˆ·ä½“éªŒå‘¢ï¼Ÿ ä½¿ç”¨ print style sheet (æ‰“å°æ ·å¼è¡¨)æˆ‘ä»¬å¯ä»¥åœ¨ link ä¸ŠåŠ ä¸Šä¸€ä¸ª media=â€printâ€ æ¥æ ‡è¯†è¿™æ˜¯æ‰“å°æœºæ‰ä¼šåº”ç”¨çš„æ ·å¼è¡¨, å¦‚: 1&lt;link href="/example.css" media="print" rel="stylesheet" /&gt; è¿™æ ·æ‰“å°çš„æ—¶å€™ï¼Œå°±ä¼šé»˜è®¤å°†è¯¥æ ·å¼è¡¨åº”ç”¨åˆ°æ–‡æ¡£ä¸­ ä½¿ç”¨åª’ä»‹æŸ¥è¯¢å…¼å®¹æ€§: IE9+ å…¶ä»–ä¸»æµæµè§ˆå™¨éƒ½æ”¯æŒå½“æˆ‘ä»¬è¦ä¿®æ”¹çš„æ ·å¼æ²¡æœ‰é‚£ä¹ˆå¤šçš„æ—¶å€™ï¼Œå…¶å®žå®Œå…¨ä¸éœ€è¦é‡æ–°å†™ä¸ªæ ·å¼è¡¨ï¼Œåªè¦å†™ä¸Šä¸€ä¸ªåª’ä»‹æŸ¥è¯¢ä¹Ÿå¯ä»¥è¾¾åˆ°åŒæ ·çš„æ•ˆæžœï¼Œå¦‚: 12345678h1 &#123; font-size: 14px;&#125;@media print &#123; h1 &#123; font-size: 20px; &#125;&#125; äº‹ä»¶ç›‘å¬beforeprint &amp;&amp; afterprintæœ‰ä¸¤ä¸ªäº‹ä»¶å¯ä»¥ç›‘å¬åˆ°åˆ°æ‰“å°äº‹ä»¶ï¼Œä¸€ä¸ªæ˜¯beforeprint,ä¸€ä¸ªæ˜¯afterprintï¼Œåˆ†åˆ«è¡¨ç¤ºæ‰“å°äº‹ä»¶è§¦å‘å‰åŽã€‚è¿™ä¸ªäº‹ä»¶åœ¨ IE6 å°±å·²ç»æ”¯æŒäº†ï¼Œä¸è¿‡ä¸€ç‚¹éƒ½ä¸æƒŠè®¶~ æ¯•ç«ŸIEå¾ˆæ—©å°±æ”¯æŒå¾ˆå¤šæŽ¥å£è°ƒç”¨ï¼Œä¹‹å‰å¥½åƒåšè¿‡IEæ‰“å¼€Excelçš„éœ€æ±‚~å…¼å®¹å¤§æ¦‚æ˜¯ Firefoxã€IEå…¨æ”¯æŒ, Chrome63+æ”¯æŒ, Safariæš‚ä¸æ”¯æŒï¼Œç®—æ˜¯ä¸€åŠä¸€åŠå§ã€‚123456window.addEventListener('beforeprint', ()=&gt; &#123; document.body.innerHTML = 'æ­£åœ¨æ‰“å°...';&#125;);window.addEventListener('afterprint', ()=&gt; &#123; document.body.innerHTML = 'æ‰“å°å®Œæˆ...';&#125;); window.matchMedia æµ‹è¯•åª’ä½“æŸ¥è¯¢æŽ¥å£å¦‚æžœä½ æƒ³è¦å…¼å®¹Safariæˆ–è®¸å¯ä»¥è¯•ä¸€ä¸‹ window.matchMediaå…¼å®¹æ˜¯ IE10+ï¼Œå…¶ä»–ä¸»æµæµè§ˆå™¨å®Œå…¨æ²¡é—®é¢˜ã€‚ è¿™ä¸ªçš„ç”¨æ³•ç¨å¾®æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ªMediaQueryListå¯¹è±¡ï¼Œå†é€šè¿‡ä»–ç›‘å¬å˜åŒ–ï¼Œå¦‚:12345const printMedia = window.matchMedia('print');function printChange(&#123; matches, &#125;) &#123; document.body.innerHTML = matches? 'æ­£åœ¨æ‰“å°...': 'æ‰“å°å®Œæˆ/å–æ¶ˆ';&#125;printMedia.addListener(printChange); æ›´åŠ ä¸ªæ€§åŒ–å®šåˆ¶æ‰“å°åŒºåŸŸ/æ‰“å°å†…å®¹å¦‚æžœé¡¹ç›®ä¸Šç”¨çš„æ˜¯jqç­‰ï¼Œæˆ–è€…æƒ³ç®€å•ç²—æš´çš„æ‰“å°æŸä¸ªåŒºåŸŸåˆä¸æƒ³é‡æ–°å†™æ ·å¼è¡¨å•Šï¼Œä»€ä¹ˆçš„ã€‚æœ€å‚»ç“œç‰ˆçš„æ–¹å¼å°±æ˜¯ç›´æŽ¥ç”¨jqæ’ä»¶ jQuery.print ä¹Ÿå¯ä»¥è‡ªå·±å†™ä¸€ä¸ªåŽ»å¤„ç†ï¼Œå¤§æ¦‚çš„æ€è·¯æ˜¯åˆ›å»ºä¸€ä¸ªiframeï¼ŒæŠŠè¦æ‰“å°çš„domå’Œæ ·å¼è¡¨éƒ½ä¸¢è¿›åŽ»ï¼Œå†è°ƒç”¨iframeçš„æ‰“å°äº‹ä»¶ã€‚ è¿™é‡Œå†™ä¸€ä¸ªç®€å•çš„ demo 1234567891011121314151617181920212223242526272829303132333435363738394041function printPartial(dom, &#123; title= document.title,&#125;= &#123;&#125;) &#123; if (!dom) return; let copyDom = document.createElement('span'); const styleDom = document.querySelectorAll('style, link, meta'); const titleDom = document.createElement('title'); titleDom.innerText = title; copyDom.appendChild(titleDom); Array.from(styleDom).forEach(item=&gt; &#123; copyDom.appendChild(item.cloneNode(true)); &#125;); copyDom.appendChild(dom.cloneNode(true)); const htmlTemp = copyDom.innerHTML; copyDom = null; const iframeDom = document.createElement('iframe'); const attrObj = &#123; height: 0, width: 0, border: 0, wmode: 'Opaque' &#125;; const styleObj = &#123; position: 'absolute', top: '-999px', left: '-999px', &#125;; Object.entries(attrObj).forEach(([key, value])=&gt; iframeDom.setAttribute(key, value)); Object.entries(styleObj).forEach(([key, value])=&gt; iframeDom.style[key] = value); document.body.insertBefore(iframeDom, document.body.children[0]); const iframeWin = iframeDom.contentWindow; const iframeDocs = iframeWin.document; iframeDocs.write(`&lt;!doctype html&gt;`); iframeDocs.write(htmlTemp); iframeWin.focus(); iframeWin.print(); document.body.removeChild(iframeDom);&#125;printPartial(document.querySelector('#description')); æœ€åŽä¸€äº›æ³¨æ„çš„äº‹æƒ… æ‰“å°ä¼šæ‰“å°documentä¸‹æ‰€æœ‰å¯è§å…ƒç´ ï¼Œ åŒ…æ‹¬ &lt;header&gt; é‡Œé¢çš„ èƒŒæ™¯éƒ½ä¸ä¼šè¢«æ‰“å°å‡ºæ¥ï¼ŒåŒ…æ‹¬èƒŒæ™¯è‰²å•ŠèƒŒæ™¯å›¾ç‰‡å•Šç­‰ç­‰ å¦‚æžœå›¾ç‰‡æ˜¯æ‡’åŠ è½½çš„ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œä¸ç„¶æ‰“å°çš„æ—¶å€™ä¼šç›´æŽ¥ç©ºç™½ å‚è€ƒ:https://blog.csdn.net/fengshuiyue/article/details/57483057Mozilla printMozilla Using_a_print_style_sheet]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>github</tag>
        <tag>work</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTTPå¸¸ç”¨çŸ¥è¯†ç‚¹æ€»ç»“]]></title>
    <url>%2F2018%2F05%2Fhttp-mini-book%2F</url>
    <content type="text"><![CDATA[åŒæ ·æ˜¯å› ä¸ºé¢è¯•çš„è¿‡ç¨‹ä¸­ï¼Œå‘çŽ°è‡ªå·±å¯¹httpçš„ä¸€äº›æ¦‚å¿µå’ŒçŸ¥è¯†ç‚¹å’Œé›¶ç¢Žï¼Œå€Ÿæ­¤æœºä¼šçœ‹äº†ã€ŠHTTPå°ä¹¦ã€‹ï¼Œé¡ºæ‰‹å†™äº†ç¯‡è®°å½•æ€»ç»“ä¸€äº›å¸¸è§çš„httpçŸ¥è¯†ç‚¹ã€‚ http ç®€ä»‹è¯·æ±‚:å®¢æˆ·ç«¯è½¯ä»¶æ‰“å¼€åˆ°æœåŠ¡å™¨çš„è¿žæŽ¥ï¼Œå‘èµ·è¯·æ±‚å¦‚ä¸‹ï¼š12345GET /hello.htm HTTP/1.1User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36Host: example.comAccept-Language: en-usAccept-Encoding: gzip, deflate å“åº”:æœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚æ¶ˆæ¯åŽæ ¹æ®èµ„æºå®šä½ç¬¦åœ¨æœåŠ¡å™¨æ‰¾åˆ°è¯¥èµ„æºï¼Œå¹¶å“åº”ç»™å®¢æˆ·ç«¯:123456789HTTP/1.1 200 OKX-Powered-By: ExpressContent-Type: text/html; charset=utf-8Content-Length: 22ETag: W/&quot;16-dDTk/xb5lvRNBfrz6lE//HVBox8&quot;Date: Tue, 22 May 2018 03:04:08 GMTConnection: keep-alive&lt;h1&gt;Hello, Jsonz!&lt;/h1&gt; è¯·æ±‚æ¶ˆæ¯è¯·æ±‚ä¿¡æ¯ä¸€èˆ¬ç”±è¯·æ±‚è¡Œã€å¤´éƒ¨å­—æ®µåŒºã€CRLFä¸Žæ¶ˆæ¯ä¸»ä½“ï¼ˆå¯é€‰ï¼‰ç»„æˆ è¯·æ±‚è¡Œè¯·æ±‚æ¶ˆæ¯çš„ç¬¬ä¸€è¡Œç§°ä¸ºè¯·æ±‚è¡Œï¼Œä¸€èˆ¬åŒ…æ‹¬ è¯·æ±‚æ–¹æ³•ï¼Œ è¯·æ±‚èµ„æºæ ‡è¯†ç¬¦ è¿˜æœ‰è¯·æ±‚çš„åè®®ç‰ˆæœ¬ Request-List = Method SPACE Request-URI SPACE HTTP-Version CRLF è¯·æ±‚æ–¹æ³•æ¯”è¾ƒå¸¸ç”¨çš„æœ‰ GET, POSTã€‚ è¿™é‡Œç”¨çš„æ˜¯GET å‘èµ·ä¸€ä¸ªè¯·æ±‚èŽ·å–èµ„æº GET è¯·æ±‚ä¸€ä¸ªåˆ¶å®šåç§°çš„èµ„æº POST åˆ›å»ºä¸€ä¸ªæ–°çš„å­èµ„æºï¼Œæˆ–è€…æ›´æ–°ä¸€ä¸ªå­˜åœ¨çš„èµ„æº PUT æŒ‡å®šçš„URLä¸å­˜åœ¨åˆ™åˆ›å»ºï¼Œå­˜åœ¨åˆ™ä¿®æ”¹ DELETE åˆ é™¤æŒ‡å®šèµ„æº OPTIONS è¿”å›žæœåŠ¡å™¨æ”¯æŒçš„æ–¹æ³• CONNECTã€TRACE å¯¹äºŽ POST å’Œ PUTçš„é€‰æ‹©ï¼Œä½œè€…ç»™å‡ºçš„ä¾‹å­æ˜¯åˆ›å»ºè®¢å•PUT /other/1 åˆ›å»ºå•å·ä¸º1çš„è®¢å•ï¼Œå¦‚æžœå­˜åœ¨å°±æ›´æ–°ä»–ï¼Œè®¢å•å·ç”±å®¢æˆ·ç«¯æä¾›POST /other åˆ›å»ºè®¢å•ï¼Œè®¢å•å·ç”±æœåŠ¡ç«¯æä¾›POST /other/1 æ›´æ–°è®¢å•ï¼Œå¦‚æžœä¸å­˜åœ¨åº”è¯¥æŠ›é”™é‡å¤æ‰§è¡ŒPUTè¯·æ±‚ä¸ä¼šå½±å“æœåŠ¡å™¨çŠ¶æ€ï¼Œè€ŒPOSTåˆ™ä¼šå¯¼è‡´åˆ›å»ºä¸¤ä¸ªè®¢å• ä½†æ˜¯å·¥ä½œä¸­ï¼Œå‡ ä¹Žåªç”¨è¿‡GETå’ŒPOSTï¼Œå¯¹äºŽåˆ›å»ºè®¢å•çš„ä¾‹å­ä¸­ï¼ŒPUTå’ŒPOSTçš„åŒºåˆ«æˆ‘çš„ç†è§£æ¯”è¾ƒæµ…æ˜¾ï¼Œä¸€ä¸ªæ˜¯å®¢æˆ·ç«¯/æœåŠ¡ç«¯æä¾›è®¢å•å·ï¼Œä¸€ä¸ªæ˜¯è¯­ä¹‰åŒ–ã€‚ å¤´éƒ¨å­—æ®µä»Žç¬¬äºŒè¡Œåˆ°ç©ºè¡Œä¹‹é—´éƒ½å±žäºŽå¤´éƒ¨å­—æ®µåŒºï¼Œç”¨æ¥ä¼ é€’æ›´å¤šè¯¦ç»†çš„ä¿¡æ¯ï¼Œè¿™ä¸ªæ¡ˆä¾‹é‡Œé¢æ˜¯1234User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36Host: example.comAccept-Language: en-usAccept-Encoding: gzip, deflate æ¯”å¦‚è¯´è¿™é‡Œ:User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36 æˆ‘ä»¬å¯ä»¥çŸ¥é“å®¢æˆ·ç«¯ç”¨çš„æ˜¯ Mac OSxç³»ç»Ÿï¼ŒChrome v66.0.xç‰ˆæœ¬çš„æµè§ˆå™¨Accept-Language: en-us è¯­è¨€æ˜¯è‹±è¯­Accept-Encoding: gzip, deflate æ”¯æŒçš„åŽ‹ç¼©ç¼–ç ä¸ºgzipå’Œdeflate ç©ºè¡Œ(CRLF)ç©ºè¡Œä¹Ÿå«CRLFï¼Œæ˜¯éš”å¼€è¯·æ±‚å¤´ä¸Žè¯·æ±‚ä¸»ä½“çš„ æ¶ˆæ¯ä¸»ä½“å‘é€ç»™æœåŠ¡ç«¯çš„æ¶ˆæ¯ï¼Œæ¯”å¦‚ç”¨POSTæ–¹æ³•æäº¤è¡¨å•æ—¶ï¼Œè¡¨å•çš„å†…å®¹å°±æ˜¯å­˜åœ¨æ¶ˆæ¯ä¸»ä½“é‡Œé¢ã€‚å¦‚æžœæ˜¯ç”¨GETæ–¹æ³•å°±ä¼šä¸¢åˆ°è¯·æ±‚URLé‡Œ å“åº”ä¿¡æ¯å“åº”ä¿¡æ¯å’Œè¯·æ±‚ä¿¡æ¯çš„ç»„æˆç»“æž„ç›¸ä¼¼ï¼Œç”±çŠ¶æ€è¡Œã€å¤´éƒ¨å­—æ®µè¡Œã€ç©ºè¡Œï¼ˆCRLFï¼‰å’Œæ¶ˆæ¯ä¸»ä½“æž„æˆã€‚ çŠ¶æ€è¡ŒHTTP/1.1 200 OK è¯·æ±‚è¡Œä¸€èˆ¬ç”± åè®®ç‰ˆæœ¬å·ã€çŠ¶æ€ç ä¸ŽçŠ¶æ€ç æè¿°ç»„æˆã€‚ åè®®ç‰ˆæœ¬å·æœ‰: 0.9ã€1.0ã€1.1ã€2.0ç­‰ï¼Œç›®å‰æ¯”è¾ƒæµè¡Œçš„æ˜¯2.0ä¸Ž1.1 çŠ¶æ€ç æœ‰ä»¥ä¸‹å‡ ç§ç±»åž‹ï¼ŒçŠ¶æ€ç å’Œå‰ç«¯å¼€å‘ä¼šæ¯”è¾ƒç›¸å…³ä¸€ç‚¹ï¼Œæ›´å…·ä½“çš„ä»‹ç»åŽé¢ä¼šè¯¦ç»†è¯´ 1xx ä¿¡æ¯æç¤º 2xx æˆåŠŸ 3xx é‡å®šå‘ 4xx å®¢æˆ·ç«¯é”™è¯¯ 5xx æœåŠ¡ç«¯é”™è¯¯ å¤´éƒ¨å­—æ®µçŠ¶æ€è¡Œä¸Žç©ºè¡Œä¹‹é—´å°±æ˜¯å“åº”å¤´éƒ¨å­—æ®µäº†ï¼Œ å“åº”å¤´æ¯”è¯·æ±‚å¤´åŠŸèƒ½ç›¸å¯¹æ¥è¯´å¤šä¸€ç‚¹ï¼Œæ¯”å¦‚åŽé¢ä¼šè¯´åˆ°çš„Set-Cookieã€‚123456X-Powered-By: ExpressContent-Type: text/html; charset=utf-8Content-Length: 22ETag: W/&quot;16-dDTk/xb5lvRNBfrz6lE//HVBox8&quot;Date: Tue, 22 May 2018 03:04:08 GMTConnection: keep-alive å“åº”å¤´åŒ…æ‹¬ä¸€äº›æœåŠ¡æœ¬èº«çš„ä¿¡æ¯ä»¥åŠå“åº”å†…å®¹ä½“çš„ä¿¡æ¯ï¼Œæ¯”å¦‚è¿™é‡Œçš„Date: Tue, 22 May 2018 03:04:08 GMT æ˜¯å“åº”çš„æ—¶é—´Content-Length: 22æ˜¯è¿”å›žçš„æ¶ˆæ¯ä½“é•¿åº¦ã€‚ ç©ºè¡Œ(CRLF)å’Œè¯·æ±‚çš„CRLFæ˜¯ä¸€æ ·çš„ï¼Œç”¨æ¥éš”å¼€å“åº”å¤´å’Œå“åº”å†…å®¹ä¸»ä½“ å“åº”æ¶ˆæ¯ä¸»ä½“åœ¨æˆ‘ä»¬è¿™ä¸ªä¾‹å­é‡Œé¢æ˜¯ä¸€å¥å¾ˆç®€å•çš„ &lt;h1&gt;Hello, Jsonz!&lt;/h1&gt;ï¼Œè¿™é‡Œå“åº”ä¸»ä½“æœ‰å¾ˆå¤šç§æ ¼å¼ï¼Œå¦‚æžœæ˜¯gifçš„è¯ä¼šè¿”å›žgifçš„äºŒè¿›åˆ¶å­—èŠ‚é›†åˆ è¯·æ±‚è¯·æ±‚çš„ç»“æž„ç»„æˆRequest:1234Request-Line CRLF*Request-HEAD CRLFCRLF[ message-body ] Request-Line =&gt; Request-List = Method SPACE Request-URI SPACE HTTP-Version CRLFè¿™é‡Œæˆ‘ä»¬ä¸»è¦Request-Methodséƒ¨åˆ† GETGET æ–¹æ³•ä¸€èˆ¬æ˜¯ç”¨æ¥èŽ·å–URLæŒ‡å®šçš„èµ„æº å¯ä»¥é…åˆ Range æ¥èŽ·å–å±€éƒ¨èµ„æºã€‚å‘èµ·è¯·æ±‚12GET /index.txt HTTP/1.1Range: bytes=0-4 æœåŠ¡ç«¯å“åº”12345HTTP/1.1 206 Partial ContentContent-Type: text/htmlContent-Range: bytes 0-5/12Content-Length: 5hello åœ¨ä¸€äº›è§†é¢‘çš„åœºæ™¯ï¼Œæ¯”å¦‚ç”¨æˆ·ç‚¹å‡»åˆ°æŸä¸ªè¿›åº¦ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æŽ¥ä»Žè¯¥è¿›åº¦åŽ»è¯·æ±‚ï¼Œè€Œä¸æ˜¯æ•´ä¸€ä¸ªè§†é¢‘éƒ½è¯·æ±‚ä¸‹æ¥ã€‚å“åº”å¤´çš„Content-Range: bytes 0-5/12æŒ‡çš„æ˜¯å½“å‰è¿”å›ž0-5ï¼Œæ€»é•¿ä¸º12ã€‚ é…åˆ ETag åšç¼“å­˜æœåŠ¡ç«¯åœ¨å“åº”å¤´é‡Œé¢ä¼šç»™ä¸€ä¸ªETagæ ‡è¯†ï¼Œè¿™ä¸ªæ ‡è¯†æˆ‘ä»¬åœ¨å¼€å¤´çš„æ—¶å€™æœ‰è¯´äº†æ˜¯æ–‡ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚é‚£ä¹ˆæˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥è¿™ä¹ˆåšï¼Œåœ¨GETè¯·æ±‚æ—¶ä½¿ç”¨æ¡ä»¶èŽ·å–å¤´éƒ¨å­—æ®µï¼Œå¦‚æžœæœåŠ¡ç«¯å‘çŽ°è¿™ä¸ªå­—æ®µä¸Žæ–‡ä»¶çš„ETagæ ‡è¯†åŒ¹é…ï¼Œåˆ™å¯ä»¥åšç¼“å­˜ï¼Œå¦åˆ™å‘é€æ–°çš„æ–‡æ¡£è¿‡æ¥ã€‚ å‘èµ·è¯·æ±‚12GET /hello.htm HTTP/1.1If-None-Match: W/&quot;16-dDTk/xb5lvRNBfrz6lE//HVBox8&quot; æœåŠ¡ç«¯å“åº”12345HTTP/1.1 304 Not ModifiedX-Powered-By: ExpressETag: W/&quot;16-dDTk/xb5lvRNBfrz6lE//HVBox8&quot;Date: Tue, 22 May 2018 12:08:23 GMTConnection: keep-alive è¿™é‡Œæˆ‘ä»¬çš„ETagä¸Žæ–‡ä»¶åŒ¹é…ä¸Šäº†ï¼Œæ‰€ä»¥æœåŠ¡ç«¯ç›´æŽ¥å“åº” 304 çŠ¶æ€ç (Not Modified); HEADHEADæ–¹æ³•å’ŒGETæ–¹æ³•çš„åŒºåˆ«æ˜¯ HEADæ–¹æ³•è¯·æ±‚ï¼Œå“åº”çš„æ—¶å€™å°±åªä¼šå‘é€å“åº”æ¶ˆæ¯çš„å¤´éƒ¨å­—æ®µï¼Œä¸ä¼šæŠŠå“åº”æ¶ˆæ¯ä¸»ä½“è¿”å›ž é‚£ä¹ˆHEADçš„åœºæ™¯ä¸€èˆ¬åœ¨ä»€ä¹ˆåœ°æ–¹å‘¢ï¼Ÿ ä¸€èˆ¬å¯ç”¨äºŽå‘èµ·ä¸€ä¸ªè¯·æ±‚æ¥èŽ·å–æœåŠ¡ç«¯çš„èµ„æºå¤§å°ï¼Œå†åˆ†æ®µèŽ·å–ã€‚ POSTæˆ‘ä»¬å¹³æ—¶å¤§éƒ¨åˆ†åœºæ™¯ç”¨çš„éƒ½æ˜¯POSTæ–¹æ³•ï¼Œå› ä¸ºPOSTæ–¹æ³•ä¸ä¼šæŠŠå‚æ•°éƒ½ä¸¢åœ¨URLä¸Šï¼Œå¯¹è¯·æ±‚çš„æ•°æ®å¤§å°æ²¡æœ‰é™åˆ¶ï¼Œè¯·æ±‚ä¹Ÿä¸ä¼šç¼“å­˜ã€‚ OPTIONSOPTIONSæ–¹æ³•ä¸»è¦æ˜¯ç”¨æ¥æŸ¥è¯¢URLæŒ‡å®šçš„èµ„æºæ‰€æ”¯æŒçš„æ–¹æ³•åˆ—è¡¨ å‘èµ·è¯·æ±‚1OPTIONS /hello.htm HTTP/1.1 æœåŠ¡ç«¯å“åº”12345678910HTTP/1.1 200 OKX-Powered-By: ExpressAllow: GET,HEADContent-Type: text/html; charset=utf-8Content-Length: 8ETag: W/&quot;8-ZRAf8oNBS3Bjb/SU2GYZCmbtmXg&quot;Date: Tue, 22 May 2018 12:20:42 GMTConnection: keep-aliveGET,HEAD% è¿™é‡Œåˆ—å‡ºäº†è¿™ä¸ªèµ„æºæ”¯æŒ GETä¸ŽHEADæ–¹æ³• PUTPUTæ–¹æ³•ä¸Šé¢è®²äº†æ˜¯ å¯¹URLæŒ‡å®šçš„èµ„æºè¿›è¡Œåˆ›å»ºï¼Œå¦‚æžœå­˜åœ¨å°±ä¿®æ”¹ä»–ã€‚ ç†è®ºä¸Šè¿™ç§éœ€æ±‚ç›´æŽ¥ç”¨POSTæ–¹æ³•å°±å®Œå…¨å¤Ÿç”¨äº†ï¼Œæ¯”å¦‚åˆ›å»ºè®¢å•POST /order/createæ›´æ–°è®¢å• POST /order/orderId ä½†æ˜¯è¿™é‡Œå¦‚æžœæ”¹æˆPUTåˆ›å»ºçš„è¯ï¼Œå¯ä»¥ç›´æŽ¥è¿™æ · PUT /order æ›´ç¬¦åˆRestful APIè§„èŒƒï¼Œå¦‚æžœæ¢æˆå‰ç«¯çš„å±‚é¢æ¥è¯´ï¼Œå°±åƒdivä¸Žheader, nav, section, aside, footerè¿™äº›æ›´æœ‰è¯­ä¹‰åŒ–çš„æ ‡ç­¾ã€‚ DELETEåˆ é™¤æŸä¸ªèµ„æºï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„ CONNECT åœ¨å½“å‰å·²ç»å»ºç«‹HTTPè¿žæŽ¥çš„æƒ…å†µä¸‹ï¼ŒCONNECT æ–¹æ³•ç”¨æ¥å‘ŠçŸ¥ä»£ç†æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯æƒ³è¦å’ŒæœåŠ¡å™¨ä¹‹é—´å»ºç«‹SSLè¿žæŽ¥ã€‚ å®¢æˆ·ç«¯ä½¿ç”¨å¦‚ä¸‹æ¶ˆæ¯ï¼Œé€šçŸ¥ä»£ç†æœåŠ¡å™¨ï¼ŒåŽ»åšä¸€ä¸ªè¿žæŽ¥åˆ°æŒ‡å®šçš„æœåŠ¡å™¨åœ°å€å’Œç«¯å£:1CONNECT example.com 443 HTTP/1.1 ä»£ç†æœåŠ¡å™¨éšåŽæå–CONNECT æ–¹æ³•æŒ‡å®šçš„åœ°å€å’Œç«¯å£ï¼ˆè¿™é‡Œæ˜¯ example.com 443 ï¼‰ï¼Œå»ºç«‹å’Œæ­¤æœåŠ¡å™¨çš„SSLè¿žæŽ¥ï¼ŒæˆåŠŸåŽéšåŽé€šçŸ¥å®¢æˆ·ç«¯ï¼Œéœ€è¦çš„è¿žæŽ¥å»ºç«‹å®Œæ¯•ï¼š 1HTTP/1.1 OK ä½¿ç”¨CONNECTå‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡ç«¯ä¸ä¼šåŽ»è§£æžå­—æ®µç­‰æ“ä½œï¼Œè€Œæ˜¯å®Œå®Œå…¨å…¨å•çº¯çš„åšè½¬å‘ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºé€æ˜Žä»£ç†ã€‚ TRACEæŸ¥è¯¢åˆ°ç›®æ ‡èµ„æºç»è¿‡çš„ä¸­é—´èŠ‚ç‚¹ã€‚ å“åº”å“åº”ç»“æž„ç»„æˆResponse:1234Response-Line*(header CRLF) CRLF[ message-body ] Response-Line =&gt; HTTP-Version SPACE Status-Code SPACE Reason-Phrease CRLFè¿™é‡Œæˆ‘ä»¬ä¸»è¦Status-Codeéƒ¨åˆ† 1xx100 ContinueæœåŠ¡å™¨å·²ç»æŽ¥æ”¶åˆ°è¯·æ±‚å¤´ï¼Œå¹¶ä¸”å®¢æˆ·ç«¯åº”ç»§ç»­å‘é€è¯·æ±‚ä¸»ä½“ï¼ˆåœ¨éœ€è¦å‘é€èº«ä½“çš„è¯·æ±‚çš„æƒ…å†µä¸‹ï¼šä¾‹å¦‚ï¼ŒPOSTè¯·æ±‚ï¼‰ï¼Œæˆ–è€…å¦‚æžœè¯·æ±‚å·²ç»å®Œæˆï¼Œå¿½ç•¥è¿™ä¸ªå“åº”ã€‚ æ¯”å¦‚å®¢æˆ·ç«¯ä¸Šä¼ ä¸€äº›è§†é¢‘æ–‡ä»¶ï¼Œå¯ä»¥å…ˆåœ¨è¯·æ±‚å¤´åŠ ä¸€ä¸ªExpect: 100-continue å¦‚æžœæœåŠ¡ç«¯å…è®¸æŽ¥æ”¶è¯¥æ–‡ä»¶ï¼ˆå¤§å°ï¼‰ï¼Œå°±è¿”å›ž100ï¼Œä¸å…è®¸åˆ™è¿”å›ž417çŠ¶æ€ç ã€‚ 2xx2xx ç³»åˆ—éƒ½æ˜¯è¡¨ç¤ºè¯·æ±‚å·²ç»æˆåŠŸå¤„ç†äº†ï¼Œè¿™é‡Œåˆ—ä¸¾å‡ ä¸ªæ¯”è¾ƒå¸¸è§çš„ 200 OKæœ€å¸¸è§çš„å¯èƒ½å°±æ˜¯200äº†ï¼Œå¹³æ—¶å†™ajaxå¾ˆå¤šéƒ½æ˜¯ç›´æŽ¥åˆ¤æ–­ xmlhttp.status==200, ä»–ä»£è¡¨çš„æ˜¯è¯·æ±‚å·²ç»æˆåŠŸå®Œæˆ 201 Created201è¡¨ç¤ºè¯·æ±‚å·²ç»è¢«å®žçŽ°ï¼Œè€Œä¸”æœ‰ä¸€ä¸ªæ–°çš„èµ„æºå·²ç»ä¾æ®è¯·æ±‚çš„éœ€è¦è€Œåˆ›å»ºï¼Œä¸”å…¶URIå·²ç»éšLocationå¤´ä¿¡æ¯è¿”å›žã€‚å‡å¦‚éœ€è¦çš„èµ„æºæ— æ³•åŠæ—¶åˆ›å»ºçš„è¯ï¼Œåº”å½“è¿”å›žâ€™202 Acceptedâ€™ã€‚ 202 Accepted202ä»£è¡¨æœåŠ¡å™¨å·²æŽ¥å—è¯·æ±‚ï¼Œä½†å°šæœªå¤„ç†ã€‚æœ€ç»ˆè¯¥è¯·æ±‚å¯èƒ½ä¼šä¹Ÿå¯èƒ½ä¸ä¼šè¢«æ‰§è¡Œï¼Œå¹¶ä¸”å¯èƒ½åœ¨å¤„ç†å‘ç”Ÿæ—¶è¢«ç¦æ­¢ 204 No ContentæœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œæ²¡æœ‰è¿”å›žä»»ä½•å†…å®¹ã€‚ 206 Partical Content206ä¸»è¦æ˜¯ä¸ºäº†æ”¯æŒå¤§æ–‡ä»¶çš„åˆ†æ®µä¸‹è½½ï¼Œç±»ä¼¼è¿…é›·è¿™ç±»çš„HTTP ä¸‹è½½å·¥å…·éƒ½æ˜¯ä½¿ç”¨æ­¤ç±»å“åº”å®žçŽ°æ–­ç‚¹ç»­ä¼ æˆ–è€…å°†ä¸€ä¸ªå¤§æ–‡æ¡£åˆ†è§£ä¸ºå¤šä¸ªä¸‹è½½æ®µåŒæ—¶ä¸‹è½½ã€‚ è¿™é‡Œç”¨ä¹¦é‡Œçš„ä¸€ä¸ªä¾‹å­æ¥å±•ç¤º,å…ˆç”¨ HEAD èŽ·å–è¯¥èµ„æºçš„å¤§å°ï¼Œå†ç”¨Rangeåˆ†æ®µèŽ·å–ï¼Œè¿™äº›æ–¹æ³•ä¸Šé¢éƒ½æœ‰ä»‹ç»è¿‡ï¼Œè¿™é‡Œç»¼åˆèµ·æ¥è¿ç”¨:12345678910111213141516171819202122232425262728HEAD /large.jpg HTTP/1.1Host: example.comHTTP/1.1 200 OKAccept-Ranges: bytesContent-Length: 4000Get /large.jpg HTTP/1.1Host: example.comRange: bytes=0-1999HTTP/1.1 206 Partical ContentAccept-Ranges: bytesContent-Length: 2000Content-Range: bytes 0-1999/4000&#123;binary data&#125;GET /large.jpg HTTP/1.1Host: example.comRange: bytes=2000-HTTP/1.1 206 Partical ContentAccept-Ranges: bytesContent-Length: 2000Content-Range: bytes 2000-3999/4000&#123;binary data&#125; 2xx å¾ˆå¤šåªæ˜¯è§„èŒƒä¸Žè¯­ä¹‰åŒ–çš„åŒºåˆ«ã€‚ 3xx3xxç³»åˆ—é™¤äº† 304 ä»¥å¤–ï¼Œå…¶ä»–éƒ½æ˜¯ç”¨äºŽé‡å®šå‘çš„ 300 Multiple Choices300æ˜¯è¯·æ±‚çš„èµ„æºæœ‰ä¸€ç³»åˆ—å¯ä¾›é€‰æ‹©çš„å›žé¦ˆä¿¡æ¯ï¼Œç”¨æˆ·æˆ–æµè§ˆå™¨èƒ½å¤Ÿè‡ªè¡Œé€‰æ‹©ä¸€ä¸ªé¦–é€‰çš„åœ°å€è¿›è¡Œé‡å®šå‘ã€‚ 301 Moved Permanently &amp;&amp; 302 Found301 ä¸Ž 302 éƒ½ä»£è¡¨å½“å‰è®¿é—®çš„URLå¯¹åº”çš„èµ„æºè¢«ç§»åŠ¨åˆ°ä¸€ä¸ªæ–°çš„ä½ç½®ï¼Œè¿™ä¸ªä½ç½®ä¼šåœ¨å“åº”å¤´Locationå†…æŒ‡å®šã€‚ä»–ä»¬çš„åŒºåˆ«æ˜¯ 301æ˜¯æ°¸ä¹…è¢«ç§»åŠ¨åˆ°æ–°ä½ç½®ï¼Œè€Œ302æ˜¯æš‚æ—¶æ€§çš„ä¸´æ—¶é‡å®šå‘ 304 Not Modified304æˆ‘ä»¬åœ¨å‰é¢å·²ç»æœ‰è§åˆ°è¿‡äº†ï¼Œç”¨ETagä¸ŽIf-None-Matché…åˆåšç¼“å­˜æ—¶ï¼Œå°±ä¼šè¿”å›ž304 ä»£è¡¨è¯¥èµ„æºæœªè¢«ä¿®æ”¹ï¼Œå¯ä»¥ç»§ç»­ç”¨ä»¥å‰ä¸‹è½½çš„å‰¯æœ¬ã€‚ 400400æŒ‡çš„æ˜¯å®¢æˆ·ç«¯é”™è¯¯ï¼Œæ—¢æœåŠ¡ç«¯æŽ¥æ”¶åˆ°è¯¥è¯·æ±‚ï¼Œä½†æ˜¯æ”¶åˆ°çš„è¯·æ±‚æ— æ³•å¤„ç†,è¿™é‡Œåˆ—å‡ºå¸¸è§çš„å‡ ç§ 400 Bad Requestç”±äºŽæ˜Žæ˜¾çš„å®¢æˆ·ç«¯é”™è¯¯ï¼ˆä¾‹å¦‚ï¼Œæ ¼å¼é”™è¯¯çš„è¯·æ±‚è¯­æ³•ï¼Œå¤ªå¤§çš„å¤§å°ï¼Œæ— æ•ˆçš„è¯·æ±‚æ¶ˆæ¯æˆ–æ¬ºéª—æ€§è·¯ç”±è¯·æ±‚ï¼‰ï¼ŒæœåŠ¡å™¨ä¸èƒ½æˆ–ä¸ä¼šå¤„ç†è¯¥è¯·æ±‚ 401 Unauthorized401æ—¢æœªè®¤è¯ï¼Œåº”è¯¥æ˜¯æœ€ç®€å•çš„ç”¨æˆ·è®¤è¯ç™»å½•ç³»ç»Ÿäº†ã€‚ä¸Ž403ä¸åŒï¼Œè¿™é‡Œå¦‚æžœç”¨æˆ·æä¾›å¿…è¦çš„å‡­æ®ï¼Œå°±å¯ä»¥è®¿é—®èµ„æºã€‚ 403 ForbiddenæœåŠ¡å™¨å·²ç»ç†è§£è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æ‰§è¡Œå®ƒã€‚ä¸Ž401å“åº”ä¸åŒçš„æ˜¯ï¼Œèº«ä»½éªŒè¯å¹¶ä¸èƒ½æä¾›ä»»ä½•å¸®åŠ©ï¼Œè€Œä¸”è¿™ä¸ªè¯·æ±‚ä¹Ÿä¸åº”è¯¥è¢«é‡å¤æäº¤ã€‚é¡¹ç›®ä¸­çš„ç»éªŒå°±æ˜¯ï¼Œå¦‚æžœç”¨æˆ·ç™»å½•çŠ¶æ€è¿‡æœŸï¼ŒåŽå°è¿”å›ž403çŠ¶æ€ç ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å†åŽ»æ‰§è¡Œè‡ªåŠ¨ç™»å½•æˆ–è€…æç¤ºç™»å½•çš„é€»è¾‘ã€‚ 404 Not Fountè¯·æ±‚å¤±è´¥ï¼Œè¯·æ±‚æ‰€å¸Œæœ›å¾—åˆ°çš„èµ„æºæœªè¢«åœ¨æœåŠ¡å™¨ä¸Šå‘çŽ°ï¼Œä½†å…è®¸ç”¨æˆ·çš„åŽç»­è¯·æ±‚ã€‚è¿™ä¸ªå¯èƒ½æ˜¯æœ€å¸¸è§çš„4xxçŠ¶æ€ç  412 Precondition Failed å®¢æˆ·ç«¯å‘èµ·äº†æ¡ä»¶è¯·æ±‚ï¼ŒæœåŠ¡å™¨å‘çŽ°è¿™ä¸ªè¯·æ±‚ä¸­çš„å…¶ä¸­ä¸€ä¸ªæ¡ä»¶å¹¶ä¸æˆç«‹ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±ä¼šç”¨æ­¤é”™è¯¯ç ä½œä¸ºå“åº”æ¶ˆæ¯çš„çŠ¶æ€ç è¿”å›žç»™å®¢æˆ·ç«¯ã€‚æ¯”å¦‚æˆ‘ä»¬åœ¨è¯·æ±‚å¤´è®¾ç½®æ¡ä»¶é™å®š:If-Unmodified-Sinceï¼Œå¦‚æžœæœåŠ¡ç«¯æ ¡éªŒè¿™ä¸ªæ¡ä»¶ï¼Œå‘çŽ°è¯´æ²¡æœ‰æ»¡è¶³çš„è¯ï¼Œå°±ä¼šè¿”å›ž 412 çŠ¶æ€ç ã€‚ 5xx400æ˜¯å®¢æˆ·ç«¯é”™è¯¯ï¼Œ500å°±æ˜¯æœåŠ¡ç«¯çš„é”™è¯¯çŠ¶æ€ç ã€‚ 500 Internal Server Error500ä¸ºé€šç”¨é”™è¯¯æ¶ˆæ¯ï¼ŒæœåŠ¡å™¨é‡åˆ°äº†ä¸€ä¸ªæœªæ›¾é¢„æ–™çš„çŠ¶å†µï¼Œå¯¼è‡´äº†å®ƒæ— æ³•å®Œæˆå¯¹è¯·æ±‚çš„å¤„ç†ã€‚æ²¡æœ‰ç»™å‡ºå…·ä½“é”™è¯¯ä¿¡æ¯ï¼Œä¸€èˆ¬å¼€å‘è€…å¯ä»¥æŸ¥æ—¥å¿—ç­‰åŽ»è§£å†³è¯¥é”™è¯¯ã€‚ 503 Service Unavailable è¯´æ˜ŽæœåŠ¡å™¨çŽ°åœ¨æ— æ³•æä¾›æœåŠ¡ï¼Œä½†æ˜¯å°†æ¥å¯ä»¥ã€‚å¦‚æžœæœåŠ¡å™¨çŸ¥é“ä½•æ—¶èµ„æºå¯ç”¨ï¼Œåº”è¯¥åœ¨å“åº”ä¸­åŒ…å«Retry-Afterçš„é¦–éƒ¨ï¼Œæç¤ºå®¢æˆ·ç«¯å¯ä»¥é‡è¯•æœåŠ¡çš„æ—¶é—´ã€‚å¦‚æžœæ²¡æœ‰æä¾›Retry-Afterå¤´éƒ¨ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯åº”å½“ä»¥å¤„ç†500å“åº”çš„æ–¹å¼å¤„ç†å®ƒã€‚ ä»¥ä¸Šæ˜¯è§‰å¾—æ¯”è¾ƒå¸¸è§çš„çŠ¶æ€ç ï¼Œæ›´å¤šè¯·è§ç»´åŸºç™¾ç§‘ Cache-Controlä¸€èˆ¬æˆ‘ä»¬åœ¨æœåŠ¡ç«¯å“åº”å¯ä»¥åŠ ä¸Šè¿™ä¸ªå“åº”å¤´Cache-Control: max-age=2592000 æ¥è®©æµè§ˆå™¨æŠŠè¿™ä¸ªèµ„æºç¼“å­˜ä¸‹æ¥ï¼Œç¼“å­˜çš„æ—¶é—´ä¸º2592000æ—¢30å¤©ï¼Œä¹Ÿå¯ä»¥åœ¨æ—¶é—´åŽé¢åŠ ä¸Šä¸ªpublicæ¥æŒ‡ç¤ºè¯¥å“åº”å¯ä»¥è¢«ä»»ä½•ä¸­é—´äººï¼ˆcdn,ä»£ç†)ç¼“å­˜ã€‚ æ¶ˆæ¯ä¸»ä½“åœ¨è¯·æ±‚æ¶ˆæ¯æˆ–å“åº”æ¶ˆæ¯é‡Œé¢ï¼Œéƒ½å¯ä»¥åŒ…å«ä¸€ä¸ªå¯é€‰çš„æ¶ˆæ¯ä¸»ä½“ï¼ŒæœåŠ¡ç«¯æˆ–å®¢æˆ·ç«¯éƒ½æ²¡åŠžæ³•ä»Žæ¶ˆæ¯ä¸»ä½“é‡Œé¢èŽ·å–æ˜¯ä»€ä¹ˆå†…å®¹å•Šï¼Œä»€ä¹ˆç±»åž‹å•Šä»€ä¹ˆçš„ï¼Œæ‰€ä»¥å°±ä¼šæœ‰ä¸€ç»„å¤´éƒ¨å­—æ®µæ¥æ ‡ç¤ºä»–ã€‚ 1234567891011Content-Type å®žä½“ä¸­æ‰€æ‰¿è½½å¯¹è±¡çš„ç±»åž‹,å¦‚ txt/html; image/jpegContent-Length æ‰€ä¼ é€å®žä½“ä¸»ä½“çš„é•¿åº¦æˆ–å¤§å°ã€‚Content-Language ä¸Žæ‰€ä¼ é€å¯¹è±¡æœ€ç›¸é…çš„äººç±»è¯­è¨€, en-usç­‰Content-Encoding å¯¹è±¡æ•°æ®æ‰€åšçš„åŽ‹ç¼©æ ¼å¼,gzipç­‰.Content-Location ä¸€ä¸ªå¤‡ç”¨ä½ç½®ï¼Œè¯·æ±‚æ—¶å¯é€šè¿‡å®ƒèŽ·å¾—å¯¹è±¡ã€‚Content-Range è¯´æ˜Žå®ƒæ˜¯æ•´ä½“çš„å“ªä¸ªéƒ¨åˆ†,å¯ç”¨äºŽåˆ†æ®µèŽ·å–ã€‚Content-MD5 å®žä½“ä¸»ä½“å†…å®¹çš„æ ¡éªŒå’Œã€‚Last-Modified æ‰€ä¼ è¾“å†…å®¹åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºæˆ–æœ€åŽä¿®æ”¹çš„æ—¥æœŸæ—¶é—´ã€‚Expires å®žä½“æ•°æ®å°†è¦å¤±æ•ˆçš„æ—¥æœŸæ—¶é—´ã€‚Allow è¯¥èµ„æºæ‰€å…è®¸çš„å„ç§è¯·æ±‚æ–¹æ³•ï¼Œä¾‹å¦‚ï¼ŒGET å’Œ HEADã€‚ETag è¿™ä»½æ–‡æ¡£çš„å”¯ä¸€éªŒè¯ç ï¼Œå¯ç”¨äºŽç¼“å­˜ HTTP/2.0(h2)è¿™é‡Œç®€å•è¯´ä¸€ä¸‹h2ä¸ŽHTTP/1.1å¯¹äºŽå‰ç«¯å¼€å‘äººå‘˜æ¥è¯´æ¯”è¾ƒå¤§çš„æ”¹åŠ¨ã€‚ å¤šè·¯å¤ç”¨ (Multiplexing)å¤šè·¯å¤ç”¨å…è®¸åŒæ—¶é€šè¿‡å•ä¸€çš„ HTTP/2 è¿žæŽ¥å‘èµ·å¤šé‡çš„è¯·æ±‚-å“åº”æ¶ˆæ¯ã€‚åœ¨HTTP/1.1ä¸­ï¼Œæˆ‘ä»¬å®¢æˆ·ç«¯åœ¨åŒä¸€æ—¶é—´ï¼Œé’ˆå¯¹åŒä¸€äºŽåŸŸåä¸‹çš„è¯·æ±‚ä¼šæœ‰é™åˆ¶ï¼Œå¦‚æžœè¶…è¿‡æŸä¸ªå€¼çš„è¯·æ±‚ä¼šè¢«å µå¡žåˆ°ã€‚æ‰€ä»¥ä¸€èˆ¬çš„ä¼˜åŒ–æœ‰å‰ç«¯ç”¨é›ªç¢§å›¾æ¥åˆå¹¶å¤šä¸ªå°å›¾ç‰‡å‡å°‘è¯·æ±‚ï¼ŒåŽç«¯æŠŠèµ„æºåˆ†åˆ°ä¸åŒçš„åŸŸä¸‹é¢ï¼Œå‡å°‘åŒåŸŸçš„é™åˆ¶ã€‚ä½†æ˜¯å¦‚æžœç½‘ç«™ç”¨äº†h2çš„è¯ï¼Œå‰ç«¯ä¸éœ€è¦è€ƒè™‘ç±»ä¼¼é›ªç¢§å›¾ä¹‹ç±»çš„æŠŠå¤šä¸ªè¯·æ±‚åˆå¹¶ä¸ºä¸€ä¸ªå‡å°‘çš„ä¼˜åŒ–ã€‚ æœ€åŽå•°å—¦ä¸¤å¥ä¹‹æ‰€ä»¥ä¼šçœ‹ã€ŠHTTPå°ä¹¦ã€‹æ˜¯å› ä¸ºå‰æ®µæ—¶é—´é—®æˆ‘ä¸€ä¸ªæœ‹å‹è¯´æœ‰æ²¡æœ‰å…³äºŽHTTPæ¯”è¾ƒå¥½çš„ä¹¦ç±æŽ¨èï¼Œã€ŠHTTPæƒå¨æŒ‡å—ã€‹å…­ä¸ƒç™¾é¡µç»†èŠ‚å¤ªå¤šæ€•æ˜¯çœ‹å®Œç•™ä¸ä½ä»€ä¹ˆæ¦‚å¿µã€‚ä»–ç»™æˆ‘æŽ¨äº†ã€ŠHTTPå°ä¹¦ã€‹ï¼Œè¿™æœ¬ä¹¦ç®—æ˜¯æœ‰ç‚¹æ”¹å˜æˆ‘ä¸€äº›å…³äºŽçŸ¥è¯†èŽ·å–çš„è®¤çŸ¥ã€‚ç®€å•æ¥è¯´å°±æ˜¯ï¼Œå¤§å®¶åˆ«çœ‹9å—é’±çš„ä¹¦å°±é‚£ä¹ˆå‡ é¡µï¼Œç¿»ä¸€ä¸ªä¸Šåˆæˆ–è€…ä¸€å¤©å°±çœ‹å®Œï¼Œç„¶åŽå°±è§‰å¾—ä¸å€¼ï¼Œéžå¾—è¦çœ‹å“ªç§å‡ ç™¾é¡µçš„æ‰è§‰å¾—é’±å›žæœ¬äº†ã€‚è¿™ç¯‡æ–‡åªæ˜¯ä¸ªäººåœ¨çœ‹çš„æ—¶å€™åšäº†ä¸€äº›å½’çº³ï¼Œä¹¦ä¸­æœ‰æ›´è¯¦ç»†æ›´å¥½çš„è§£é‡Šï¼Œå…³é”®æ˜¯æä¾›äº†æºç ä¸Žä¾‹å­ï¼Œåœ¨çœ‹æ¦‚å¿µçš„æ—¶å€™å®žæ“ä¸€éä¼šåŠ æ·±å¾ˆå¤šå°è±¡ã€‚æ€»çš„æ¥è¯´ï¼Œè¿™æœ¬ä¹¦æŒºå€¼çš„ï¼Œå’Œä»–çš„æ ‡è¯­ä¸€æ ·ï¼šå‡†èƒ½å¸®ä½ çœä¸‹ä¸å°‘æ—¶é—´ ã€ŠHTTPå°ä¹¦ã€‹ã€ŠHTTPå°ä¹¦ã€‹ä½œè€…åˆ˜ä¼ å›HTTP Method æ›´è¯¦ç»†çš„ä»‹ç»HTTPç¼“å­˜ - MDN]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>Book</tag>
        <tag>HTTP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2018-05-21 å°è®°]]></title>
    <url>%2F2018%2F05%2F2018-05-21%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘å·¥ä½œä¸æ˜¯å¾ˆå¿™ï¼Œä¹Ÿæ²¡æœ‰å†æŠ•ç®€åŽ†åŽ»é¢è¯•ï¼Œå¥½åƒåˆå¼€å§‹æ¢å¤ä»¥å‰çš„å­¦ä¹ çƒ­æƒ…ä¸ŽèŠ‚å¥ã€‚ å‘äº†å‡ ç¯‡æ°´æ–‡~ çœ‹äº†ä¸€ä¸ªå°è„šæ‰‹æž¶çš„éƒ¨åˆ†æºç ã€Šcreate-react-appã€‹ï¼Œçœ‹äº†ä¸€æœ¬æŠ€æœ¯ä¹¦ã€Šcssä¸–ç•Œã€‹ï¼Œä¸€æœ¬å°è¯´ã€Šç™½é‡‘æ•°æ®ã€‹ã€‚ ä½†æ˜¯å†™è¿™ç¯‡æµæ°´çš„ä¸»è¦ç›®çš„æ˜¯å†æ¬¡æ„è¯†åˆ°è‡ªå·±çœ‹é—®é¢˜å¤ªè¿‡ å±€é™ã€‚ å…ˆäº¤ä»£ä¸€ä¸‹èƒŒæ™¯ï¼š ç›®å‰å…¬å¸çš„é¡¹ç›®æ˜¯åŸºäºŽ cookie åŽ»åˆ¤æ–­ä¸€äº›çŽ¯å¢ƒï¼Œç„¶åŽæŒ‡å‘æµ‹è¯•çŽ¯å¢ƒæˆ–è€…æ­£å¼çŽ¯å¢ƒ å¯¹äºŽ font å­—ä½“æ–‡ä»¶æ¥è¯´ï¼Œä»–çš„è¯·æ±‚æ˜¯æ²¡æœ‰å¸¦ä¸Šcookieçš„ï¼ˆchromeçš„bugï¼Œchromeè§‰å¾—è¯´è¿™ä¸ªæ–‡ä»¶ä¸éœ€è¦å¸¦ä¸Šcookieï¼Œsafariå°±ä¼šå¸¦) å‡ºçŽ°çš„é—®é¢˜æ˜¯ï¼š å¦‚æžœæµ‹è¯•çŽ¯å¢ƒæœ‰äº†æ–°çš„ font å­—ä½“ï¼Œé‚£ä¹ˆå› ä¸ºä»–æ²¡æœ‰å¸¦ä¸Šcookieï¼Œæ‰€ä»¥ä¼šè¢«æŒ‡å‘æ­£å¼çŽ¯å¢ƒæœåŠ¡å™¨åŽ»è¯·æ±‚èµ„æºï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™æ­£å¼çŽ¯å¢ƒè¿˜æ²¡æœ‰è¿™ä¸ª font å­—ä½“ï¼Œæ‰€ä»¥ä¼šæŠ¥404ã€‚ æ€Žä¹ˆè§£å†³ï¼Ÿ æˆ‘ç»™å‡ºçš„æ–¹æ¡ˆæ˜¯: åŽç«¯ç»™å‡ºä¸€ä¸ªé¡µé¢ï¼Œæˆ‘ä»¬æ‰“åŒ…åŽæŠŠå­—ä½“æ–‡ä»¶ä¸¢åˆ°æ­£å¼çŽ¯å¢ƒä¸Šé¢ å¦‚æžœä¸æƒ³è¿™ä¹ˆlowæ‰‹åŠ¨çš„è¯ï¼Œ é‚£å°±åœ¨æ‰“åŒ…å­—ä½“çš„å‘½ä»¤è¡ŒåŽé¢è‡ªåŠ¨åŽ»æäº¤åˆ°æ­£å¼çŽ¯å¢ƒ è€å¤§ç»™å‡ºçš„æ–¹æ¡ˆæ˜¯:ç›´æŽ¥æ ¹æ®ç›®å‰çš„çŽ¯å¢ƒåˆ†ç¦»æœºåˆ¶ï¼Œåœ¨nginxé…ç½®ä¸€ä¸‹ï¼šæµ‹è¯•çŽ¯å¢ƒä¸‹æ‰€æœ‰é™æ€èµ„æºç›´æŽ¥æŒ‡åˆ°æµ‹è¯•çŽ¯å¢ƒ = =ç®€ç›´è¢«åŠæ‰“ï¼Œçœ‹é—®é¢˜è¿˜æ˜¯å¾ˆå±€é™ æ²¡æœ‰è·³å‡ºå‰ç«¯çš„åœˆå­â€¦â•®(â•¯â–½â•°)â•­ æ‰€ä»¥æŽ¥ä¸‹æ¥ä¼˜å…ˆè¡¥åŽç«¯çš„ä¸€äº›åŸºç¡€çŸ¥è¯† ðŸ’ª]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>blog</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Šcssä¸–ç•Œã€‹å¸¸ç”¨æŠ€å·§ â€”â€” è¯»ä¹¦ç¬”è®°]]></title>
    <url>%2F2018%2F05%2Fcss-world%2F</url>
    <content type="text"><![CDATA[å‰æ®µæ—¶é—´é¢äº†è”æžï¼Œåé¦ˆè¯´å¯¹ä¸€äº›cssæ¦‚å¿µæ€§çš„ä¸œè¥¿æŽŒæ¡ä¸æ˜¯å¾ˆå¥½~ æ‰€ä»¥æœ€è¿‘æœ‰ç©ºçœ‹äº†å¼ é‘«æ—­å¤§ä½¬çš„ã€ŠCSSä¸–ç•Œã€‹å…¨æœ¬é€šç†Ÿæ˜“æ‡‚ï¼Œç»§æ‰¿äº†åšå®¢çš„ç”»é£Žï¼Œå…¥å£å³åŒ– å¾ˆå¤šä¸œè¥¿ä¸‰è¨€ä¸¤è¯­è®²ä¸æ¸…æ¥šï¼Œå¤§å®¶å¯ä»¥å…¥æ‰‹å¼ é‘«æ—­å¤§ä½¬çš„ä¹¦æ¥çœ‹çœ‹ï¼Œé‡Œé¢å¾ˆå¤šå¸¸ç”¨çš„æ¦‚å¿µå’Œå±žæ€§éƒ½å¸®æˆ‘ä»¬æ‹ä¸€éã€‚ã€Šcssä¸–ç•Œã€‹è´­ä¹°é“¾æŽ¥é™„ä¸Šå¼ é‘«æ—­å¤§ä½¬çš„åšå®¢ï¼Œæœ‰äº‹æ²¡äº‹çœ‹ä¸€çœ‹ç»å¸¸ä¼šæœ‰æ„å¤–æ”¶èŽ·å¼ é‘«æ—­åšå®¢ æ”¹å˜ width/height ä½œç”¨ç»†èŠ‚çš„ box-sizing box-sizingçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ ä¸€å¥è¯ï¼Œæ”¹å˜äº† width ä½œç”¨çš„ç›’å­ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œwidth æ˜¯ä½œç”¨åœ¨ content box ä¸Šçš„ï¼Œbox-sizing çš„ä½œç”¨å°±æ˜¯å¯ä»¥æŠŠ width ä½œç”¨çš„ç›’å­å˜æˆå…¶ä»–å‡ ä¸ªã€‚ ä½†æ˜¯ç›®å‰ box-sizing ä»…æ”¯æŒ content-box å’Œ border-boxã€‚123456789101112131415161718/* è¿™é‡Œ box1å®½åº¦é»˜è®¤ä½œç”¨åœ¨content-box,æ‰€ä»¥ width è¡¨çŽ°ä¸º 100 + 10*2 + 20*2 = 160px */.box1 &#123; width: 100px; height: 100px; border: 10px; padding: 20px; background-color: red;&#125;/* è¿™é‡Œ box2æ·»åŠ äº† box-sizing: border-box; æ‰€ä»¥å®½åº¦ä½œç”¨æ”¹æˆäº†contentã€paddingä¸Žborderï¼Œwidth è¡¨çŽ°ä¸º100px, contentä¸º: 100- 10* 2- 20* 2 = 40px*/.box2 &#123; width: 100px; height: 100px; border: 10px; padding: 20px; background-color: red; box-sizing: border-box;&#125; min-width/max-width min-height/max-height æƒé‡è¶…è¶Š !important, min-widthè¶…è¶Šmax-widthmin-*åˆå§‹å€¼è§„èŒƒé‡Œä¸º 0ï¼Œå®žé™…å°è¯•ä¸ºautomax-*åˆå§‹å€¼ä¸º auto12345678/*ä¸‹é¢ä»£ç è¡¨çŽ°ä¸º 100px*/.box1 &#123; min-width: 100px max-width: 10px; width: 50px!important;&#125; paddingçš„ç™¾åˆ†æ¯”å€¼è®¡ç®—è§„åˆ™æ˜¯ç›¸å¯¹äºŽå®½åº¦è®¡ç®—çš„è¿™é‡Œå¼•å‡ºä¸€é“é¢è¯•é¢˜ï¼Œ ä¸å€ŸåŠ©jsçš„æƒ…å†µä¸‹ç”¨ä¸€ä¸ªå…ƒç´ å®žçŽ°ç›¸å¯¹äºŽæµè§ˆå™¨çª—å£å®½åº¦1/2çš„æ­£æ–¹å½¢å½“æ—¶æˆ‘çš„å›žç­”æ˜¯ç”¨vwï¼Œå¦‚æžœæ—©ç‚¹çœ‹cssä¸–ç•Œå°±çŸ¥é“paddingè¿™ä¸ªå±žæ€§äº†ã€‚12345678910/* vwæ–¹æ³• */.box1 &#123; width: 50vw; height: 50vw;&#125;/* paddingæ–¹æ³• */.box2 &#123; padding: 25%; display: inline-block;&#125; padding çš„å›¾å½¢ç»˜åˆ¶ ä¸€ä¸ªå…ƒç´ ç”»å‡ºçº¢é¢†å·¾çš„â€œä¸‰é“æ â€1234567891011.box1 &#123; display: inline-block; background: currentColor; width: 140px; height: 10px; border-top: 10px solid; border-bottom: 10px solid; padding: 35px 0; /* è¿™é‡Œå…¶å®žå…³é”®èµ·ä½œç”¨çš„è¿˜æ˜¯ background-clip: content-box; æŠŠèƒŒæ™¯è‰²ä½œç”¨ä»Žborder-boxæ”¹ä¸ºcontent-box*/ background-clip: content-box;&#125; 1&lt;div class="box1"&gt;&lt;/div&gt; padding çš„å›¾å½¢ç»˜åˆ¶ ä¸€ä¸ªå…ƒç´ ç”»å‡ºåŒå±‚åœ†ç‚¹å›¾å½¢æ•ˆæžœ1234567891011.box1 &#123; display: inline-block; background: currentColor; width: 100px; height: 100px; padding: 10px; background-clip: content-box; border: 10px solid; background-clip: content-box; border-radius: 50%;&#125; 1&lt;div class="box1"&gt;&lt;/div&gt; marginçš„ç™¾åˆ†æ¯”å€¼è®¡ç®—è§„åˆ™å’Œpaddingä¸€æ ·ï¼Œä½†æ˜¯marginåœ¨åž‚ç›´æ–¹å‘æ²¡åŠžæ³•æ”¹å˜è‡ªèº«å†…éƒ¨å°ºå¯¸å¾€å¾€è¦å€ŸåŠ©çˆ¶å…ƒç´ ä½œä¸ºè½½ä½“ï¼Œè¿˜å­˜åœ¨marginåˆå¹¶çš„é—®é¢˜è¿˜æ˜¯é‚£é“æµè§ˆå™¨çª—å£1/2çš„é¢è¯•é¢˜ï¼Œå¦‚æžœæ²¡æœ‰è¦æ±‚åªç”¨ä¸€ä¸ªå…ƒç´ å®žçŽ°çš„è¯ï¼Œå¯ä»¥ç”¨marginåŽ»å®žçŽ° è¿™é‡Œç®€å•è¯´ä¸€ä¸‹ï¼Œä¹‹æ‰€ä»¥è®¾ç½®çˆ¶çº§box1çš„overflow:hiddenï¼Œæ˜¯å› ä¸ºè¦åˆ›å»ºä¸€ä¸ªå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡å…ƒç´ ,ä¸€æ–¹é¢å¯ä»¥ç”¨å­çº§marginæ’‘èµ·é«˜åº¦ï¼Œå¦ä¸€æ–¹é¢å¤„ç†marginåˆå¹¶é—®é¢˜ï¼Œæ‰€ä»¥å­çº§.box2ç›´æŽ¥ç”¨margin:100%ï¼Œè€Œä¸æ˜¯200%ã€‚12345678910.box1 &#123; background: currentColor; overflow: hidden; /* å®½åº¦çª—å£1/2 */ width: 50%;&#125;.box2 &#123; /* é«˜åº¦çª—å£1/2 */ margin: 100%;&#125; 1&lt;div class="box1"&gt;&lt;div class="box2"&gt;&lt;/div&gt;&lt;/div&gt; marginåˆå¹¶çš„è§£å†³æ–¹æ³•è¿™é‡Œåªåˆ—ä¸¾å‡ºmargin-topåˆå¹¶çš„æƒ…å†µ, margin-bottomä¸Žå…¶ç›¸å¯¹åº” çˆ¶å…ƒç´ è®¾ä¸ºå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼Œ7å°±æ˜¯ çˆ¶å…ƒç´ è®¾ç½®border-top çˆ¶å…ƒç´ è®¾ç½®padding-top (è¿™é‡Œå¯ä»¥ç”¨margin-topè´Ÿå€¼æ¥æ¶ˆé™¤ä½œç”¨) çˆ¶å…ƒç´ ä¸Žç¬¬ä¸€ä¸ªå­å…ƒç´ ä¹‹é—´æ·»åŠ å†…è”å…ƒç´ è¿›è¡Œåˆ†éš” åˆ©ç”¨ margin: auto åšåž‚ç›´ä¸Šä¸‹å±…ä¸­1234567891011121314151617.box1 &#123; height: 400px; width: 400px; border: 1px solid ; position: relative;&#125;.box2 &#123; position: absolute; left: 0; right: 0; top: 0; bottom: 0; background-color: currentColor; width: 200px; height: 200px; margin: auto;&#125; 1&lt;div class="box1"&gt;&lt;div class="box2"&gt;&lt;/div&gt;&lt;/div&gt; border é»˜è®¤é¢œè‰²ä¸ºå…ƒç´ colorå€¼borderç»˜åˆ¶ä¸‰è§’å½¢é¡¹ç›®ä¸Šç”»ä¸‰è§’å½¢ç»å¤§éƒ¨åˆ†éƒ½æ˜¯ç”¨borderï¼Œå¥½æŽ§åˆ¶ï¼Œå®žçŽ°ç®€å•ï¼Œæˆæœ¬ä½Žåªéœ€ä¸€ä¸ªå…ƒç´ ã€‚123456.box1 &#123; border: 10px; border-style: solid; border-color: currentColor transparent transparent; width: 0;&#125; csså°ºå¯¸å•ä½exï¼ŒæŒ‡çš„æ˜¯å­—æ¯xçš„é«˜åº¦ã€‚è¿™é‡Œç®€å•è¯´ä¸€ä¸‹ï¼Œcssé‡Œé¢çš„åŸºçº¿(baseline)å…¶å®žå°±æ˜¯å­—æ¯xçš„ä¸‹è¾¹ç¼˜çº¿å…³äºŽexçš„åº”ç”¨è¿™é‡Œä¸å†™å‘†æ¯›äº†ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä»–æ¥å®žçŽ°æ–‡å­—ä¸Žå›¾ç‰‡å±…ä¸­ï¼Œç›´æŽ¥ç»™å¼ é‘«æ—­å¤§ä½¬çš„demoå†æ„Ÿæ…¨ä¸€ä¸‹ï¼Œè™½ç„¶è¿™äº›ä¸œè¥¿å¤šå¤šå°‘å°‘éƒ½åœ¨å¼ é‘«æ—­åšå®¢çœ‹åˆ°ï¼Œä½†æ˜¯è¿™æœ¬ä¹¦çœŸçš„å¯¹ä¸€äº›ä¸œè¥¿çš„è®²è§£å¾ˆé€šä¿—æ˜“æ‡‚ã€‚å¤§å®¶å¯ä»¥å…¥æ‰‹æœ‰ç©ºç¿»ä¸€ç¿» BFC å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡åœ¨ä¸Šé¢æˆ‘ä»¬è®²è¿‡äº†è®¾ç½®overflow:hidden;å¯ä»¥åˆ›å»ºBFCæ¥æ¸…é™¤æµ®åŠ¨ï¼Œé‚£ä¹ˆè¿˜æœ‰å“ªäº›æ–¹æ³•å¯ä»¥åˆ›å»ºBFCå‘¢ï¼Ÿ æ ¹ç›®å½• float å€¼ä¸ä¸º node overflow çš„å€¼ä¸º autoã€scrollæˆ–hidden(å¸¸ç”¨) display å€¼ä¸º table-cellã€ table-captionå’Œ inline-block(å¸¸ç”¨) position çš„å€¼ä¸ä¸º relativeå’Œ staticBFCçš„ç»“ç•Œç‰¹æ€§æœ€é‡è¦çš„ç”¨é€”ä¸æ˜¯åŽ»marginé‡å æˆ–æ¸…é™¤floatå½±å“ï¼Œè€Œæ˜¯å®žçŽ°æ›´å¥å£®ã€æ›´æ™ºèƒ½çš„è‡ªé€‚åº”å¸ƒå±€é¢è¯•çš„æ—¶å€™é¢è¯•å®˜é—®æˆ‘BFCä¸»è¦ç”¨æ¥åšä»€ä¹ˆï¼Œæˆ‘çš„å›žç­”æ˜¯ æ¸…é™¤æµ®åŠ¨å’ŒåŽ»marginé‡å ã€‚çœŸçš„æ˜¯å“ªå£¶ä¸å¼€æå“ªå£¶â€¦å“­æ­»ðŸ˜­ ç”¨BFCå®žçŽ°ä¸€è¾¹å›ºå®šå®½åº¦ï¼Œå¦ä¸€è¾¹è‡ªé€‚åº”å¸ƒå±€12345678910111213141516&lt;style&gt; .box1 &#123; float: left; width: 200px; background: currentColor; &#125; .box2 &#123; overflow: hidden; background: red; &#125; div &#123; height: 200px; &#125;&lt;/style&gt;&lt;div class="box1"&gt;&lt;/div&gt;&lt;div class="box2"&gt;&lt;/div&gt; æ— ä¾èµ–absoluteç»å¯¹å®šä½ï¼ˆæ²¡æœ‰left/top/right/bottom)æˆ‘ä»¬å¹³æ—¶å¦‚æžœå¯¹å…ƒç´ è¿›è¡Œ absolute å®šä½ï¼Œå¤šåŠä¼šåŠ å¤šä¸ª left,topç„¶åŽç»™çˆ¶çº§åŠ ä¸ª relativeã€‚å®žé™…ä¸Šå¤§å¤šæ•°æƒ…å†µæˆ‘ä»¬å¯ä»¥ç›´æŽ¥ç”¨marginè¾…åŠ©å®šä½ï¼Œ12345.father&#123; position: relative; &#125;/* @before */.son &#123;position: absolute; top: 10px; left: 10px;&#125;/* @after */.son &#123;position: absolute; margin-top: 10px; margin-left: 10px;&#125; è¿™ä¹ˆå®žçŽ°æœ‰ä¸¤ä¸ªå¥½å¤„ï¼Œä¸€ä¸ªæ˜¯æˆ‘ä»¬ä¸éœ€è¦çˆ¶çº§åŽ»åŠ ä¸ªrelativeåŽé¢è¦æ’¤é”€ï¼Œç›´æŽ¥æ”¹ .sonæ ·å¼å°±å¥½ã€‚ç¬¬äºŒä¸ªå¥½å¤„å°±æ˜¯æŸäº›åœºæ™¯é€‚åº”æ€§æ¯”ä¾èµ–é¡¹å®šä½å¥½æ— ä¾èµ–åœ¨æœ‰å¤šè¯­è¨€åœºæ™¯ä¸‹åšè§’æ ‡ç®€ç›´æ˜¯å¤©ä½¿ï¼ï¼ï¼ä¸ç„¶ä¸€ä¸ªè‹±è¯­åœºæ™¯ï¼Œä¸€ä¸ªæ—¥è¯­åœºæ™¯ç½‘ç«™è‚¯å®šä¼šä¹±å¥—â€¦. å•è¡Œæ˜¾ç¤ºâ€¦æ›´å¤šæ•ˆæžœ1234567891011&lt;style&gt; .p1 &#123; text-overflow: ellipsis; width: 200px; overflow: hidden; white-space: nowrap; &#125;&lt;/style&gt;&lt;p class="p1"&gt; ç›®å‰ï¼Œå¯¹-webkit-ç§æœ‰å‰ç¼€æ”¯æŒè‰¯å¥½çš„æµè§ˆå™¨è¿˜å¯ä»¥å®žçŽ°å¤šè¡Œæ–‡å­—æ‰“ç‚¹æ•ˆæžœï¼Œä½†æ˜¯å´æ—  é¡»ä¾èµ– overflow:hiddenã€‚æ¯”æ–¹è¯´ï¼Œæœ€å¤šæ˜¾ç¤º 2 è¡Œå†…å®¹ï¼Œå†å¤šå°±æ‰“ç‚¹å°±&lt;/p&gt; å¤šè¡Œæ˜¾ç¤ºâ€¦æ›´å¤šæ•ˆæžœè¿™é‡Œç”¨äº†Overflowæ˜¯å› ä¸ºï¼Œä¸ç”¨çš„è¯ï¼Œä¼šæŠŠå¤šä½™çš„å†…å®¹å±•ç¤ºå‡ºæ¥ï¼Œä½†æ˜¯ç”¨ä¸ç”¨éƒ½ä¼šæœ‰çœç•¥å·æ•ˆæžœ123456789101112&lt;style&gt; .p1 &#123; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; width: 500px; overflow: hidden; &#125;&lt;/style&gt;&lt;p class="p1"&gt; ç›®å‰ï¼Œå¯¹-webkit-ç§æœ‰å‰ç¼€æ”¯æŒè‰¯å¥½çš„æµè§ˆå™¨è¿˜å¯ä»¥å®žçŽ°å¤šè¡Œæ–‡å­—æ‰“ç‚¹æ•ˆæžœï¼Œä½†æ˜¯å´æ—  é¡»ä¾èµ– overflow:hiddenã€‚æ¯”æ–¹è¯´ï¼Œæœ€å¤šæ˜¾ç¤º 2 è¡Œå†…å®¹ï¼Œå†å¤šå°±æ‰“ç‚¹å°±&lt;/p&gt; outlineè‡ªåŠ¨å¡«æ»¡å±å¹•å‰©ä½™ç©ºé—´çš„åº”ç”¨æŠ€å·§tip:clipæ˜¯è£å‰ªåŠŸèƒ½ï¼Œå¾ˆå¤šæƒ…å†µä¸‹æˆ‘ä»¬éƒ½ç”¨ä»–æ¥å®žçŽ°ä¸€äº›éšè—çš„æ•ˆæžœï¼Œæ¯”å¦‚è¿™ä¸ªæ —å­ðŸŒ°..12345678910111213141516&lt;style&gt; .footer &#123; height: 50px; &#125; .footer &gt;p &#123; position: absolute; left: 0;right: 0; background-color: #abcdef; outline: 9999px solid #abcdef; clip: rect(0 9999px 9999px 0); &#125;&lt;/style&gt;&lt;h1&gt;I am Jsonz.&lt;/h1&gt;&lt;div class="footer"&gt; &lt;p&gt;footer&lt;/p&gt;&lt;/div&gt; å±‚å ä¸Šä¸‹æ–‡ä»€ä¹ˆæ˜¯å±‚å ä¸Šä¸‹æ–‡ï¼Ÿ å±‚å ä¸Šä¸‹æ–‡ï¼Œè‹±æ–‡ç§°ä½œ stacking contextï¼Œæ˜¯ HTML ä¸­çš„ä¸€ä¸ªä¸‰ç»´çš„æ¦‚å¿µã€‚å¦‚æžœä¸€ä¸ªå…ƒç´ å« æœ‰å±‚å ä¸Šä¸‹æ–‡ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºè¿™ä¸ªå…ƒç´ åœ¨ z è½´ä¸Šå°±â€œé«˜äººä¸€ç­‰â€ã€‚ å±‚å ä¸Šä¸‹æ–‡ç”Ÿæˆè§„åˆ™: position å€¼ä¸º relative/absolute flex å¸ƒå±€ opacity å€¼ä¸æ˜¯ 1 transform å€¼ä¸æ˜¯ none filter å€¼ä¸æ˜¯ none -webkit-overflow-scrolling è®¾ä¸º touch å±‚å ä¸Šä¸‹æ–‡çš„é¡ºåº: å¦‚æžœä¸ä¾èµ–z-indexï¼Œåˆ™å¯ä»¥çœ‹æˆ z-index: 0 ä¾èµ–z-index åˆ™çœ‹ z-index çš„å€¼ textarea å®½åº¦100%è‡ªé€‚åº”æ•ˆæžœ1234567891011121314151617181920212223242526272829303132&lt;style&gt; /*çˆ¶çº§*/ .box1 &#123; width: 280px; margin: 0 auto; padding: 10px 0; background-color: #abcdef; &#125; /* æ¨¡æ‹Ÿè¾¹æ¡†ä¸Žpadding */ .box2 &#123; padding: 9px 8px; border: 1px solid #d0d0d5; border-radius: 4px; background-color: #fff; &#125; /* çœŸå®ž textarea */ .box2&gt; textarea &#123; width: 100%; line-height: 20px; padding: 0; border: 0 none; outline: 0 none; background: none; resize: none; &#125;&lt;/style&gt;&lt;div class="box1"&gt; &lt;div class="box2"&gt; &lt;textarea &gt;&lt;/textarea&gt; &lt;/div&gt;&lt;/div&gt; ç©ºå…ƒç´ é€‰æ‹©å™¨ :emptyçœ‹ã€Šcssä¸–ç•Œã€‹ä¹‹åŽæ‰çŸ¥é“æœ‰è¿™ä¹ˆä¸€ä¸ªç©ºå…ƒç´ é€‰æ‹©å™¨â€¦ç»å¯¹ä¸æ˜¯å…¶ä»–ç›®çš„1234567&lt;style&gt; span:empty::after &#123; content: 'æ˜¯å¸…å“¥'; &#125;&lt;/style&gt;&lt;span&gt;Jsonz&lt;/span&gt;&lt;span&gt;&lt;/span&gt; ç¬¬ä¸€è¡Œè¦é€‰æ‹©å™¨:first-lineåŒä¸Šï¼Œæ¯”è¾ƒå°‘ç”¨çš„é€‰æ‹©å™¨ï¼Œä½†æ˜¯æ„Ÿè§‰éƒ¨åˆ†åœºæ™¯æŒºå®žç”¨çš„12345&lt;style&gt;p:first-line &#123; color: red; &#125;p &#123; width: 40px; &#125;&lt;/style&gt;&lt;p&gt; å¯ä¹é¸¡ç¿… &lt;/p&gt; ç¬¬ä¸€ä¸ªå­—ï¼ˆæ¯ï¼‰é€‰æ‹©å™¨:first-letteréœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æžœè¿™é‡Œæˆ‘ç”¨çš„æ˜¯å­—ï¼ˆæ¯ï¼‰æ¥æè¿°é€‰æ‹©å™¨ï¼Œæ„å‘³ç€ï¼Œå¦‚æžœç¬¬ä¸€ä¸ªæ˜¯ç¬¦å·çš„è¯ï¼Œä¼šæ‰¾ä¸‹ä¸€ä¸ªç›´åˆ°æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æ‰ä¼šæ¸²æŸ“æˆæˆ‘ä»¬è¦çš„æ ·å¼ï¼Œå¦åˆ™éƒ½æ˜¯é»˜è®¤æ ·å¼ã€‚1234567&lt;style&gt;p:first-letter &#123; color: red; &#125;&lt;/style&gt;&lt;p&gt; !!!!åæ²™èŠ‹&lt;/p&gt;&lt;p&gt;!!!!!&lt;/p&gt; åŠ¨æ€loadingæ‰“ç‚¹æ•ˆæžœè¿™é‡Œä¸»è¦åˆ©ç”¨äº†content æ”¯æŒ\Aæ¢è¡Œæ¥å®žçŽ°ï¼Œç”¨dotæ˜¯å› ä¸º æ˜¯è‡ªå®šä¹‰çš„ä¸€ä¸ªæ ‡ç­¾å…ƒç´ ï¼Œé™¤äº†ç®€çº¦ã€è¯­ä¹‰åŒ–æ˜Žæ˜¾123456789101112131415161718192021&lt;style&gt; dot &#123; display: inline-block; height: 1em; line-height: 1; text-align: left; vertical-align: -.25em; overflow: hidden;&#125;dot::before &#123; display: block; content: '...\A..\A.'; white-space: pre-wrap; animation: dot 3s infinite step-start both;&#125;@keyframes dot &#123; 33% &#123; transform: translateY(-2em); &#125; 66% &#123; transform: translateY(-1em); &#125;&#125;&lt;/style&gt;æ­£åœ¨åŠ è½½ä¸­&lt;dot&gt;...&lt;/dot&gt; å•è¡Œæ–‡å­—å±…ä¸­å¯¹é½ï¼Œå¤šè¡Œæ–‡å­—å·¦å¯¹é½123456789101112131415&lt;style&gt;.box1 &#123; text-align: center; width: 200px; border: 1px solid ;&#125;p &#123; display: inline-block; text-align: left;&#125;&lt;/style&gt;&lt;div class="box1"&gt; &lt;p&gt;å¤§å®¶å¥½&lt;/p&gt; &lt;p&gt;æˆ‘æ˜¯Jsonzï¼ŒçŽ°åœ¨æ˜¯ä¸€åå°åˆ‡å›¾ä»”&lt;/p&gt;&lt;/div&gt; å­—ä½“ä½¿ç”¨ç³»ç»Ÿå­—ä½“è¿™é‡Œä¸ªäººæœ‰ç‚¹ç–‘æƒ‘~ å¦‚æžœå•çº¯æ˜¯æƒ³ä½¿ç”¨ç³»ç»Ÿé»˜è®¤å­—ä½“ï¼Œç›´æŽ¥ä¸è®¾ç½® font ä¸å°±å¥½äº†~ å¤šæ­¤ä¸€ä¸¾è®¾ç½®ä¸ª menuâ€¦12html &#123; font: menu; &#125;body &#123; font-size: 16px; &#125; ä¹¦é‡Œæ›´å¤šçš„ä¸æ˜¯ç»™æˆ‘ä»¬å±•ç¤ºè¿™äº›å°æŠ€å·§ï¼Œè€Œæ˜¯å¸®æˆ‘ä»¬è®²æ¸…æ¥šå¾ˆå¤šæ¦‚å¿µä¸Žä»–çš„ç‰¹æ€§ï¼Œè¿™ç¯‡æ–‡æ¯”è¾ƒæ²¡ç»éªŒï¼Œæ•ˆæžœå›¾éƒ½æ˜¯ç”¨çš„æˆªå›¾â€¦ä¸‹æ¬¡æœ‰æœºä¼šçš„è¯æ³¨æ„ç›´æŽ¥å±•ç¤ºä¸ªdemoå¯èƒ½çœ‹èµ·æ¥ä¼šæ›´ç›´è§‚]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>CSS</tag>
        <tag>Book</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµè§ˆå™¨æ¢å¤æ»šåŠ¨è¡Œä¸º â€”â€” history.scrollRestoration]]></title>
    <url>%2F2018%2F05%2Fhistory-scroll-restoration%2F</url>
    <content type="text"><![CDATA[ç›´å…¥ä¸»é¢˜ã€‚ä¹‹å‰åšç§»åŠ¨ç«¯çš„éœ€æ±‚æ—¶ï¼Œç»å¸¸é‡åˆ°ä¸€ç§å¸¸è§ï¼Œå°±æ˜¯:aé¡µé¢æ˜¯ä¸€ä¸ªé•¿åˆ—è¡¨ï¼Œæˆ‘ä»¬æ»‘åŠ¨åˆ°æŸä¸ªåœ°æ–¹å‡è®¾ä¸º 100px ï¼Œç‚¹å‡»ä¹‹åŽè¿›å…¥åˆ°bé¡µé¢å†ä»Žbé¡µé¢å›žåˆ°aé¡µé¢ï¼Œè¿™æ—¶å€™æµè§ˆå™¨çš„æ»šåŠ¨æ¡ä¼šè‡ªåŠ¨å›žåˆ°æˆ‘ä»¬è·³è½¬å‰çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯ 100px çš„ä½ç½®ã€‚ è¿™ç§ä½“è´´çš„è¡Œä¸ºæˆ‘æ˜¯å¾ˆå–œæ¬¢çš„~ ä½†æ˜¯æœ‰æ—¶å€™äº§å“å°±éžè¦æŠ¬æ ï¼Œè¯´ æˆ‘å°±ä¸æƒ³è¦è¿™ç§è¡Œä¸ºï¼Œä½ ç»™æˆ‘å›žåˆ°é¡¶éƒ¨åŽ»(â•¯â€µâ–¡â€²)â•¯ï¸µâ”»â”â”» ä»¥å‰æ²¡åŠžæ³•å°±ç»å¸¸ç”¨ä»€ä¹ˆ setTimeout å¤§æ³•åŽ»æ‰‹åŠ¨å¤„ç†è¿™äº›ä¸œè¥¿ æ°®ç´ !!! å¦‚æžœåªæ˜¯è¯´setTimeoutå¤§æ³•çš„è¯ï¼Œå°±æ²¡æˆ‘ä»€ä¹ˆäº‹äº†ã€‚ä»Šå¤©è¦è¯´çš„æ˜¯ history.scrollRestoration ï¼Œè¿™ä¸ªå±žæ€§æ˜¯å®žéªŒæ€§çš„å±žæ€§ï¼Œä»–çš„ä½œç”¨æ˜¯: å…è®¸Webåº”ç”¨ç¨‹åºåœ¨åŽ†å²å¯¼èˆªä¸Šæ˜¾å¼åœ°è®¾ç½®é»˜è®¤æ»šåŠ¨æ¢å¤è¡Œä¸ºã€‚æ­¤å±žæ€§å¯ä»¥æ˜¯è‡ªåŠ¨çš„ï¼ˆautoï¼‰æˆ–è€…æ‰‹åŠ¨çš„ï¼ˆmanualï¼‰ã€‚ è¯´çš„å¾ˆæ˜Žç™½äº†ï¼Œå¦‚æžœæµè§ˆå™¨æ”¯æŒ history.scrollRestorationå¹¶ä¸”å€¼ä¸ºautoåˆ™ä¼šé»˜è®¤æ¢å¤æ»šåŠ¨è¡Œä¸ºã€‚å¦‚æžœè®¾ç½®ä¸º manualåˆ™å¯ä»¥å–æ¶ˆï¼Œè¿™ä¸ªè¡Œä¸ºä¸ç”¨åŽ»è€ƒè™‘å…¼å®¹æ€§çš„é—®é¢˜ï¼Œå¦‚æžœæœ‰è¿™ä¸ªåŠŸèƒ½æ‰ä¼šæœ‰æ¢å¤æ»šåŠ¨ï¼Œæ‰€ä»¥ç›´æŽ¥åˆ¤æ–­ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚æ— éœ€å¤šè€ƒè™‘ 1window.history.scrollRestoration &amp;&amp; (window.history.scrollRestoration = 'auto'); ä»¥åŽå¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘è¢«äº§å“æ€¼äº† O(âˆ©_âˆ©)O~~ google-developers èµ„æ–™mozilla-developer èµ„æ–™]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>github</tag>
        <tag>JavaScript</tag>
        <tag>work</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[create-react-app æºç è§£æžä¹‹react-scripts]]></title>
    <url>%2F2018%2F05%2Fcreate-react-app-t%2F</url>
    <content type="text"><![CDATA[ä¸Šä¸€ç¯‡æˆ‘ä»¬å·²ç»è®²äº† create-react-appé‡Œé¢åˆ›å»ºpackage.jsonå®‰è£…ä¾èµ–å¹¶ä¸”æ‹·è´å¯è¿è¡Œçš„demoç­‰æ­¥éª¤ã€‚ä¼ é€é—¨ è¿™ä¸€ç¯‡æˆ‘ä»¬æ¥è®²ä¸€ä¸‹ create-react-appé‡Œé¢çš„å¯åŠ¨æœåŠ¡ç­‰éƒ¨åˆ†ï¼Œå°±æ˜¯å¹³æ—¶æˆ‘ä»¬å®‰è£…å®Œä¾èµ–ä¹‹åŽï¼Œå¯åŠ¨å¼€å‘æœåŠ¡:npm startã€‚è¿™ä¸€å—æ¶‰åŠåˆ°å¤ªå¤šå…³äºŽwebpackä¸Žé…ç½®çš„ä¸œè¥¿ï¼ŒåŠ ä¸Šç¬¬ä¸€ç¯‡è§‰å¾—æè¿°çš„å¤ªè¿‡å†—ä½™~æ‰€ä»¥è¿™ç¯‡ä¸ä¼šè®²å¾—å¾ˆç»†ï¼Œåªæ˜¯å¤§æ¦‚æŠŠä»–è¿è½¬çš„é€»è¾‘æ€è·¯å†™å‡ºæ¥ï¼Œå…·ä½“æºç ä¼šæä¾›ä¼ é€é—¨ã€‚ æŽ¨èå¤§å®¶çœ‹ç¬¬ä¸€ç¯‡çš„ é¡¹ç›®åˆå§‹åŒ– å’Œ æ–­ç‚¹è°ƒè¯• éƒ¨åˆ†ï¼Œè¿™é‡Œå°±ä¸åœ¨èµ˜è¿°ã€‚ä¼ é€é—¨ é¡¹ç›®åˆå§‹åŒ–æ–­ç‚¹è°ƒè¯•éƒ¨åˆ† å‡†å¤‡é˜¶æ®µè¿™é‡Œæˆ‘ä»¬è®¨è®ºçš„create-react-appç‰ˆæœ¬ä¾æ—§æ˜¯v1.1.4 æ—¢ç„¶è¿™ç¯‡æˆ‘ä»¬ä¸»è¦è®²çš„æ˜¯ create-react-appé‡Œé¢çš„webpackæœåŠ¡ï¼Œé‚£æˆ‘ä»¬è‚¯å®šè¦å…ˆæ–°å»ºä¸€ä¸ªé¡¹ç›®ã€‚ npm install create-react-app -g å…¨å±€å®‰è£…create-react-app create-react-app my-react-project ç”¨create-react-appæ–°å»ºä¸€ä¸ªé¡¹ç›® 12cd my-react-projectyarn start æ–°å»ºå®Œä¹‹åŽï¼Œç»ˆç«¯æç¤ºäº†æˆ‘ä»¬ç›´æŽ¥è¿›å…¥é¡¹ç›®ï¼Œè·‘ yarn(npm) start å°±å¯ä»¥å¼€å‘äº†ã€‚æˆ‘ä»¬æ‰“å¼€ package.jsonå°±å¯ä»¥çœ‹åˆ° yarn start è·‘çš„å‘½ä»¤æ˜¯ &quot;react-scripts start&quot; é‚£ä¹ˆè¿™ä¸ª react-scripts å‘½ä»¤åˆ°åº•æ˜¯å“ªä¸€ä¸ªå‘¢ï¼Ÿ ä¸€èˆ¬å†™åœ¨ package.json=&gt; scripts çš„å‘½ä»¤ï¼Œéƒ½ä¼šå…ˆåŽ» project_path(é¡¹ç›®ç›®å½•ï¼‰/node_modules/.bin æŸ¥æ‰¾ï¼Œæ‰¾ä¸åˆ°å†æ‰¾å…¨å±€å®‰è£…çš„åŒ…ã€‚ é‚£ä¹ˆ node_modules/.bin é‡Œé¢çš„æ–‡ä»¶åˆæ˜¯æ€Žä¹ˆæ¥çš„å‘¢ï¼Ÿæˆ‘ä»¬å¦‚æžœåœ¨åŒ…çš„ package.json åŠ ä¸Š bin å­—æ®µï¼Œnpmå°±ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬æ˜ å°„åˆ° node_modules/.bin é‡Œé¢ npm binæ–‡æ¡£ä¼ é€é—¨ æˆ‘ä»¬ç›´æŽ¥æ‰“å¼€ node_modules/react-scripts/package.json èƒ½çœ‹åˆ°è¿™ä¹ˆä¸€è¡Œ&quot;react-scripts&quot;: &quot;./bin/react-scripts.js&quot;,ç›´æŽ¥æŠŠå‘½ä»¤æŒ‡å‘node_modules/react-scripts/.bin/react-scripts.jsï¼Œä¹ŸéªŒè¯äº†æˆ‘ä»¬çš„è§‚ç‚¹ã€‚ è¿˜è®°å¾—ä¸Šä¸€ç¯‡ï¼Œæˆ‘ä»¬åœ¨ create-react-app/packages é‡Œé¢å‘çŽ°äº†æœ‰ä¸€ä¸ª react-scriptsã€‚å…¶å®žæ˜¯åŒä¸€ä¸ªä¸œè¥¿æ¥çš„ï¼Œé‚£ä¹ˆæŽ¥ä¸‹æ¥çš„æ­¥éª¤å°±å¾ˆæ˜Žç¡®äº†ï¼Œç›´æŽ¥ç”¨è€åŠžæ³•ï¼Œæ”¹ä¸‹é…ç½®ï¼Œç„¶åŽç”¨vscodeè·‘æ–­ç‚¹è°ƒè¯•é˜…è¯»project_path/node_modules/react-scripts/.bin/react-scripts.jsçš„æºç  ä¸€æŽ¢ç©¶ç«Ÿã€‚ vscode launch.jsonè¿™é‡Œæˆ‘ä»¬ä¼ å…¥ start ä½œä¸ºå‚æ•°,æ¨¡æ‹Ÿåœ¨é¡¹ç›®é‡Œè·‘ yarn start çš„æ•ˆæžœã€‚1234567891011121314&#123; "version": "0.2.0", "configurations": [ &#123; "type": "node", "request": "launch", "name": "å¯åŠ¨ç¨‹åº", "program": "$&#123;workspaceFolder&#125;/node_modules/react-scripts/bin/react-scripts.js", //è°ƒè¯•çš„æ–‡ä»¶è·¯å¾„ "args": [ "start" // ä¼ å…¥ start åšä¸ºå‚æ•° ] &#125; ]&#125; ps:ä¸‹é¢çš„react-scriptsæ²¡æœ‰ç‰¹æ®Šè¯´æ˜Žï¼Œéƒ½ä»£è¡¨project_path/node_modules/react-scriptsç›®å½•æ–¹ä¾¿é˜…è¯» react-scripts/.bin/react-scripts.jsæ–‡ä»¶ä¼ é€é—¨è¿™é‡Œæˆ‘ä»¬è¿˜æ˜¯è€åŠžæ³•ï¼Œå…ˆä¸çœ‹ä¾èµ– çœ‹ä¸»æµç¨‹ç†è§£å…ˆï¼Œæˆ‘ä»¬èƒ½çœ‹åˆ°è¿™ä¸ªæ–‡ä»¶ä¹Ÿæ˜¯ä¸€ä¸ªå…¥å£æ–‡ä»¶ï¼Œéžå¸¸ç®€çŸ­ã€‚ 1234567const args = process.argv.slice(2);const scriptIndex = args.findIndex( x =&gt; x === 'build' || x === 'eject' || x === 'start' || x === 'test');const script = scriptIndex === -1 ? args[0] : args[scriptIndex];const nodeArgs = scriptIndex &gt; 0 ? args.slice(0, scriptIndex) : []; é¦–å…ˆå¤„ç†ä¼ è¿›æ¥çš„å‚æ•°ï¼Œç”¨scriptå˜é‡æ¥èŽ·å–æˆ‘ä»¬è·‘çš„å‘½ä»¤æ˜¯å“ªä¸€ä¸ªï¼Œæœ‰[â€˜buildâ€™, â€˜ejectâ€™, â€˜startâ€™, â€˜testâ€™]è¿™ä¹ˆå‡ ç§ï¼Œåˆ†åˆ«å¯¹åº” æž„å»ºã€æš´éœ²é…ç½®ã€å¼€å‘ã€æµ‹è¯•å‘½ä»¤ã€‚ç„¶åŽå†èŽ·å–ä¸€èµ·ä¼ å…¥çš„å…¶ä»–çš„å‚æ•°ï¼Œæ¯”å¦‚npm testå‘½ä»¤å°±ä¼šå¸¦ä¸€ä¸ªé¢å¤–çš„å‚æ•°--env=jsdomã€‚ 1234567891011121314151617181920212223242526272829switch (script) &#123; case 'build': case 'eject': case 'start': case 'test': &#123; // ç”¨ cross-spawn åŽ»è·‘ä¸€ä¸ªåŒæ­¥çš„å‘½ä»¤ // æ ¹æ®ä¼ å…¥çš„å‘½ä»¤æ¥æ‹¼æŽ¥å¯¹åº”çš„è·¯å¾„ ç”¨nodeåŽ»è·‘ const result = spawn.sync( 'node', nodeArgs .concat(require.resolve('../scripts/' + script)) .concat(args.slice(scriptIndex + 1)), &#123; stdio: 'inherit' &#125; ); if (result.signal) &#123; if (result.signal === 'SIGKILL') &#123; // è¾“å‡ºé”™è¯¯æé†’æ—¥å¿— &#125; else if (result.signal === 'SIGTERM') &#123; // è¾“å‡ºé”™è¯¯æé†’æ—¥å¿— &#125; process.exit(1); // é€€å‡ºè¿›ç¨‹ï¼Œ ä¼ 1ä»£è¡¨æœ‰é”™è¯¯ &#125; process.exit(result.status); break; &#125; default: // è¿™é‡Œè¾“å‡ºåŒ¹é…ä¸åˆ°å¯¹åº”çš„å‘½ä»¤ break;&#125; ç„¶åŽæ ¹æ®èŽ·å–åˆ°çš„å‘½ä»¤ï¼Œå¯¹åº”åˆ°react-scripts/scriptsä¸‹é¢çš„æ–‡ä»¶åŽ»è·‘ï¼Œæ¯”å¦‚ react-scripts start å°±ä¼šåŽ»è·‘ react-scripts/scripts/start.jsã€‚ è¿™é‡Œæ’å‡ å¥è®²ä¸€ä¸‹ä¸€ä¸ªé¡¹ç›®ä¸Šæ¯”è¾ƒå¸¸è§çš„ç±»åº“è§£è€¦æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™é‡Œçš„ spawnå¼•ç”¨çš„æ˜¯react-dev-utils/crossSpawnã€‚è€Œåœ¨react-dev-utils/corssSpawné‡Œé¢ä¹Ÿåªæ˜¯ç®€ç®€å•å•çš„å‡ å¥ï¼Œå¼•å…¥cross-spawnå†æŠŠcross-spawnæš´éœ²å‡ºåŽ»ã€‚ä½†æ˜¯è¿™ä¹ˆå†™å°±å¯ä»¥èµ·åˆ°ç±»åº“è§£è€¦çš„ä½œç”¨ï¼Œæ¯”å¦‚ä»¥åŽè¿™ä¸ªåº“è¢«çˆ†å‡ºæœ‰é‡å¤§çš„bugæˆ–è€…åœæ­¢ç»´æŠ¤äº†ï¼Œç›´æŽ¥ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶å¼•å…¥å…¶ä»–çš„ç±»åº“ï¼Œå…¶ä»–å¼•ç”¨è¯¥æ–‡ä»¶çš„ä»£ç å°±ä¸éœ€è¦æ”¹åŠ¨ã€‚ 123456// react-dev-utils/corssSpawn'use strict';var crossSpawn = require('cross-spawn');module.exports = crossSpawn; react-scripts/scripts/start.jsæ–‡ä»¶ä¼ é€é—¨ çœ‹è¿‡ç¬¬ä¸€ç¯‡çš„äººå¯¹è¿™ä¸ªæ–‡ä»¶å¤¹åº”è¯¥ä¸é™Œç”Ÿï¼Œcreate-react-app åœ¨å®‰è£…å®Œ react ç­‰ä¾èµ–ä¹‹åŽï¼Œå°±ä¼šè·‘è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢çš„init.jsæ¥æ‹·è´æ¨¡ç‰ˆæ–‡ä»¶ï¼Œä¿®æ”¹package.jsonç­‰æ“ä½œã€‚ æ—¢ç„¶æˆ‘ä»¬å·²ç»çŸ¥é“ä»–è¦æ‰§è¡Œ start.js, æŽ¥ä¸‹æ¥æˆ‘ä»¬æŠŠvscodeè°ƒè¯•æ–‡ä»¶ä¿®æ”¹ä¸º start.js æ–‡ä»¶&quot;program&quot;: &quot;${workspaceFolder}/node_modules/react-scripts/scripts/start.js&quot;, ä¹‹æ‰€ä»¥è¦ä¿®æ”¹æ˜¯å› ä¸ºä»–è¿™é‡Œä¸æ˜¯å¼•ç”¨jsæ–‡ä»¶æ¥è¿è¡Œï¼Œè€Œæ˜¯ç”¨ç»ˆç«¯æ¥è·‘ï¼Œæ‰€ä»¥ä¸å±žäºŽæˆ‘ä»¬çš„é¡¹ç›®è°ƒè¯•èŒƒå›´~ 123456789process.env.BABEL_ENV = 'development';process.env.NODE_ENV = 'development';// Makes the script crash on unhandled rejections instead of silently// ignoring them. In the future, promise rejections that are not handled will// terminate the Node.js process with a non-zero exit code.process.on('unhandledRejection', err =&gt; &#123; throw err;&#125;); æ–‡ä»¶çš„æœ€å¼€å¤´è®¾ç½®äº†ä¸¤ä¸ªçŽ¯å¢ƒå˜é‡ï¼Œå› ä¸º start æ˜¯ç”¨æ¥è·‘å¼€å‘çš„ï¼Œæ‰€ä»¥è¿™é‡Œçš„çŽ¯å¢ƒå˜é‡éƒ½æ˜¯ developmentï¼Œç„¶åŽå†ç»™ process ç»‘å®šä¸€ä¸ªé”™è¯¯ç›‘å¬å‡½æ•°ï¼Œè¿™ä¸ªé”™è¯¯ç›‘å¬å®žè´¨ä¸Šæ˜¯ç”¨æ¥ç›‘å¬ ä¸€äº›æ²¡æœ‰è¢«.catchçš„Promiseã€‚ å…·ä½“å¯ä»¥çœ‹nodeçš„æ–‡æ¡£, å…³äºŽ Promiseå¯ä»¥çœ‹ä¸€ä¸‹ä¹‹å‰å†™è¿‡çš„ä¸€ç¯‡ä»‹ç»Promiseçš„æ–‡ç« ä»Žç”¨æ³•å’Œå®žçŽ°åŽŸç†éƒ½æœ‰æ‰€æ¶‰åŠ æŽ¥ç€å¼•è¿›ä¸€ä¸ª ../config/envï¼Œ çœ‹æ–‡ä»¶åçŒœåº”è¯¥æ˜¯åšä¸€äº›å…³äºŽçŽ¯å¢ƒé…ç½®çš„äº‹æƒ…ï¼Œæ‰¾åˆ°æ–‡ä»¶æ–­ç‚¹è¿›æ¥ react-scripts/config/env.js12345const fs = require('fs');const path = require('path');const paths = require('./paths');// Make sure that including paths.js after env.js will read .env variables.delete require.cache[require.resolve('./paths')]; env.js æ–‡ä»¶åœ¨å¼•å…¥ ./paths.js ä¹‹åŽï¼Œç«‹å³æŠŠä»–ä»Žcacheä¸­åˆ é™¤æŽ‰ï¼Œè¿™æ ·ä¸‹æ¬¡å¦‚æžœæœ‰å…¶ä»–çš„æ¨¡å—å¼•å…¥paths.jsï¼Œå°±ä¸ä¼šä»Žç¼“å­˜é‡Œé¢åŽ»èŽ·å–ï¼Œä¿è¯äº†paths.jsé‡Œé¢æ‰§è¡Œé€»è¾‘éƒ½ä¼šç”¨åˆ°æœ€æ–°çš„çŽ¯å¢ƒå˜é‡ã€‚ 1234567var dotenvFiles = [ // ä¸¾ä¸ªä¾‹å­ï¼šç¬¬ä¸€ä¸ªå…ƒç´ åœ¨æˆ‘çš„ç”µè„‘è·¯å¾„æ˜¯è¿™æ ·çš„ Users/jsonz/Documents/my-react-project/.env.development.local.js `$&#123;paths.dotenv&#125;.$&#123;NODE_ENV&#125;.local`, `$&#123;paths.dotenv&#125;.$&#123;NODE_ENV&#125;`, NODE_ENV !== 'test' &amp;&amp; `$&#123;paths.dotenv&#125;.local`, paths.dotenv,].filter(Boolean); ç„¶åŽå†æ ¹æ®pathsç»™å‡ºçš„åœ°å€åŽ»æ‹¿å…¶ä»–çš„çŽ¯å¢ƒå˜é‡ï¼Œè¿™é‡Œpaths.jsä¼šæ ¹æ®ä¸åŒçš„æƒ…å†µç»™å‡ºä¸åŒçš„è·¯å¾„ï¼Œæˆ‘ä»¬è®¨è®ºçš„æ˜¯æ­£å¸¸çš„åˆ›å»ºé¡¹ç›®æƒ…å†µã€‚å…¶ä»–çš„å‡ ç§æƒ…å†µæœ‰ï¼š æˆ‘ä»¬åœ¨å·²ç»åˆ›å»ºçš„é¡¹ç›®è·‘äº† npm(yarn) ejectï¼Œè¿™æ—¶å€™ react-scriptsä¼šæŠŠé…ç½®éƒ½æš´éœ²åˆ° project_path/config æ–¹ä¾¿æˆ‘ä»¬åŽ»æ ¹æ®é¡¹ç›®ä¿®æ”¹é…ç½®ï¼Œè¿™ä¸ªæ“ä½œæ˜¯ä¸å¯é€†çš„ã€‚ æˆ‘ä»¬æ­£å¸¸åˆ›å»ºé¡¹ç›®ï¼Œç›´æŽ¥è·‘é¡¹ç›®ï¼Œè¿™æ—¶å€™é…ç½®å°±å­˜æ”¾åœ¨project/node_modules/react-scriptsã€‚ å¼€å‘äººå‘˜è‡ªå·±è°ƒè¯•ç”¨çš„ï¼Œè¿™æ—¶å€™é…ç½®å­˜æ”¾åœ¨create-react/packages/react-scripts/configã€‚ æ‹¼è£…å®Œè·¯å¾„ä¹‹åŽï¼Œç”¨dotenv-expandå’Œdotenvæ¥æŠŠæ–‡ä»¶é‡Œé¢çš„çŽ¯å¢ƒå˜é‡åŠ è½½è¿›æ¥ï¼Œè¿™ä¸€å—ä¸€èˆ¬åœºæ™¯ç”¨ä¸ä¸Šã€‚ 1234567891011121314151617181920function getClientEnvironment(publicUrl) &#123; const raw = Object.keys(process.env) .filter(key =&gt; REACT_APP.test(key)) .reduce( (env, key) =&gt; &#123; env[key] = process.env[key]; return env; &#125;, &#123; NODE_ENV: process.env.NODE_ENV || 'development', &#125; ); const stringified = &#123; 'process.env': Object.keys(raw).reduce((env, key) =&gt; &#123; env[key] = JSON.stringify(raw[key]); return env; &#125;, &#123;&#125;), &#125;; return &#123; raw, stringified &#125;;&#125; ç„¶åŽè¿”å›žä¸€ä¸ª getClientEnvironmentå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ‰§è¡ŒåŽä¼šè¿”å›žå®¢æˆ·ç«¯çš„çŽ¯å¢ƒå˜é‡ã€‚ react-scripts/scripts/start.js(2)12345678910111213141516171819const fs = require('fs');const chalk = require('chalk');const webpack = require('webpack');const WebpackDevServer = require('webpack-dev-server');const clearConsole = require('react-dev-utils/clearConsole');const checkRequiredFiles = require('react-dev-utils/checkRequiredFiles');const &#123; choosePort, createCompiler, prepareProxy, prepareUrls,&#125; = require('react-dev-utils/WebpackDevServerUtils');const openBrowser = require('react-dev-utils/openBrowser');const paths = require('../config/paths');const config = require('../config/webpack.config.dev');const createDevServerConfig = require('../config/webpackDevServer.config');const useYarn = fs.existsSync(paths.yarnLockFile);const isInteractive = process.stdout.isTTY; åŠ è½½å®Œå„ç§çŽ¯å¢ƒå˜é‡ä¹‹åŽï¼Œæˆ‘ä»¬å›žåˆ°react-scripts/scripts/start.jsï¼Œè€è§„çŸ©ï¼Œä¸€ç³»åˆ—çš„ä¾èµ–å…ˆè·³è¿‡ä¸çœ‹ï¼ŒåŽé¢ç”¨åˆ°å†æ¥çœ‹ã€‚è¿˜è®°å¾—æˆ‘ä»¬åœ¨env.jsé‡Œé¢deletæŽ‰node.catchå—ï¼Œè¿™é‡Œconts paths = require(&#39;../config/paths)å°±ä¸ä¼šä»Žç¼“å­˜é‡Œé¢åŽ»æ‹¿è€Œæ˜¯é‡æ–°åŽ»åŠ è½½ã€‚ 123if (!checkRequiredFiles([paths.appHtml, paths.appIndexJs])) &#123; process.exit(1);&#125; å…ˆåˆ¤æ–­ä¸€ä¸‹æˆ‘ä»¬ä¸¤ä¸ªå…¥å£æ–‡ä»¶æœ‰æ²¡æœ‰å­˜åœ¨ï¼Œåˆ†åˆ«æ˜¯project_path/public/index.htmlå’Œproject_path/src/index.jsï¼Œå¦‚æžœä¸å­˜åœ¨ç»™å‡ºæç¤ºç»“æŸç¨‹åºã€‚ 12const DEFAULT_PORT = parseInt(process.env.PORT, 10) || 3000;const HOST = process.env.HOST || '0.0.0.0'; ç„¶åŽè®¾ç½®é»˜è®¤çš„ç«¯å£å’Œhostï¼Œå¦‚æžœæœ‰ç‰¹æ®Šçš„éœ€æ±‚ï¼Œå¯ä»¥ä»ŽçŽ¯å¢ƒå˜é‡ä¼ è¿›åŽ»æ”¹å˜ï¼Œæ²¡æœ‰å°±ä¼šç”¨é»˜è®¤çš„3000ç«¯å£ã€‚ 1choosePort(HOST, DEFAULT_PORT).then(...) // @return Promise è®¾ç½®å®Œé»˜è®¤çš„ç«¯å£ä¸Žhostä¹‹åŽï¼Œå¼€å§‹åˆ¤æ–­è¿™ä¸ªç«¯å£æœ‰æ²¡æœ‰è¢«å…¶ä»–çš„è¿›ç¨‹å ç”¨ï¼Œæœ‰çš„è¯ä¼šæä¾›ä¸‹ä¸€ä¸ªå¯ç”¨çš„ç«¯å£ï¼Œæˆ‘ä»¬é¡ºç€choosePortåŽ»æ–‡ä»¶å¤´æ‰¾ä¾èµ–ï¼Œæ‰¾åˆ°è¯¥æ–¹æ³•ä½äºŽä¾èµ–react-dev-utils/WebpackDevServerUtilsã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041function choosePort(host, defaultPort) &#123; return detect(defaultPort, host).then( port =&gt; new Promise(resolve =&gt; &#123; if (port === defaultPort) &#123; return resolve(port); &#125; const message = process.platform !== 'win32' &amp;&amp; defaultPort &lt; 1024 &amp;&amp; !isRoot() ? `Admin permissions are required to run a server on a port below 1024.` : `Something is already running on port $&#123;defaultPort&#125;.`; if (isInteractive) &#123; clearConsole(); const existingProcess = getProcessForPort(defaultPort); const question = &#123; type: 'confirm', name: 'shouldChangePort', message: chalk.yellow( message + `$&#123;existingProcess ? ` Probably:\n $&#123;existingProcess&#125;` : ''&#125;` ) + '\n\nWould you like to run the app on another port instead?', default: true, &#125;; inquirer.prompt(question).then(answer =&gt; &#123; if (answer.shouldChangePort) &#123; resolve(port); &#125; else &#123; resolve(null); &#125; &#125;); &#125; else &#123; console.log(chalk.red(message)); resolve(null); &#125; &#125;), err =&gt; &#123; // è¾“å‡ºé”™è¯¯æ—¥å¿— &#125; );&#125; choosePort é‡Œé¢ç”¨åˆ°detect-port-altåŽ»æ£€æµ‹ç«¯å£å ç”¨ï¼Œå¦‚æžœè¢«å ç”¨äº†è¿”å›žä¸€ä¸ªæœ€æŽ¥è¿‘çš„é€’å¢žæ–¹å‘å¯ç”¨çš„ç«¯å£ï¼Œæ¯”å¦‚3000ç«¯å£è¢«å ç”¨,3001æ²¡è¢«å ç”¨å°±è¿”å›žå›žæ¥ã€‚å¦‚æžœå‘çŽ°è¿”å›žçš„å¯ç”¨ç«¯å£ä¸æ˜¯é»˜è®¤çš„ç«¯å£ï¼Œç»™å‡ºä¸€ä¸ªäº¤äº’å¼çš„å‘½ä»¤è¯¢é—®ç”¨æˆ·æ˜¯å¦è¦æ¢ä¸€ä¸ªç«¯å£åŽ»è®¿é—®ï¼Œäº¤äº’å¼å‘½ä»¤ç”¨çš„æ˜¯inquirerè¿™ä¸ªåŒ…ã€‚è¿™é‡Œå¦‚æžœç”¨vsCodeæ¥è°ƒè¯•ï¼Œprocess.stdout.isTTY è¿”å›žçš„å€¼æ˜¯undefinedã€‚æ‰€ä»¥å¦‚æžœè¦æµ‹è¯•è¿™ä¸€å—äº¤äº’å¼å‘½ä»¤ï¼Œåªèƒ½åˆ‡å›žç³»ç»Ÿçš„ç»ˆç«¯åŽ»è°ƒè¯•~ æ–‡ä»¶ä¼ é€é—¨æ£€æµ‹å®Œå¯ç”¨ç«¯å£ä¹‹åŽï¼Œå›žåˆ°start.jsã€‚ å‰ç«¯å¤„ç†ä¸€å †çŽ¯å¢ƒå˜é‡ï¼Œè¿˜æœ‰åŠ è½½ä¸€å †é…ç½®ï¼Œå…¨éƒ½ç”¨åœ¨è¿™ä¸€å—ã€‚è¿™é‡Œä¸»è¦åšçš„å°±æ˜¯æŠŠçŽ¯å¢ƒå˜é‡å’Œé…ç½®ç»„è£…èµ·æ¥ï¼Œå¼€ä¸ªwebpackæœ¬åœ°è°ƒè¯•æœåŠ¡ã€‚ä¸»è¦åšçš„äº‹æƒ…æœ‰: å¦‚æžœæ²¡æœ‰æ‰¾åˆ°å¯ç”¨çš„ç«¯å£ç›´æŽ¥è¿”å›žä¸ç»§ç»­æ‰§è¡Œä¸‹åŽ» æ ¹æ®çŽ¯å¢ƒå˜é‡åˆ¤æ–­æ˜¯å¦å¯ç”¨httpsï¼Œé»˜è®¤æ˜¯httpã€‚ æ ¹æ® host, protocol, port æ‹¼è£…ä¸€ç³»åˆ—çš„urlï¼ŒåŒ…æ‹¬Browserçš„urlä¸ŽTerminalçš„urlã€‚ è°ƒç”¨createCompiler ä¼ å…¥webpackï¼Œwebpacké…ç½®ï¼ŒappNameï¼Œç¬¬ä¸‰æ­¥èŽ·å–çš„urlï¼Œè¿˜æœ‰æ˜¯å¦ä½¿ç”¨Yarnç­‰å‚æ•°ï¼Œç”Ÿæˆä¸€ä¸ª webpackCompilerã€‚createCompilerè´Ÿè´£çš„ä¸œè¥¿æœ‰:4.1 æ ¹æ®çŽ¯å¢ƒå˜é‡åˆ¤æ–­æ˜¯å¦æœ‰å†’çƒŸæµ‹è¯•çš„éœ€æ±‚ï¼Œå¦‚æžœæœ‰åŠ ä¸€ä¸ª handleCompileï¼Œä¸€æœ‰é”™è¯¯å°±ä¸­æ–­ç¨‹åºã€‚4.2 ç”¨ä¼ è¿›æ¥çš„é…ç½®å’ŒhandleCompileç”Ÿæˆä¸€ä¸ªwebpackCompiler4.2 å¢žåŠ invalidé’©å­ï¼Œä¸€æ£€æµ‹åˆ°æ›´æ”¹æ–‡ä»¶ï¼Œè€Œä¸”æ˜¯äº¤äº’å¼ç»ˆç«¯çš„è¯ï¼Œå…ˆæ¸…ç©ºæŽ§åˆ¶å°ï¼Œå†è¾“å‡ºæ—¥å¿—4.3 å¢žåŠ doneé’©å­ï¼Œå¯¹webpackçš„è¾“å‡ºæ—¥å¿—æ•´ç†ç»Ÿä¸€è¾“å‡º åˆ›å»ºå¼€å‘æœåŠ¡é…ç½® å…·ä½“çš„é…ç½®ä»£ç æ”¾åœ¨webpackDevServer.config.js æŠŠ4å’Œ5ä¸¢ç»™ WebpackDevServerï¼Œç”Ÿæˆä¸€ä¸ª webpack æœ¬åœ°å¼€å‘æœåŠ¡ å¤§åŠŸå‘Šæˆï¼Œæ¸…é™¤å±å¹•ï¼Œæ‰“å¼€è°ƒè¯•è¿žæŽ¥ ç›¸å…³çš„ä»£ç æ‰§è¡Œå†™åˆ°æ³¨é‡Šé‡Œé¢åŽ»äº†ï¼Œæ²¡åŠžæ³•æ¯ä¸ªæ–¹æ³•é…ç½®éƒ½æ‹Žå‡ºæ¥è®²â€¦ä¸ç„¶ç¯‡å¹…ä¼šå¾ˆé•¿ï¼Œè¿™é‡Œé¢å¾ˆå¤šç‚¹ä¸€è®²éƒ½å¯ä»¥æ˜¯ä¸€ä¸ªçŸ¥è¯†ç‚¹ã€‚1234567891011121314151617181920212223242526272829303132choosePort(HOST, DEFAULT_PORT) .then(port =&gt; &#123; // æ²¡æœ‰æ‰¾åˆ°å¯ç”¨ç«¯å£ï¼Œç›´æŽ¥return if (port == null) &#123; return; &#125; // æ ¹æ®çŽ¯å¢ƒå˜é‡åˆ¤æ–­æ˜¯å¦è¦ç”¨https const protocol = process.env.HTTPS === 'true' ? 'https' : 'http'; const appName = require(paths.appPackageJson).name; // èŽ·å–å½“å‰çš„ host, port, protocol ç”Ÿæˆä¸€ç³»åˆ—url const urls = prepareUrls(protocol, HOST, port); // åˆ›å»ºä¸€ä¸ªwebpack compiler const compiler = createCompiler(webpack, config, appName, urls, useYarn); // åŠ è½½ä»£ç†çš„é…ç½®ï¼Œåœ¨ project_path/package.json é‡Œé¢åŠ è½½é…ç½® const proxySetting = require(paths.appPackageJson).proxy; const proxyConfig = prepareProxy(proxySetting, paths.appPublic); // ç”Ÿæˆ webpack dev server çš„é…ç½® const serverConfig = createDevServerConfig( proxyConfig, urls.lanUrlForConfig ); const devServer = new WebpackDevServer(compiler, serverConfig); // ç›‘å¬ devServer devServer.listen(port, HOST, err =&gt; &#123; // ä¸€äº›æ—¥å¿—è¾“å‡º // è‡ªåŠ¨ç”¨é»˜è®¤æµè§ˆå™¨æ‰“å¼€è°ƒè¯•é“¾æŽ¥ openBrowser(urls.localUrlForBrowser); &#125;); &#125;) .catch(err =&gt; &#123; // é”™è¯¯å¤„ç† &#125;); react-dev-utils/WebpackDevServerUtils.js12345678910111213141516171819202122232425function createCompiler(webpack, config, appName, urls, useYarn) &#123; let compiler; try &#123; compiler = webpack(config, handleCompile); // handleCompileä¸ºå†’çƒŸæµ‹è¯•çš„å¯¹åº”å¤„ç† &#125; catch (err) &#123; // é”™è¯¯æç¤º &#125; compiler.plugin('invalid', () =&gt; &#123; // invalid é’©å­ï¼Œå¦‚æžœå½“å‰å¤„äºŽTTYç»ˆç«¯ï¼Œé‚£ä¹ˆå…ˆæ¸…é™¤æŽ§åˆ¶å°å†è¾“å‡º Compiling... if (isInteractive) &#123; clearConsole(); &#125; console.log('Compiling...'); &#125;); let isFirstCompile = true; compiler.plugin('done', stats =&gt; &#123; // ç›‘å¬äº† done äº‹ä»¶ï¼Œå¯¹è¾“å‡ºçš„æ—¥å¿—åšäº†æ ¼å¼åŒ–è¾“å‡º // æ­£å¸¸æƒ…å†µä¸‹ä¼šç›´æŽ¥è¾“å‡º `Compiled successfully!` // å¦‚æžœæœ‰é”™è¯¯åˆ™è¾“å‡ºé”™è¯¯ä¿¡æ¯ï¼Œè¿™é‡Œå¯¹é”™è¯¯ä¿¡æ¯åšä¸€äº›å¤„ç†ï¼Œè®©å…¶è¾“å‡ºæ¯”è¾ƒå‹å¥½ &#125;); return compiler;&#125; æœ€åŽè®²ä¸¤å¥ä¹‹å‰å°±ä¸€ç›´å¥½å¥‡ï¼Œè¿™äº›è„šæ‰‹æž¶æ˜¯æ€Žä¹ˆæ¸…ç©ºæˆ‘ä»¬çš„ç»ˆç«¯å±å¹•çš„ã€‚åœ¨çœ‹create-react-appçš„æ—¶å€™ï¼Œçž„åˆ°æœ‰è¿™ä¹ˆä¸€ä¸ªæ–‡ä»¶react-dev-utils/clearConsole.jsã€‚è¿™ä¸ªæ–‡ä»¶ååˆ†å‰ªçŸ­ï¼Œæ ¸å¿ƒä»£ç å°±é‚£ä¹ˆä¸€å¥: react-dev-utils/clearConsole.js1process.stdout.write(process.platform === 'win32' ? '\x1B[2J\x1B[0f' : '\x1B[2J\x1B[3J\x1B[H'); ç„¶åŽå¥½å¥‡å¿ƒç‰¹åˆ«é‡ï¼Œä¸çŸ¥é“åŽé¢ä¸¤ä¸²æ˜¯ä»€ä¹ˆæ„æ€ï¼Œä¸€ç›´æœæ²¡æœ‰æ‰¾åˆ°æƒ³è¦çš„ç­”æ¡ˆã€‚é—®äº†èº«è¾¹çš„åŒäº‹ï¼Œè¯´æ˜¯åå…­è¿›åˆ¶ï¼Œè€Œåœ¨æˆ‘ç‹­éš˜çš„è®¤çŸ¥é‡Œé¢ä¸€ç›´ä»¥ä¸ºåå…­è¿›åˆ¶åªèƒ½è½¬æˆæ•°å­—â€¦.ä½†æ˜¯å®šç›ä¸€çœ‹ï¼Œè¿™æœ‰ä¸ªJ æ˜Žæ˜¾ä¸æ˜¯åå…­è¿›åˆ¶ã€‚ä¸€ä¸ªå¥³è£…å¤§ä½¬å’Œæˆ‘è¯´è¿™æ˜¯ASCIIç ï¼Œç™¾åº¦äº†ä¸€ä¸‹ASCIIç ï¼Œçœ‹äº† \x1B ASCIIå¯¹åº”åˆ° ESCã€‚ ä½†æ˜¯åŽé¢çš„ [2J [3J [H æ˜¯ä»€ä¹ˆæ„æ€è¿˜æ˜¯ä¸æ¸…æ¥šâ€¦åŽé¢å¤§ä½¬åˆå’Œæˆ‘è¯´æ‰¾åˆ°å¯èƒ½æ˜¯ Linux ANSI æŽ§åˆ¶ç  æ‰¾æ¥æ‰¾åŽ»æŠ˜è…¾äº†æŒºä¹…çš„åŽé¢æ‰æ­å¼€ç¥žç§˜é¢çº±~è¿™å‡ ä¸ªå‘½ä»¤å¤§æ¦‚çš„æ„æ€æ˜¯:[2J æ¸…é™¤æŽ§åˆ¶å°[H å°†å…‰æ ‡ç§»è‡³æœ€é¡¶éƒ¨[3Jè¿˜æ˜¯æ²¡æœ‰æ‰¾åˆ°ï¼Œåº”è¯¥æ˜¯æ›´é«˜çº§çš„ç³»ç»Ÿå±‚çº§çš„æ¸…é™¤æŽ§åˆ¶å°ç»™å‡ºå‡ ä¸ª Linux ANSI æŽ§åˆ¶ç èµ„æ–™ç½‘ç«™Ubuntu Manpage: æŽ§åˆ¶ç»ˆç«¯ä»£ç  - Linux æŽ§åˆ¶ç»ˆç«¯è½¬ä¹‰å’ŒæŽ§åˆ¶åºåˆ—æŽ§åˆ¶ç»ˆç«¯ä»£ç  - Linux æŽ§åˆ¶ç»ˆç«¯è½¬ä¹‰å’ŒæŽ§åˆ¶åºåˆ—(è½¬) - æœ¨ç“œè„‘è¢‹ - åšå®¢å›­ æœ€åŽå‰ç«¯çš„å°ä¼™ä¼´å¾ˆå¤šå’Œæˆ‘ä¸€æ ·ä¸æ˜¯ç§‘ç­å‡ºèº«çš„ï¼ŒçœŸçš„å¾—åŠ æŠŠåŠ²è¡¥è¡¥ä¸€äº›è®¡ç®—æœºæ¯”è¾ƒåŽŸç†æ€§æˆ–æ¯”è¾ƒæŽ¥è¿‘ç³»ç»Ÿå±‚çº§çš„çŸ¥è¯†~]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>github</tag>
        <tag>React</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2018-05-08é¢è¯•è®°B]]></title>
    <url>%2F2018%2F05%2F2018-05-08%2F</url>
    <content type="text"><![CDATA[æ¬§å•¦å•¦å•¦å•¦å•¦å•¦å•¦å•¦å•¦ è®°å½•ä¸‹æœ€è¿‘çš„é¢è¯•ç­‰æƒ…å†µ~~~ ç®€åŽ†æŠ•é€’æƒ…å†µ2ç®€åŽ†æŠ•é€’æƒ…å†µä¼ é€é—¨æ®ä¸å®Œå…¨ç»Ÿè®¡:æŠ• è”æž æŠ€æœ¯é¢æŠ• 100æ•™è‚² å¾…æ²Ÿé€šæŠ• å°šå¾·æ•™è‚² æ²¡é¢è¯•æœºä¼š æœ€æœ€æœ€æœ€æœ€å¼€å¿ƒçš„äº‹æƒ…å¯èƒ½å°±æ˜¯é¢äº†è”æž~ è™½ç„¶æœ€åŽæ²¡æœ‰è¿‡ ä¸è¿‡è¿˜æ˜¯æŒºä¸é”™çš„ä¸€æ¬¡ä½“éªŒ è®°å½•ä¸€ä¸‹ é¦–å…ˆæµç¨‹æ˜¯ï¼š ç¬”è¯• =&gt; æœºè¯• =&gt; ä¸¤ä¸ªäººçš„æŠ€æœ¯é¢ ç¬”è¯•æ¯”è¾ƒåŸºç¡€çš„é—®é¢˜ï¼Œä½†æ˜¯é¢è¯•å®˜ä¼šæ ¹æ®å†™çš„é¢˜é—®æ€è·¯ï¼Œè€Œä¸”ä¼šå„ç§å˜å½¢é—®ï¼Œå¯ä»¥æ¯”è¾ƒæ·±äº†è§£åŸºç¡€çš„çŸ¥è¯†ã€‚ ä»¥ä¸‹åªæ˜¯ä¸ªäººçš„é¢è¯•è®°å½•ï¼Œå¦‚æžœå‘çŽ°æœ‰ä¸å¦¥çš„è”ç³»å³åˆ ã€‚ è”æžç¬”è¯• ä½œç”¨åŸŸçš„é—®é¢˜ 1234567891011121314151617181920212223242526272829303132333435function a() &#123; return t; function t()&#123;&#125; var t; t = 20;&#125;typeof a();// è¿˜æœ‰å„ç§å˜å½¢function a() &#123; function t() &#123;&#125; var t; return t; t = 20;&#125;function a() &#123; function t() &#123;&#125; var t; return t; t = 20;&#125;function a() &#123; function t() &#123;&#125; var t; return t; t = 20;&#125;function a()&#123; return t; var t; t = 20;&#125; å…¼å®¹ä½Žç‰ˆæœ¬æµè§ˆå™¨æ¨¡æ‹Ÿ Function.prototype.bind 1ç›´æŽ¥ç”¨ call || allpy æ¨¡æ‹Ÿï¼Œè¿”å›žä¸€ä¸ªé—­åŒ…ï¼Œå‚æ•°ç”¨ Array.prototype.slice.apple åŽ»å–å³å¯~ å…³äºŽæ­£åˆ™çš„æ¯”è¾ƒç®€å•~ ä¸å†™å‡ºæ¥äº† å…³äºŽzIndexçš„ï¼ŒæŽ¨èç›´æŽ¥çœ‹å¼ é‘«æ—­å¤§ä½¬çš„æ–‡ç« ï¼Œè¶…ä¸è¿‡é‚£ä¸ªèŒƒå›´å¼ é‘«æ—­å¤§ä½¬ä¼ é€é—¨ å®žçŽ°ä¸€ä¸ªå®½é«˜éƒ½æ˜¯æµè§ˆå™¨ 40%çš„æ­£æ–¹å½¢ 121. ç”¨vwæ–¹æ¡ˆ2. ç”¨padding ( emmm è¿™ä¸ªé¢è¯•å¤§ä½¬æç¤ºäº†æ‰æƒ³èµ· padding æ˜¯æ ¹æ®çˆ¶çº§å®½åº¦çš„) a,b,c,d å››ä¸ªæŽ¥å£ï¼Œæ±‚æœ€å¿« || æœ€æ…¢çš„å“åº”æ—¶é—´ 1ç›´æŽ¥ç”¨ Promise.all || Promise.race å³å¯ ç¬”è¯•é¢˜è¿˜å¥½ï¼Œä½œç”¨åŸŸé‚£ä¸€é¢˜æœ‰ç‚¹æ·· å…¶ä»–æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œç®—æ˜¯æœ‰æƒŠæ— é™© æœºè¯•æœºè¯•é¢˜äºŒé€‰ä¸€ ä¸€ä¸ªæ˜¯å®žçŽ°ä¸€ä¸ªdialog ä¸€ä¸ªæ˜¯å®žçŽ°ä¸€ä¸ªéªŒè¯è¡¨å•é€‰äº† dialog åšçš„æ—¶å€™æ²¡æœ‰çœ‹é¢˜â€¦æœ‰ä¸ªåŠŸèƒ½ç‚¹æ²¡æœ‰å®žçŽ°å®Œå…¨å°±è·‘åŽ»åšéªŒè¯é¢˜ï¼ŒéªŒè¯é¢˜æ²¡æœ‰åšå®Œdialog åº”è¯¥ç®—æ˜¯å®žçŽ°çš„ä¸å¤ŸåŠæ ¼çº¿ å¼•å‡ºäº†æŒºå¤šä¼˜åŒ–æ–¹æ¡ˆçš„ï¼Œæ¯”å¦‚ dom å¤„ç†ï¼Œæ¯”å¦‚åŠ¨ç”»å¤„ç†ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªé¢è¯•å®˜æš—ç¤ºäº†å¥½å¤šæ¬¡ï¼Œä½†æ˜¯æ²¡æœ‰æƒ³èµ·æ¥çš„ä¸€ä¸ªapi animationendanimationend demo é¢è¯•é¢è¯•å°±æ ¹æ®å‰é¢åšçš„ä¸¤ä»½é¢˜æ‰©å±•åŽ»é—®æ€è·¯ç­‰ç­‰ é—®é¢˜çš„å¥—è·¯æ˜¯æ¯”è¾ƒå–œæ¬¢çš„ï¼Œä¸¾ä¸ªä¾‹å­ï¼š Q: å·¦è¾¹è‡ªé€‚åº”ï¼Œå³è¾¹å›ºå®šæœ‰ä»€ä¹ˆå¸ƒå±€?A: flexå¸ƒå±€, flex: 1 &amp;&amp; width: â€¦Q: æµè§ˆå™¨è¿™æ—¶å€™ç¼©å°ä¼šæœ‰ä»€ä¹ˆæƒ…å†µï¼ŸA: flex: 1 æ…¢æ…¢ç¼©å°ï¼Œå¦ä¸€ä¸ªä¸å˜ï¼ˆè¿™ä¸ªå›žç­”æˆ‘æ¨¡æ£±ä¸¤å¯çŠ¹è±«äº†ï¼Œè™½ç„¶çŸ¥é“æ˜¯ä¸å˜ï¼Œä½†æ˜¯å¥½åƒé¡¹ç›®ä¸­æœ‰é‡è¿‡å˜çš„â€¦æ‰£åˆ†äº†)Q: è¿˜æœ‰å…¶ä»–çš„å—?A: æµ®åŠ¨ float:left; overflow: autoQ: æ¸…é™¤æµ®åŠ¨æœ‰å“ªäº›A: å§”å…ƒç´ æ¸…é™¤ &amp;&amp; BFCQ: BFCæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Œæ€Žä¹ˆè®¾ç½®BFCA: å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼Œæ¸…é™¤æµ®åŠ¨æˆ–è€…æ¶ˆé™¤masteråˆå¹¶ï¼Œå¯ä»¥ç”¨overflow(hidden,auto,scroll) || float(left,right) || display(inline-block) || position(absolute, fixed) åŽé¢èŠäº†ä¸‹ å·¥ä½œçš„ä¼˜åŒ–ï¼Œ webpackæž„å»ºï¼Œ reactä¼˜åŒ–, ç¼“å­˜æœºåˆ¶(æ¶‰åŠhttp), pwaç­‰ç­‰ è¿˜é—®äº†å°ç¨‹åºå’Œvueçš„ä¸œè¥¿ï¼Œä½†æ˜¯å…¶å®žä¸Šä¸€æ¬¡åšå°ç¨‹åºå·²ç»æ˜¯ä¸€å¹´å‰äº†ï¼Œè¯´äº†vueå’Œå°ç¨‹åºçš„ä¸Šæ‰‹ä¸åº”è¯¥æˆä¸ºä¸€ä¸ªé—®é¢˜æ‰€åœ¨ã€‚ ç„¶åŽé—®äº†ä¸‹èŒä¸šè§„åˆ’ï¼Œè¯´äº†æœ€è¿‘æ˜¯åœ¨çœ‹ create-react-appæºç ï¼ŒæŽ¥ä¸‹æ¥çš„è§„åˆ’æ˜¯ ä¸“å‰ç«¯ é€šå…¶ä»– è”æžç»“æžœå·¥ä½œä¼˜åŒ–å¯èƒ½ä¸æ˜¯å¾ˆæ»¡æ„webpackæž„å»ºä¼˜åŒ–åº”è¯¥è¿˜è¡Œï¼Œæ¯•ç«Ÿé¡¹ç›®ä¸Šç”¨çš„æ¯”è¾ƒå¤šreactä¹Ÿè¿˜å¥½ï¼Œè™½ç„¶é¢è¯•çš„æ˜¯ç”¨vueå’Œå°ç¨‹åºpwaä¹Ÿæœ‰æ‰€äº†è§£ä¸»è¦æ˜¯ httpè¿™å—æš´éœ²äº†åŽå°çŸ¥è¯†è–„å¼±ï¼Œæ²¡æœ‰å½¢æˆä¸€ä¸ªæ¯”è¾ƒå…¨é¢çŸ¥è¯†ä½“ç³» åŽé¢è¿˜è¢«å«Œå¼ƒäº†ä¸‰å¹´å‘†äº†ä¸‰ä¸ªå…¬å¸å¤ªè¿‡é¢‘ç¹ æœ€åŽè®©é¢è¯•å®˜ç»™äº†ä¸€ä¸‹é¢è¯•çš„è¯„ä»·ï¼š1. css æ¦‚å¿µä¸ç†Ÿ2. æµè§ˆå™¨apiè®¤è¯†ä¸å…¨3. httpã€åŽç«¯çŸ¥è¯†æ²¡æœ‰ç³»ç»Ÿå­¦ä¹ 4. è·³æ§½è¿‡å¤š~ ä¸‰å¹´å‘†äº†ä¸‰ä¸ªå…¬å¸ â•®(â•¯â–½â•°)â•­å“Ž è¿˜é—¹äº†ä¸ªä¹Œé¾™ï¼Œæƒ³è¯´ ã€ŠCSSä¸–ç•Œã€‹ è¯´æˆ ã€Šcssæ­ç§˜ã€‹ æœ€è¿‘åº”è¯¥æŠ˜è…¾å®Œæ‰‹ä¸Šä¸œè¥¿åŽï¼Œä¼šæ¯”è¾ƒç³»ç»Ÿçš„åŽ»çœ‹ åˆ‡å›¾å†™é¡µé¢çš„è¿™ä¸€å—ï¼Œæ¯”è¾ƒ html+css å…¶å®žä¹Ÿæ˜¯å¾ˆé‡è¦çš„]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>blog</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[create-react-app æºç è§£æž]]></title>
    <url>%2F2018%2F05%2Fcreate-react-app-o%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘å·¥ä½œå¼€å§‹ç¨³å®šä¸‹æ¥ï¼Œæ²¡æœ‰é‚£ä¹ˆå¤šåŠ ç­ï¼ŒåŠ ä¸Šè¯´æŠ•ç®€åŽ†æ‰¾é¢è¯•ä¸€ç›´æ²¡æ‹¿åˆ°é¢è¯•æœºä¼šâ€¦æ‰€ä»¥å¼€å§‹æœ‰ç©ºé—²çš„æ—¶é—´ ä¹‹å‰å…¬å¸æœ‰ä¸ªå¤§ä½¬å†™äº†ä¸ªç±»ä¼¼ create-react-app çš„è„šæ‰‹æž¶ï¼Œç”¨æ¥åˆ›å»ºå…¬å¸çš„é¡¹ç›®ã€‚ä¸€ç›´ä¸çŸ¥é“é‡Œé¢å®žçŽ°çš„åŽŸç†ï¼Œå€Ÿæ­¤æœºä¼šä¸€æŽ¢ create-react-app æºç ï¼Œäº†è§£ä¸‹é‡Œé¢è¿è¡Œçš„æœºåˆ¶ã€‚ æŽˆäººä»¥é±¼ä¸å¦‚æŽˆäººä»¥æ¸”ï¼Œå¸Œæœ›é€šè¿‡è¿™ç¯‡æ–‡ç« ä¹‹åŽï¼Œå¯¹å¤§å®¶ä»¥åŽçœ‹æºç å¯ä»¥æœ‰æ‰€å¸®åŠ©ã€‚å¤§å®¶ä¹Ÿä¸è¦ä¸€çœ‹åˆ°æºç å°±å®³æ€•ä¸æ•¢åŽ»çœ‹ï¼ŒçŽ°åœ¨è¿™ä¹ˆä¼˜ç§€é¡¹ç›®éƒ½å¼€æºäº†ï¼ŒåŠ ä¸Šå„ç§IDEæ”¯æŒå¾ˆå¥½ï¼Œç›´æŽ¥æ‰“ä¸ªæ–­ç‚¹è¿›åŽ»è°ƒè¯•ï¼Œå¾ˆå®¹æ˜“çœ‹å‡ºä¸ªå¤§æ¦‚ã€‚ä¹Ÿå¯ä»¥ç”¨è¿™ç§æ€è·¯åŽ»äº†è§£å…¶ä»–çš„å¼€æºé¡¹ç›® å¿«é€Ÿäº†è§£å¯¹äºŽæƒ³å¿«é€Ÿäº†è§£çš„ç›´æŽ¥æµè§ˆè¿™ä¸€å—å³å¯create-react-app å…¶å®žå°±æ˜¯ç”¨nodeåŽ»è·‘ä¸€äº›åŒ…å®‰è£…æµç¨‹ï¼Œå¹¶ä¸”æŠŠæ–‡ä»¶æ¨¡æ¿demoè€ƒåˆ°å¯¹äºŽçš„ç›®å½•ä¸‹ã€‚å¯ä»¥ç®€å•åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤: åˆ¤æ–­Nodeç‰ˆæœ¬ åšä¸€äº›å‘½ä»¤è¡Œå¤„ç†çš„åˆå§‹åŒ–ï¼Œæ¯”å¦‚è¾“å…¥ -help åˆ™è¾“å‡ºå¸®åŠ©å†…å®¹ åˆ¤æ–­æ˜¯å¦æœ‰è¾“å…¥é¡¹ç›®åï¼Œæœ‰åˆ™æ ¹æ®å‚æ•°åŽ»è·‘åŒ…å®‰è£…ï¼Œé»˜è®¤æ˜¯yarnå®‰è£…æ–¹å¼ï¼Œeg: yarn add react react-dom react-scripts ä¿®æ”¹package.jsoné‡Œé¢å·²å®‰è£…çš„ä¾èµ–ç‰ˆæœ¬ï¼Œä»Žç²¾ç¡®ç‰ˆæœ¬16.0.0æ”¹ä¸º^å‘ä¸Šå…¼å®¹ç‰ˆæœ¬^16.0.0 å¹¶åŠ å…¥ start,buildç­‰å¯åŠ¨è„šæœ¬ æ‹·è´ react-scriptsä¸‹çš„ template åˆ°ç›®æ ‡æ–‡ä»¶ï¼Œé‡Œé¢æœ‰public,srcç­‰æ–‡ä»¶å¤¹ï¼Œå…¶å®žå°±æ˜¯ä¸€ä¸ªç®€å•çš„å¯è¿è¡Œdemo END~ ç»§ç»­å¾€ä¸‹çœ‹çš„å°ä¼™ä¼´å¯ä»¥è·Ÿç€ä¸€æ­¥ä¸€æ­¥äº†è§£é‡Œé¢çš„å®žçŽ°é€»è¾‘ï¼Œå…ˆä¾‹è¡Œäº¤ä»£ä¸‹çŽ¯å¢ƒç‰ˆæœ¬:create-react-app v1.1.4macOS 10.13.4node v8.9.4npm 6.0.0yarn 1.6.0vsCode 1.22.2 é¡¹ç›®åˆå§‹åŒ–å…ˆä¸Šgithub æ‹‰é¡¹ç›®ä»£ç ï¼Œæ‹‰ä¸‹æ¥ä¹‹åŽåˆ‡æ¢åˆ°æŒ‡å®šçš„ tag git clone https://github.com/facebook/create-react-app.git git checkout v1.1.4 yarn //å¦‚æžœä¸éœ€è¦æ–­ç‚¹è°ƒè¯•ï¼Œè¿™ä¸€æ­¥å¯ä»¥è·³è¿‡ è¿™é‡Œå¯èƒ½yarn ç‰ˆæœ¬å¤ªä½Žçš„è¯ï¼Œä¼šæŠ¥ä¸€ç³»åˆ—é”™è¯¯ï¼Œä¹‹å‰ç”¨çš„æ˜¯ 0.xç‰ˆæœ¬çš„ï¼Œå‡çº§åˆ°1.xå°±æ²¡é—®é¢˜äº† ä¸‹é¢æˆ‘ä»¬ç”¨ root ä»£æ›¿é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œæ–¹ä¾¿ç†è§£ é¦–å…ˆæˆ‘ä»¬æ‰“å¼€é¡¹ç›®èƒ½çœ‹åˆ°ä¸€å †çš„é…ç½®æ–‡ä»¶å’Œä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼šeslinté…ç½®æ–‡ä»¶ã€traviséƒ¨ç½²é…ç½®ã€yarné…ç½®ã€æ›´æ–°æ—¥å¿—ã€å¼€æºå£°æ˜Žç­‰ç­‰â€¦è¿™äº›æˆ‘ä»¬å…¨éƒ½å¯ä»¥ä¸ç”¨åŽ»çœ‹ï¼Œé‚£æˆ‘ä»¬è¦çœ‹çš„æ ¸å¿ƒæºç æ”¾åœ¨å“ªé‡Œå‘¢ åˆ’é‡ç‚¹: å¦‚æžœé¡¹ç›®ä¸çŸ¥é“ä»Žå“ªé‡Œå…¥æ‰‹çš„è¯ï¼Œé¦–å…ˆä»Žpackage.jsonæ–‡ä»¶å¼€å§‹root/package.json12345678910111213&#123; "private": true, "workspaces": [ "packages/*" ], "scripts": &#123; "start": "cd packages/react-scripts &amp;&amp; node scripts/start.js", &#125;, "devDependencies": &#123; &#125;, "lint-staged": &#123; &#125;&#125; æ‰“å¼€æ ¹ç›®å½• package.json æˆ‘ä»¬å¯ä»¥çœ‹åˆ°é‡Œé¢å¾ˆç®€æ´~ npmè„šæœ¬å‘½ä»¤ï¼Œå¼€å‘ä¾èµ–ï¼Œè¿˜æœ‰æäº¤é’©å­ï¼Œå‰©ä¸‹çš„å°±æ˜¯æˆ‘ä»¬è¦å…³æ³¨çš„ workspaces è¿™é‡ŒæŒ‡å‘çš„æ˜¯ &quot;packages/*&quot;ï¼Œæ‰€ä»¥æˆ‘ä»¬çŽ°åœ¨çš„é‡ç‚¹å°±æ”¾åœ¨ packages æ–‡ä»¶å¤¹ packages æ–‡ä»¶å¤¹ä¸‹é¢ä¹Ÿæœ‰å‡ ä¸ªæ–‡ä»¶å¤¹ï¼Œè¿™é‡Œæ–‡ä»¶å¤¹å‘½åå¾ˆè§„èŒƒï¼Œä¸€çœ‹å°±çŸ¥é“åŠŸèƒ½åˆ’åˆ†ï¼Œæ‰€ä»¥è¿˜æ˜¯è€å¥—è·¯ç›´æŽ¥çœ‹ root/packages/create-react-app/package.json packages/create-react-app/package.json123456789101112131415161718&#123; "name": "create-react-app", "version": "1.5.2", "license": "MIT", "engines": &#123; &#125;, "bugs": &#123; &#125;, "files": [ "index.js", "createReactApp.js" ], "bin": &#123; "create-react-app": "./index.js" &#125;, "dependencies": &#123; &#125;&#125; è¿™æ—¶å€™æ²¡æœ‰ workspacesé¡¹ï¼Œ æˆ‘ä»¬å¯ä»¥çœ‹ bin binçš„åŠŸèƒ½æ˜¯æŠŠå‘½ä»¤å¯¹åº”åˆ°å¯æ‰§è¡Œçš„æ–‡ä»¶ï¼Œå…·ä½“çš„ä»‹ç»å¯ä»¥çœ‹package Document è¿™é‡Œå¯ä»¥ç®€å•ç†è§£æˆï¼Œå½“æˆ‘ä»¬å…¨å±€å®‰è£…äº† create-react-app ä¹‹åŽï¼Œè·‘ create-react-app my-react-app ç³»ç»Ÿä¼šå¸®æˆ‘ä»¬åŽ»è·‘ packages/create-react-app/index.js my-react-app ç»ˆäºŽæ‰¾åˆ°æºç çš„å…¥å£äº†ï¼Œå¯¹äºŽç®€å•çš„æºç æˆ‘ä»¬å¯ä»¥ç›´æŽ¥çœ‹ï¼Œå¯¹äºŽæ¯”è¾ƒå¤æ‚çš„ æˆ–è€…æƒ³è¦çœ‹åˆ°æ‰§è¡Œåˆ°æ¯ä¸€è¡Œä»£ç æ—¶é‚£äº›å˜é‡æ˜¯ä»€ä¹ˆå€¼çš„æƒ…å†µï¼Œæˆ‘ä»¬å°±è¦ç”¨IDEæˆ–å…¶ä»–å·¥å…·æ¥æ–­ç‚¹è°ƒè¯•ä»£ç äº†ã€‚ é…ç½®æ–­ç‚¹è°ƒè¯•å¯¹äºŽvscodeæˆ–nodeè°ƒè¯• æ¯”è¾ƒç†Ÿæ‚‰çš„å¯ä»¥è·³è¿‡ç›´æŽ¥çœ‹ å¼€å§‹æ–­ç‚¹é˜…è¯»æºç  vscode debugå¯¹äºŽvscodeç”¨æˆ·æ¥è¯´ï¼Œè°ƒè¯•éžå¸¸ç®€å•ï¼Œç‚¹å‡»ä¾§è¾¹æ çš„å°ç”²è™«å›¾æ ‡ï¼Œç‚¹å‡»è®¾ç½®ç„¶åŽç›´æŽ¥ä¿®æ”¹ â€œprogramâ€çš„å€¼ï¼Œä¿®æ”¹å®Œç‚¹å‡»å·¦ä¸Šè§’çš„ç»¿è‰²ç®­å¤´å°±å¯ä»¥è·‘èµ·æ¥äº†ï¼Œå¦‚æžœè¦åœ¨æŸä¸€å¤„æ–­ç‚¹ï¼Œæ¯”å¦‚ create-react-app/index.js line39 æ–­ç‚¹ï¼Œç›´æŽ¥åœ¨è¡Œå·çš„å·¦è¾¹ç‚¹ä¸€ä¸‹é¼ æ ‡å°±å¯ä»¥äº†launch.json é…ç½®1234567891011&#123; "version": "0.2.0", "configurations": [ &#123; "type": "node", "request": "launch", "name": "å¯åŠ¨ç¨‹åº", "program": "$&#123;workspaceFolder&#125;/packages/create-react-app/index.js", &#125; ]&#125; node è°ƒè¯•å¦‚æžœå¹³æ—¶æ²¡æœ‰ç”¨vscodeå¼€å‘æˆ–è€…ä¹ æƒ¯chrome-devtoolçš„ï¼Œå¯ä»¥ç›´æŽ¥ç”¨nodeå‘½ä»¤è·‘ï¼Œç„¶åŽåœ¨chromeé‡Œé¢è°ƒè¯•é¦–å…ˆä¿è¯nodeçš„ç‰ˆæœ¬çš„ 6 ä»¥ä¸Šç„¶åŽåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œ node --inspect-brk packages/create-react-app/index.jsåœ¨chromeåœ°å€æ è¾“å…¥ chrome://inspect/#devices ç„¶åŽå°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬è¦è°ƒè¯•çš„è„šæœ¬äº†å…³äºŽnode chrome-devtool è°ƒè¯•è¯¦ç»†å¯ä»¥çœ‹è¿™é‡Œ ä¼ é€é—¨ (psï¼šè¿™é‡Œå¯ä»¥çœ‹å‡ºæ¥nodeåœ¨æ¨¡å—åŒ–çš„å®žçŽ°æ˜¯é€šè¿‡ç”¨ä¸€ä¸ªå‡½æ•°åŒ…è£¹èµ·æ¥ï¼Œç„¶åŽæŠŠ exports, requestdç­‰å‚æ•°ä¼ è¿›æ¥ä»¥ä¾›ä½¿ç”¨) å¼€å§‹æ–­ç‚¹é˜…è¯»æºç packages/create-react-app/index.js githubæ–‡ä»¶ä¼ é€é—¨è¿™ä¸ªæ–‡ä»¶ååˆ†ç®€å•ï¼Œåªæ˜¯åšä¸ºä¸€ä¸ªå…¥å£æ–‡ä»¶åˆ¤æ–­ä¸€ä¸‹ nodeç‰ˆæœ¬ï¼Œå°äºŽ 4.xçš„æç¤ºå¹¶ç»ˆæ­¢ç¨‹åºï¼Œ å¦‚æžœæ­£å¸¸åˆ™åŠ è½½ ./createReactApp è¿™ä¸ªæ–‡ä»¶ï¼Œä¸»è¦çš„é€»è¾‘åœ¨è¯¥æ–‡ä»¶å®žçŽ°ã€‚ packages/create-react-app/createReactApp.js githubæ–‡ä»¶ä¼ é€é—¨é¡ºç€æˆ‘ä»¬çš„æ–­ç‚¹è¿›å…¥åˆ° createReactApp.js è¿™ä¸ªæ–‡ä»¶æœ‰750è¡Œä¹ä¸€çœ‹å¾ˆå¤šï¼Œæ–‡ä»¶å¤´åˆæœ‰åå‡ ä¸ªä¾èµ–å¼•å…¥ï¼Œä½†æ˜¯ä¸è¦è¢«å“åˆ°ï¼Œä¸€èˆ¬è¿™ç§é«˜è´¨é‡çš„å¼€æºé¡¹ç›®ï¼Œé‡Œé¢æœ‰ä¸€å¤§åŠæ˜¯æ³¨é‡Šå’Œé”™è¯¯å‹å¥½ä¿¡æ¯ã€‚ è¿™é‡Œå»ºè®®æ²¡æœ‰æ‰“æ–­ç‚¹è°ƒè¯•çš„å°ä¼™ä¼´è¯•ä¸€ä¸‹æŠŠä»£ç å¤åˆ¶åˆ°å¦ä¸€ä¸ªjsæ–‡ä»¶ï¼Œç„¶åŽå…ˆä¸çœ‹å‰é¢çš„ä¾èµ–ï¼Œä¸‹é¢ç”¨åˆ°å†åŽ» npmæŸ¥ä¸€ä¸‹æ˜¯ä»€ä¹ˆä½œç”¨çš„ã€‚ä¸è¦è¢«ç»•è¿›åŽ»çœ‹äº†ä¸€ä¸ªåˆä¸€ä¸ªçš„ä¾èµ–ï¼Œæ ¸å¿ƒä»£ç åè€Œæ²¡æœ‰çœ‹åˆ°ã€‚ ç„¶åŽçœ‹ä¸€éƒ¨åˆ†ä¹‹åŽå°±æŠŠé‚£éƒ¨åˆ†çš„ä»£ç åˆ æŽ‰ï¼Œæ¯”å¦‚æˆ‘çœ‹äº†200è¡Œï¼Œå°±æŠŠå‰é¢200è¡Œåˆ äº†ï¼Œè¿™æ ·å‰©ä¸‹500è¡Œçœ‹ç€å°±æ²¡æœ‰é‚£ä¹ˆå¿ƒè™šäº†ã€‚å½“ç„¶è¿˜æ˜¯å»ºè®®ç”¨æ–­ç‚¹è°ƒè¯•é˜…è¯»ï¼Œé€»è¾‘ä¼šæ¯”è¾ƒæ¸…æ™°ã€‚ é¦–å…ˆæ–‡ä»¶å¤´éƒ¨è¿™ä¸€å¤§ä¸²çš„ä¾èµ–ï¼Œæˆ‘ä»¬æš‚æ—¶ä¸åŽ»å…³æ³¨ä»–ä»¬ï¼Œç­‰åŽé¢ç”¨åˆ°å†åŽ»æŸ¥createReactApp.js1234567891011121314const validateProjectName = require('validate-npm-package-name');const chalk = require('chalk');const commander = require('commander');const fs = require('fs-extra');const path = require('path');const execSync = require('child_process').execSync;const spawn = require('cross-spawn');const semver = require('semver');const dns = require('dns');const tmp = require('tmp');const unpack = require('tar-pack').unpack;const url = require('url');const hyperquest = require('hyperquest');const envinfo = require('envinfo'); commander å‘½ä»¤è¡Œå¤„ç†ç¨‹åºæŽ¥ä¸‹æ¥é¡ºç€æˆ‘ä»¬çš„æ–­ç‚¹ï¼Œç¬¬ä¸€è¡Œè¢«æ‰§è¡Œçš„ä»£ç æ˜¯ L56 createReactApp.js1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253const program = new commander.Command(packageJson.name) .version(packageJson.version) // create-react-app -v æ—¶è¾“å‡º $&#123;packageJson.version&#125; .arguments('&lt;project-directory&gt;') // è¿™é‡Œç”¨&lt;&gt; åŒ…ç€project-directory è¡¨ç¤º project-directoryä¸ºå¿…å¡«é¡¹ .usage(`$&#123;chalk.green('&lt;project-directory&gt;')&#125; [options]`) // ç”¨ç»¿è‰²å­—ä½“è¾“å‡º &lt;project-directory&gt; .action(name =&gt; &#123; projectName = name; &#125;) // èŽ·å–ç”¨æˆ·ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸º projectName **ä¸‹é¢å°±ä¼šç”¨åˆ°** .option('--verbose', 'print additional logs') // optionç”¨äºŽé…ç½®`create-react-app -[option]`çš„é€‰é¡¹ï¼Œæ¯”å¦‚è¿™é‡Œå¦‚æžœç”¨æˆ·å‚æ•°å¸¦äº† --verboseï¼Œ ä¼šè‡ªåŠ¨è®¾ç½®program.verbose = true; .option('--info', 'print environment debug info') // åŽé¢ä¼šç”¨åˆ°è¿™ä¸ªå‚æ•°ï¼Œç”¨äºŽæ‰“å°å‡ºçŽ¯å¢ƒè°ƒè¯•çš„ç‰ˆæœ¬ä¿¡æ¯ .option( '--scripts-version &lt;alternative-package&gt;', 'use a non-standard version of react-scripts' ) .option('--use-npm') .allowUnknownOption() // on('option', cb) è¾“å…¥ create-react-app --help è‡ªåŠ¨æ‰§è¡ŒåŽé¢çš„æ“ä½œè¾“å‡ºå¸®åŠ© .on('--help', () =&gt; &#123; console.log(` Only $&#123;chalk.green('&lt;project-directory&gt;')&#125; is required.`); console.log(); console.log( ` A custom $&#123;chalk.cyan('--scripts-version')&#125; can be one of:` ); console.log(` - a specific npm version: $&#123;chalk.green('0.8.2')&#125;`); console.log( ` - a custom fork published on npm: $&#123;chalk.green( 'my-react-scripts' )&#125;` ); console.log( ` - a .tgz archive: $&#123;chalk.green( 'https://mysite.com/my-react-scripts-0.8.2.tgz' )&#125;` ); console.log( ` - a .tar.gz archive: $&#123;chalk.green( 'https://mysite.com/my-react-scripts-0.8.2.tar.gz' )&#125;` ); console.log( ` It is not needed unless you specifically want to use a fork.` ); console.log(); console.log( ` If you have any problems, do not hesitate to file an issue:` ); console.log( ` $&#123;chalk.cyan( 'https://github.com/facebookincubator/create-react-app/issues/new' )&#125;` ); console.log(); &#125;) .parse(process.argv); // è§£æžä¼ å…¥çš„å‚æ•° å¯ä»¥ä¸ç”¨ç†ä¼š è¿™é‡Œç”¨åˆ°äº†ä¸€ä¸ª commander çš„ä¾èµ–ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥åŽ»npm æœä¸€ä¸‹ä»–çš„ä½œç”¨äº†ã€‚å®˜ç½‘çš„æè¿°æ˜¯ The complete solution for node.js command-line interfaces, inspired by Ruby&#39;s commander.API documentation ç¿»è¯‘è¿‡æ¥æ˜¯ node.js å‘½ä»¤è¡ŒæŽ¥å£çš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼ŒåŸºæœ¬çš„åŠŸèƒ½çœ‹æ³¨é‡Šå³å¯ï¼Œå¤§æ¦‚äº†è§£ä¸€ä¸‹æœ‰è¿™ä¹ˆä¸€ä¸ªä¸œè¥¿ï¼ŒåŽé¢è‡ªå·±è¦åšçš„æ—¶å€™æœ‰é—¨è·¯å³å¯ã€‚githubä¼ é€é—¨ã€‚ åˆ¤æ–­æ˜¯å¦æœ‰ä¼ projectNamecreateReactApp.js1234567891011121314if (typeof projectName === 'undefined') &#123; if (program.info) &#123; // å¦‚æžœå‘½ä»¤è¡Œæœ‰å¸¦ --info å‚æ•°ï¼Œè¾“å‡º react,react-dom,react-scriptsç‰ˆæœ¬ ç„¶åŽé€€å‡º envinfo.print(&#123; packages: ['react', 'react-dom', 'react-scripts'], noNativeIDE: true, duplicates: true, &#125;); process.exit(0); &#125; ... è¿™é‡Œè¾“å‡ºäº†ä¸€äº›é”™è¯¯æç¤ºä¿¡æ¯ ... process.exit(1);&#125; å¾€ä¸‹çœ‹æ˜¯ä¸€ä¸ªåˆ¤æ–­å¿…é¡»ä¼ å…¥çš„å‚æ•° projectNameï¼Œè¿™é‡Œçš„ projectName å°±æ˜¯ä¸Šé¢é€šè¿‡ .action(name =&gt; { projectName = name;}) èŽ·å–çš„ã€‚åˆ¤æ–­å¦‚æžœæ²¡æœ‰è¾“å…¥çš„è¯ï¼Œç›´æŽ¥åšä¸€äº›ä¿¡æ¯æç¤ºï¼Œç„¶åŽç»ˆæ­¢ç¨‹åºã€‚è¿™é‡Œå‚æ•°å¦‚æžœä¼ å…¥äº† --info çš„è¯ï¼Œ ä¼šæ‰§è¡Œåˆ°envinfo.printã€‚ æ—¥å¸¸npm æœä¸€ä¸‹ envinfo è¿™æ˜¯ä¸€ä¸ªç”¨æ¥è¾“å‡ºå½“å‰çŽ¯å¢ƒç³»ç»Ÿçš„ä¸€äº›ç³»ç»Ÿä¿¡æ¯ï¼Œæ¯”å¦‚ç³»ç»Ÿç‰ˆæœ¬ï¼Œnpmç­‰ç­‰è¿˜æœ‰react,react-dom,react-scriptsè¿™äº›åŒ…çš„ç‰ˆæœ¬ï¼Œéžå¸¸å¥½ç”¨ã€‚è¿™ä¸ªåŒ…çŽ°åœ¨çš„ç‰ˆæœ¬å’Œcreate-react-appçš„ç‰ˆæœ¬å·®å¼‚æ¯”è¾ƒå¤§ï¼Œä½†æ˜¯ä¸å½±å“æˆ‘ä»¬ä½¿ç”¨~ envinfo npmä¼ é€é—¨ å¦‚æžœæ˜¯ç”¨æˆ‘ä¸Šé¢æä¾›çš„ vscode debugé…ç½®çš„è¯ï¼Œåˆ°è¿™é‡Œç¨‹åºåº”è¯¥å°±è¿è¡Œç»“æŸäº†ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨å¯åŠ¨è°ƒè¯•æœåŠ¡çš„æ—¶å€™ï¼Œæ²¡æœ‰ç»™è„šæœ¬ä¼ å…¥å‚æ•°ä½œä¸º projectNameï¼Œæ‰€ä»¥æˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹ vscode launch.json åŠ å¤šä¸ªå­—æ®µ &quot;args&quot;: [&quot;test-create-react-app&quot;] å¿˜è®°æ€Žä¹ˆè®¾ç½®çš„ç‚¹è¿™é‡Œ~ ä¼ å…¥äº† projectName å‚æ•° ç„¶åŽé‡æ–°å¯åŠ¨è°ƒè¯•æœåŠ¡åŠ å…¥projectName åŽçš„ launch.json1234567891011121314&#123; "version": "0.2.0", "configurations": [ &#123; "type": "node", "request": "launch", "name": "å¯åŠ¨ç¨‹åº", "program": "$&#123;workspaceFolder&#125;/packages/create-react-app/index.js", "args": [ "test-create-react-app" ] &#125; ]&#125; éšè—çš„ commander å‚æ•°æŽ¥ç€èµ°åˆ¤æ–­å®Œ projectName ä¹‹åŽï¼Œæ¥åˆ° Line140 createReactApp.js1234567const hiddenProgram = new commander.Command() .option( '--internal-testing-template &lt;path-to-template&gt;', '(internal usage only, DO NOT RELY ON THIS) ' + 'use a non-standard application template' ) .parse(process.argv); å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ˜¯ä¸€ä¸ªéšè—çš„è°ƒè¯•é€‰é¡¹ï¼Œç»™å‡ºä¸€ä¸ªå‚æ•°ç”¨äºŽä¼ å…¥æ¨¡ç‰ˆè·¯å¾„ï¼Œç»™å¼€å‘äººå‘˜è°ƒè¯•ç”¨çš„â€¦æ²¡äº‹ä¸æŠ˜è…¾ä»– createApp1234567createApp( projectName, program.verbose, program.scriptsVersion, program.useNpm, hiddenProgram.internalTestingTemplate); æŽ¥ç€å¾€ä¸‹å°±æ˜¯è°ƒç”¨äº† createApp, ä¼ å…¥çš„å‚æ•°å¯¹äºŽçš„å«ä¹‰æ˜¯ï¼šé¡¹ç›®åï¼Œæ˜¯å¦è¾“å‡ºé¢å¤–ä¿¡æ¯ï¼Œä¼ å…¥çš„è„šæœ¬ç‰ˆæœ¬ï¼Œæ˜¯å¦ä½¿ç”¨npmï¼Œè°ƒè¯•çš„æ¨¡æ¿è·¯å¾„ã€‚æŽ¥ä¸‹æ¥å•æ­¥è¿›å…¥å‡½æ•°ä½“çœ‹ä¸€ä¸‹ createApp åˆ°åº•åšäº†ä»€ä¹ˆäº‹æƒ…ã€‚ createReactApp.js createApp123456789101112131415161718192021222324252627282930313233343536373839404142434445464748function createApp(name, verbose, version, useNpm, template) &#123; const root = path.resolve(name); const appName = path.basename(root); checkAppName(appName); // æ£€æŸ¥ä¼ å…¥çš„é¡¹ç›®ååˆæ³•æ€§ fs.ensureDirSync(name); // è¿™é‡Œçš„fsç”¨çš„æ˜¯ fs-extraï¼Œ å¯¹nodeçš„fsæä¾›ä¸€äº›æ‰©å±•æ–¹æ³• // åˆ¤æ–­æ–°å»ºè¿™ä¸ªæ–‡ä»¶å¤¹æ˜¯å¦æ˜¯å®‰å…¨çš„ ä¸å®‰å…¨ç›´æŽ¥é€€å‡º if (!isSafeToCreateProjectIn(root, name)) &#123; process.exit(1); &#125; // åœ¨æ–°å»ºçš„æ–‡ä»¶å¤¹ä¸‹å†™å…¥ package.json æ–‡ä»¶ const packageJson = &#123; name: appName, version: '0.1.0', private: true, &#125;; fs.writeFileSync( path.join(root, 'package.json'), JSON.stringify(packageJson, null, 2) ); const useYarn = useNpm ? false : shouldUseYarn(); const originalDirectory = process.cwd(); process.chdir(root); // å¦‚æžœæ˜¯ä½¿ç”¨npmï¼Œæ£€æµ‹npmæ˜¯å¦åœ¨æ­£ç¡®ç›®å½•ä¸‹æ‰§è¡Œ if (!useYarn &amp;&amp; !checkThatNpmCanReadCwd()) &#123; process.exit(1); &#125; // åˆ¤æ–­nodeçŽ¯å¢ƒï¼Œè¾“å‡ºä¸€äº›æç¤ºä¿¡æ¯, å¹¶é‡‡ç”¨æ—§ç‰ˆæœ¬çš„ react-scripts if (!semver.satisfies(process.version, '&gt;=6.0.0')) &#123; // è¾“å‡ºä¸€äº›æç¤ºæ›´æ–°ä¿¡æ¯ version = 'react-scripts@0.9.x'; &#125; if (!useYarn) &#123; // æ£€æµ‹npmç‰ˆæœ¬ åˆ¤æ–­npmç‰ˆæœ¬ï¼Œå¦‚æžœä½ŽäºŽ3.xï¼Œä½¿ç”¨æ—§ç‰ˆçš„ react-scriptsæ—§ç‰ˆæœ¬ const npmInfo = checkNpmVersion(); if (!npmInfo.hasMinNpm) &#123; version = 'react-scripts@0.9.x'; &#125; &#125; // åˆ¤æ–­ç»“æŸä¹‹åŽï¼Œè·‘run æ–¹æ³• // ä¼ å…¥ é¡¹ç›®è·¯å¾„ï¼Œé¡¹ç›®åï¼Œ reactScriptsç‰ˆæœ¬ï¼Œ æ˜¯å¦è¾“å…¥é¢å¤–ä¿¡æ¯ï¼Œ è¿è¡Œçš„è·¯å¾„ï¼Œ æ¨¡æ¿ï¼ˆå¼€å‘è°ƒè¯•ç”¨çš„ï¼‰, æ˜¯å¦ä½¿ç”¨yarn run(root, appName, version, verbose, originalDirectory, template, useYarn);&#125; createReactApp.js createApp ä¼ é€é—¨è¿™é‡Œæˆ‘ç²¾ç®€äº†ä¸€äº›ä¸œè¥¿ï¼Œåˆ é™¤ä¸€äº›è¾“å‡ºä¿¡æ¯ï¼ŒåŠ äº†ä¸€äº›æ³¨é‡ŠcreateApp ä¸»è¦åšçš„äº‹æƒ…å°±æ˜¯åšä¸€äº›å®‰å…¨åˆ¤æ–­æ¯”å¦‚ï¼šæ£€æŸ¥é¡¹ç›®åæ˜¯å¦åˆæ³•ï¼Œæ£€æŸ¥æ–°å»ºçš„è¯æ˜¯å¦å®‰å…¨ï¼Œæ£€æŸ¥npmç‰ˆæœ¬ï¼Œå¤„ç†react-scriptçš„ç‰ˆæœ¬å…¼å®¹å…·ä½“çš„æ‰§è¡Œé€»è¾‘å†™åœ¨æ³¨é‡Šé‡Œäº†ï¼Œä¸€ç³»åˆ—çš„æ£€æŸ¥å¤„ç†ä¹‹åŽï¼Œè°ƒç”¨ run æ–¹æ³•ï¼Œä¼ å…¥å‚æ•°ä¸º é¡¹ç›®è·¯å¾„ï¼Œé¡¹ç›®åï¼Œ reactScriptsç‰ˆæœ¬ï¼Œ æ˜¯å¦è¾“å…¥é¢å¤–ä¿¡æ¯ï¼Œ è¿è¡Œçš„è·¯å¾„ï¼Œ æ¨¡æ¿ï¼ˆå¼€å‘è°ƒè¯•ç”¨çš„ï¼‰, æ˜¯å¦ä½¿ç”¨yarnã€‚äº†è§£å¤§æ¦‚çš„æµç¨‹ä¹‹åŽï¼Œå†ä¸€ä¸ªå‡½æ•°ä¸€ä¸ªå‡½æ•°è¿›åŽ»çœ‹ã€‚ checkAppName() // æ£€æŸ¥ä¼ å…¥çš„é¡¹ç›®ååˆæ³•æ€§isSafeToCreateProjectIn(root, name) // åˆ¤æ–­æ–°å»ºè¿™ä¸ªæ–‡ä»¶å¤¹æ˜¯å¦æ˜¯å®‰å…¨çš„shouldUseYarn() // æ£€æŸ¥yarncheckThatNpmCanReadCwd() // æ£€æŸ¥npmrun() // æ£€æŸ¥å®Œä¹‹åŽè°ƒç”¨runæ‰§è¡Œå®‰è£…ç­‰æ“ä½œ checkAppName æ£€æŸ¥projectNameæ˜¯å¦åˆæ³•createReactApp.js checkAppName1234567891011function checkAppName(appName) &#123; const validationResult = validateProjectName(appName); if (!validationResult.validForNewPackages) &#123; // åˆ¤æ–­æ˜¯å¦ç¬¦åˆnpmè§„èŒƒå¦‚æžœä¸ç¬¦åˆï¼Œè¾“å‡ºæç¤ºå¹¶ç»“æŸä»»åŠ¡ &#125; const dependencies = ['react', 'react-dom', 'react-scripts'].sort(); if (dependencies.indexOf(appName) &gt;= 0) &#123; // åˆ¤æ–­æ˜¯å¦é‡åï¼Œå¦‚æžœé‡ååˆ™è¾“å‡ºæç¤ºå¹¶ç»“æŸä»»åŠ¡ &#125;&#125; checkAppName ç”¨äºŽåˆ¤æ–­å½“å‰çš„é¡¹ç›®åæ˜¯å¦ç¬¦åˆnpmè§„èŒƒï¼Œæ¯”å¦‚ä¸èƒ½å¤§å†™ç­‰ï¼Œç”¨çš„æ˜¯ä¸€ä¸ªvalidate-npm-package-nameçš„npmåŒ…ã€‚è¿™é‡Œç®€åŒ–äº†å¤§éƒ¨åˆ†çš„é”™è¯¯æç¤ºä»£ç ï¼Œä½†æ˜¯ä¸å½±å“å£æ„Ÿã€‚ shouldUseYarn åˆ¤æ–­æ˜¯å¦æœ‰è£…yarn åŒç†çš„æœ‰ checkThatNpmCanReadCwd ç”¨æ¥åˆ¤æ–­npmcreateReactApp.js shouldUseYarn12345678function shouldUseYarn() &#123; try &#123; execSync('yarnpkg --version', &#123; stdio: 'ignore' &#125;); return true; &#125; catch (e) &#123; return false; &#125;&#125; runå‰é¢çš„é‚£äº›æ“ä½œå¯ä»¥è¯´éƒ½æ˜¯å¤„ç†ä¸€äº›åˆ¤æ–­ä¸Žå…¼å®¹é€»è¾‘ï¼Œåˆ°runè¿™é‡Œæ‰æ˜¯ çœŸæ­£çš„æ ¸å¿ƒå®‰è£…é€»è¾‘ï¼Œå¼€å§‹å®‰è£…ä¾èµ–ï¼Œæ‹·è´æ¨¡ç‰ˆç­‰ã€‚ createReactApp.js run1234567function run(...) &#123; // è¿™é‡ŒèŽ·å–è¦å®‰è£…çš„packageï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯ `react-scripts`ã€‚ ä¹Ÿå¯èƒ½æ˜¯æ ¹æ®ä¼ å‚åŽ»æ‹¿å¯¹åº”çš„åŒ… const packageToInstall = getInstallPackage(version, originalDirectory); // éœ€è¦å®‰è£…æ‰€æœ‰çš„ä¾èµ–ï¼Œ react, react-dom, react-script const allDependencies = ['react', 'react-dom', packageToInstall]; ...&#125; run åšçš„äº‹æƒ…ä¸»è¦æœ‰è¿™ä¹ˆå‡ ä¸ªï¼Œå…ˆæ ¹æ®ä¼ å…¥çš„ç‰ˆæœ¬version å’ŒåŽŸå§‹ç›®å½•originalDirectory åŽ»èŽ·å–è¦å®‰è£…çš„æŸä¸ª packageã€‚é»˜è®¤çš„ version ä¸ºç©º,èŽ·å–åˆ°çš„ packageToInstall å€¼æ˜¯ react-scripts, ç„¶åŽå°†packageToInstallæ‹¼æŽ¥åˆ° allDependenciesæ„ä¸ºæ‰€æœ‰éœ€è¦å®‰è£…çš„ä¾èµ–ã€‚è¿™é‡Œè¯´ä¸€ä¸‹react-scriptså…¶å®žå°±æ˜¯ä¸€ç³»åˆ—çš„webpacké…ç½®ä¸Žæ¨¡ç‰ˆï¼Œå±žäºŽ create-react-app å¦ä¸€ä¸ªæ ¸å¿ƒçš„ä¸€ä¸ªå¤§æ¨¡å—ã€‚ä¼ é€é—¨ createReactApp.js run1234567891011121314151617181920212223function run(...) &#123; ... // èŽ·å–åŒ…åï¼Œæ”¯æŒ taz|taræ ¼å¼ã€gitä»“åº“ã€ç‰ˆæœ¬å·ã€æ–‡ä»¶è·¯å¾„ç­‰ç­‰ getPackageName(packageToInstall) .then(packageName =&gt; // å¦‚æžœæ˜¯yarn,åˆ¤æ–­æ˜¯å¦åœ¨çº¿æ¨¡å¼ï¼ˆå¯¹åº”çš„å°±æ˜¯ç¦»çº¿æ¨¡å¼ï¼‰ï¼Œå¤„ç†å®Œåˆ¤æ–­å°±è¿”å›žç»™ä¸‹ä¸€ä¸ªthenå¤„ç† checkIfOnline(useYarn).then(isOnline =&gt; (&#123; isOnline: isOnline, packageName: packageName, &#125;)) ) .then(info =&gt; &#123; const isOnline = info.isOnline; const packageName = info.packageName; /** å¼€å§‹æ ¸å¿ƒçš„å®‰è£…éƒ¨åˆ† ä¼ å…¥`å®‰è£…è·¯å¾„`ï¼Œ`æ˜¯å¦ä½¿ç”¨yarn`,`æ‰€æœ‰ä¾èµ–`ï¼Œ`æ˜¯å¦è¾“å‡ºé¢å¤–ä¿¡æ¯`ï¼Œ`åœ¨çº¿çŠ¶æ€` **/ /** è¿™é‡Œä¸»è¦çš„æ“ä½œæ˜¯ æ ¹æ®ä¼ å…¥çš„å‚æ•°ï¼Œå¼€å§‹è·‘ npm || yarn å®‰è£…react react-domç­‰ä¾èµ– **/ /** è¿™é‡Œå¦‚æžœç½‘ç»œä¸å¥½ï¼Œå¯èƒ½ä¼šæŒ‚ **/ return install(root, useYarn, allDependencies, verbose, isOnline).then( () =&gt; packageName ); &#125;) ...&#125; ç„¶åŽå¦‚æžœå½“å‰æ˜¯é‡‡ç”¨yarnå®‰è£…æ–¹å¼çš„è¯ï¼Œå°±åˆ¤æ–­æ˜¯å¦å¤„äºŽç¦»çº¿çŠ¶æ€ã€‚åˆ¤æ–­å®Œè¿žç€å‰é¢çš„ packageToInstall å’Œ allDependencies ä¸€èµ·ä¸¢ç»™ install æ–¹æ³•ï¼Œå†ç”±installæ–¹æ³•åŽ»è·‘å®‰è£…ã€‚ runæ–¹æ³•getInstallPackage(); // èŽ·å–è¦å®‰è£…çš„æ¨¡ç‰ˆåŒ… é»˜è®¤æ˜¯ react-scriptsinstall(); // ä¼ å‚æ•°ç»™install è´Ÿè´£å®‰è£… allDependenciesinit(); // è°ƒç”¨å®‰è£…äº†çš„ react-scripts/script/init åŽ»æ‹·è´æ¨¡ç‰ˆ.catch(); // é”™è¯¯å¤„ç† installcreateReactApp.js install123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051function install(root, useYarn, dependencies, verbose, isOnline) &#123; // ä¸»è¦æ ¹æ®å‚æ•°æ‹¼è£…å‘½ä»¤è¡Œï¼Œç„¶åŽç”¨nodeåŽ»è·‘å®‰è£…è„šæœ¬ å¦‚ `npm install react react-dom --save` æˆ–è€… `yarn add react react-dom` return new Promise((resolve, reject) =&gt; &#123; let command; let args; // å¼€å§‹æ‹¼è£… yarn å‘½ä»¤è¡Œ if (useYarn) &#123; command = 'yarnpkg'; args = ['add', '--exact']; // ä½¿ç”¨ç¡®åˆ‡ç‰ˆæœ¬æ¨¡å¼ // åˆ¤æ–­æ˜¯å¦æ˜¯ç¦»çº¿çŠ¶æ€ åŠ ä¸ªçŠ¶æ€ if (!isOnline) &#123; args.push('--offline'); &#125; [].push.apply(args, dependencies); // å°†cwdè®¾ç½®ä¸ºæˆ‘ä»¬è¦å®‰è£…çš„ç›®å½•è·¯å¾„ args.push('--cwd'); args.push(root); // å¦‚æžœæ˜¯ç¦»çº¿çš„è¯è¾“å‡ºä¸€äº›æç¤ºä¿¡æ¯ &#125; else &#123; // npm å®‰è£…æ¨¡å¼ï¼Œä¸ŽyarnåŒç† command = 'npm'; args = [ 'install', '--save', '--save-exact', '--loglevel', 'error', ].concat(dependencies); &#125; // å¦‚æžœæœ‰ä¼ verboseï¼Œ åˆ™åŠ è¯¥å‚æ•° è¾“å‡ºé¢å¤–çš„ä¿¡æ¯ if (verbose) &#123; args.push('--verbose'); &#125; // ç”¨ cross-spawn è·¨å¹³å°æ‰§è¡Œå‘½ä»¤è¡Œ const child = spawn(command, args, &#123; stdio: 'inherit' &#125;); // å…³é—­çš„å¤„ç† child.on('close', code =&gt; &#123; if (code !== 0) &#123; return reject(&#123; command: `$&#123;command&#125; $&#123;args.join(' ')&#125;`, &#125;); &#125; resolve(); &#125;); &#125;);&#125; æˆ‘ä»¬é¡ºç€æ–­ç‚¹ä»Žrunè·‘åˆ°installæ–¹æ³•ï¼Œèƒ½çœ‹åˆ°ä»£ç é‡Œæ ¹æ®æ˜¯å¦ä½¿ç”¨yarnåˆ†æˆä¸¤ç§å¤„ç†æ–¹æ³•ã€‚if (useYarn) { yarn å®‰è£…é€»è¾‘ } else { npm å®‰è£…é€»è¾‘ }å¤„ç†æ–¹æ³•éƒ½æ˜¯åŒä¸ªé€»è¾‘ï¼Œæ ¹æ®ä¼ å…¥çš„ dependencies åŽ»æ‹¼æŽ¥éœ€è¦å®‰è£…çš„ä¾èµ–ï¼Œä¸»è¦æœ‰ react,react-dom,react-script ã€‚å†åˆ¤æ–­verboseå’ŒisOnline åŠ ä¸€äº›å‘½ä»¤è¡Œçš„å‚æ•°ã€‚æœ€åŽå†ç”¨nodeè·‘å‘½ä»¤ï¼Œå¹³å°å·®å¼‚çš„è¯æ˜¯å€ŸåŠ©cross-spawnåŽ»å¤„ç†çš„ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚å…·ä½“é€»è¾‘è§ä¸Šé¢ä»£ç ï¼ŒåŽ»æŽ‰ä¸é‡è¦çš„ä¿¡æ¯è¾“å‡ºï¼Œä»£ç è¿˜æ˜¯æ¯”è¾ƒæ˜“æ‡‚ã€‚ installæ ¹æ®ä¼ è¿›æ¥çš„å‚æ•°åˆ¤æ–­ç”¨yarnè¿˜æ˜¯npmæ‹¼è£…éœ€è¦çš„ä¾èµ–ç”¨cross-spawnè·‘å‘½ä»¤å®‰è£… åœ¨installä¼šè¿”å›žä¸€ä¸ªPromiseåœ¨å®‰è£…å®Œä¹‹åŽï¼Œæ–­ç‚¹åˆå›žåˆ°æˆ‘ä»¬çš„runå‡½æ•°ç»§ç»­èµ°æŽ¥ä¸‹æ¥çš„é€»è¾‘ã€‚createReactApp.js run12345678910function run() &#123; ... getPackageName() .then(()=&gt; &#123; return install(root, useYarn, allDependencies, verbose, isOnline).then( () =&gt; packageName ); &#125;) ...&#125; æ—¢ç„¶æˆ‘ä»¬çš„installå·²ç»æŠŠå¼€å‘éœ€è¦çš„ä¾èµ–å®‰è£…å®Œäº†ï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥å¼€åˆ¤æ–­å½“å‰è¿è¡Œçš„nodeæ˜¯å¦ç¬¦åˆæˆ‘ä»¬å·²ç»å®‰è£…çš„react-scriptsé‡Œé¢çš„packages.jsonè¦æ±‚çš„nodeç‰ˆæœ¬ã€‚è¿™å¥è¯æœ‰ç‚¹ç»•ï¼Œç®€å•æ¥è¯´å°±æ˜¯åˆ¤æ–­å½“å‰è¿è¡Œçš„nodeç‰ˆæœ¬æ˜¯å¦react-scriptsè¿™ä¸ªä¾èµ–æ‰€éœ€ã€‚ ç„¶åŽå°±æŠŠå¼€å§‹ä¿®æ”¹package.jsonæˆ‘ä»¬å·²ç»å®‰è£…çš„ä¾èµ–(react, react-dom, react-scripts)ç‰ˆæœ¬ä»ŽåŽŸæœ¬çš„ç²¾ç¡®ç‰ˆæœ¬eg(16.0.0)ä¿®æ”¹ä¸ºé«˜äºŽç­‰äºŽç‰ˆæœ¬eg(^16.0.0)ã€‚è¿™äº›å¤„ç†åšå®Œä¹‹åŽï¼Œæˆ‘ä»¬çš„ç›®å½•æ˜¯é•¿è¿™æ ·å­çš„ï¼Œé‡Œé¢é™¤äº†å®‰è£…çš„ä¾èµ–å’Œpackage.jsonå¤–æ²¡æœ‰ä»»ä½•ä¸œè¥¿ã€‚æ‰€ä»¥æŽ¥ä¸‹æ¥çš„æ“ä½œæ˜¯ç”Ÿæˆä¸€äº›webpackçš„é…ç½®å’Œä¸€ä¸ªç®€å•çš„å¯å¯åŠ¨demoã€‚ é‚£ä¹ˆä»–æ˜¯æ€Žä¹ˆå¿«é€Ÿç”Ÿæˆè¿™äº›ä¸œè¥¿çš„å‘¢ï¼Ÿè¿˜è®°å¾—ä¸€å¼€å§‹è¯´äº†æœ‰ä¸€ä¸ª éšè—çš„å‘½ä»¤è¡Œå‚æ•° --internal-testing-template ç”¨æ¥ç»™å¼€å‘è€…è°ƒè¯•ç”¨çš„å—ï¼Œæ‰€ä»¥å…¶å®žcreate-react-appç”Ÿæˆè¿™äº›çš„æ–¹æ³•å°±æ˜¯ç›´æŽ¥æŠŠæŸä¸€ä¸ªè·¯å¾„çš„æ¨¡æ¿æ‹·è´åˆ°å¯¹åº”çš„åœ°æ–¹ã€‚æ˜¯ä¸æ˜¯å¾ˆç®€å•ç²—æš´hhhhh createReactApp.js run12345678910111213141516171819202122232425262728293031323334353637run(...) &#123; ... getPackageName(packageToInstall) .then(...) .then(info =&gt; install(...).then(()=&gt; packageName)) /** install å®‰è£…å®Œä¹‹åŽçš„é€»è¾‘ **/ /** ä»Žè¿™é‡Œå¼€å§‹æ‹·è´æ¨¡æ¿é€»è¾‘ **/ .then(packageName =&gt; &#123; // å®‰è£…å®Œ react, react-dom, react-scripts ä¹‹åŽæ£€æŸ¥å½“å‰çŽ¯å¢ƒè¿è¡Œçš„nodeç‰ˆæœ¬æ˜¯å¦ç¬¦åˆè¦æ±‚ checkNodeVersion(packageName); // è¯¥é¡¹package.jsoné‡Œreact, react-domçš„ç‰ˆæœ¬èŒƒå›´ï¼Œeg: 16.0.0 =&gt; ^16.0.0 setCaretRangeForRuntimeDeps(packageName); // åŠ è½½scriptè„šæœ¬ï¼Œå¹¶æ‰§è¡Œinitæ–¹æ³• const scriptsPath = path.resolve( process.cwd(), 'node_modules', packageName, 'scripts', 'init.js' ); const init = require(scriptsPath); // init æ–¹æ³•ä¸»è¦æ‰§è¡Œçš„æ“ä½œæ˜¯ // å†™å…¥package.json ä¸€äº›è„šæœ¬ã€‚eg: script: &#123;start: 'react-scripts start'&#125; // æ”¹å†™README.MD // æŠŠé¢„è®¾çš„æ¨¡ç‰ˆæ‹·è´åˆ°é¡¹ç›®ä¸‹ // è¾“å‡ºæˆåŠŸä¸ŽåŽç»­æ“ä½œçš„ä¿¡æ¯ init(root, appName, verbose, originalDirectory, template); if (version === 'react-scripts@0.9.x') &#123; // å¦‚æžœæ˜¯æ—§ç‰ˆæœ¬çš„ react-scripts è¾“å‡ºæç¤º &#125; &#125;) .catch(reason =&gt; &#123; // å‡ºé”™çš„è¯ï¼ŒæŠŠå®‰è£…äº†çš„æ–‡ä»¶å…¨åˆ äº† å¹¶è¾“å‡ºä¸€äº›æ—¥å¿—ä¿¡æ¯ç­‰ &#125;);&#125; è¿™é‡Œå®‰è£…å®Œä¾èµ–ä¹‹åŽï¼Œæ‰§è¡ŒcheckNodeVersionåˆ¤æ–­nodeç‰ˆæœ¬æ˜¯å¦ä¸Žä¾èµ–ç›¸ç¬¦ã€‚ä¹‹åŽæ‹¼æŽ¥è·¯å¾„åŽ»è·‘ç›®å½•/node_modules/react-scripts/scripts/init.jsï¼Œä¼ å‚è®©ä»–åŽ»åšä¸€äº›åˆå§‹åŒ–çš„äº‹æƒ…ã€‚ç„¶åŽå¯¹å‡ºé”™æƒ…å†µåšä¸€äº›ç›¸åº”çš„å¤„ç† /node_modules/react-scripts/script/init.jsç›®æ ‡æ–‡ä»¶å¤¹/node_modules/react-scripts/script/init.js123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687module.exports = function( appPath, appName, verbose, originalDirectory, template) &#123; const ownPackageName = require(path.join(__dirname, '..', 'package.json')) .name; const ownPath = path.join(appPath, 'node_modules', ownPackageName); const appPackage = require(path.join(appPath, 'package.json')); const useYarn = fs.existsSync(path.join(appPath, 'yarn.lock')); // 1. æŠŠå¯åŠ¨è„šæœ¬å†™å…¥ç›®æ ‡ package.json appPackage.scripts = &#123; start: 'react-scripts start', build: 'react-scripts build', test: 'react-scripts test --env=jsdom', eject: 'react-scripts eject', &#125;; fs.writeFileSync( path.join(appPath, 'package.json'), JSON.stringify(appPackage, null, 2) ); // 2. æ”¹å†™README.MDï¼ŒæŠŠä¸€äº›å¸®åŠ©ä¿¡æ¯å†™è¿›åŽ» const readmeExists = fs.existsSync(path.join(appPath, 'README.md')); if (readmeExists) &#123; fs.renameSync( path.join(appPath, 'README.md'), path.join(appPath, 'README.old.md') ); &#125; // 3. æŠŠé¢„è®¾çš„æ¨¡ç‰ˆæ‹·è´åˆ°é¡¹ç›®ä¸‹ï¼Œä¸»è¦æœ‰ public, src/[APP.css, APP.js, index.js,....], .gitignore const templatePath = template ? path.resolve(originalDirectory, template) : path.join(ownPath, 'template'); if (fs.existsSync(templatePath)) &#123; fs.copySync(templatePath, appPath); &#125; else &#123; return; &#125; fs.move( path.join(appPath, 'gitignore'), path.join(appPath, '.gitignore'), [], err =&gt; &#123; /* é”™è¯¯å¤„ç† */ &#125; ); // è¿™é‡Œå†æ¬¡è¿›è¡Œå‘½ä»¤è¡Œçš„æ‹¼æŽ¥ï¼Œå¦‚æžœåŽé¢å‘çŽ°æ²¡æœ‰å®‰è£…reactå’Œreact-dom,é‡æ–°å®‰è£…ä¸€æ¬¡ let command; let args; if (useYarn) &#123; command = 'yarnpkg'; args = ['add']; &#125; else &#123; command = 'npm'; args = ['install', '--save', verbose &amp;&amp; '--verbose'].filter(e =&gt; e); &#125; args.push('react', 'react-dom'); const templateDependenciesPath = path.join( appPath, '.template.dependencies.json' ); if (fs.existsSync(templateDependenciesPath)) &#123; const templateDependencies = require(templateDependenciesPath).dependencies; args = args.concat( Object.keys(templateDependencies).map(key =&gt; &#123; return `$&#123;key&#125;@$&#123;templateDependencies[key]&#125;`; &#125;) ); fs.unlinkSync(templateDependenciesPath); &#125; if (!isReactInstalled(appPackage) || template) &#123; const proc = spawn.sync(command, args, &#123; stdio: 'inherit' &#125;); if (proc.status !== 0) &#123; console.error(`\`$&#123;command&#125; $&#123;args.join(' ')&#125;\` failed`); return; &#125; &#125; // 5. è¾“å‡ºæˆåŠŸçš„æ—¥å¿—&#125;; initæ–‡ä»¶åˆæ˜¯ä¸€ä¸ªå¤§å¤´ï¼Œå¤„ç†çš„é€»è¾‘ä¸»è¦æœ‰ ä¿®æ”¹package.jsonï¼Œå†™å…¥ä¸€äº›å¯åŠ¨è„šæœ¬ï¼Œæ¯”å¦‚script: {start: &#39;react-scripts start&#39;}ï¼Œç”¨æ¥å¯åŠ¨å¼€å‘é¡¹ç›® æ”¹å†™README.MDï¼ŒæŠŠä¸€äº›å¸®åŠ©ä¿¡æ¯å†™è¿›åŽ» æŠŠé¢„è®¾çš„æ¨¡ç‰ˆæ‹·è´åˆ°é¡¹ç›®ä¸‹ï¼Œä¸»è¦æœ‰ public, src/[APP.css, APP.js, index.js,....], .gitignore å¯¹æ—§ç‰ˆçš„nodeåšä¸€äº›å…¼å®¹çš„å¤„ç†ï¼Œè¿™é‡Œè¡¥ä¸€å¥ï¼Œåœ¨é€‰æ‹© react-scripts æ—¶å°±æœ‰æ ¹æ®nodeç‰ˆæœ¬åŽ»åˆ¤æ–­é€‰æ‹©æ¯”è¾ƒè€çš„ @0.9.x ç‰ˆã€‚ å¦‚æžœå®Œæˆè¾“å‡ºå¯¹åº”çš„ä¿¡æ¯ï¼Œå¦‚æžœå¤±è´¥ï¼Œåšä¸€äº›è¾“å‡ºæ—¥å¿—ç­‰æ“ä½œã€‚ è¿™é‡Œä»£ç æœ‰ç‚¹å¤šï¼Œæ‰€ä»¥åˆ äº†ä¸€å°éƒ¨åˆ†ï¼Œå¦‚æžœå¯¹åˆå§‹çš„ä»£ç æ„Ÿå…´è¶£å¯ä»¥è·³è½¬åˆ°è¿™å„¿çœ‹react-scripts/scripts/init.js ä¼ é€é—¨ END~åˆ°è¿™é‡Œ create-react-app é¡¹ç›®æž„å»ºçš„éƒ¨åˆ†å¤§æµç¨‹å·²ç»èµ°å®Œäº†ï¼Œæˆ‘ä»¬æ¥å›žé¡¾ä¸€ä¸‹ï¼š åˆ¤æ–­nodeç‰ˆæœ¬å¦‚æžœå°äºŽ4å°±é€€å‡ºï¼Œå¦åˆ™æ‰§è¡Œ createReactApp.js æ–‡ä»¶ createReactApp.jså…ˆåšä¸€äº›å‘½ä»¤è¡Œçš„å¤„ç†å“åº”å¤„ç†ï¼Œç„¶åŽåˆ¤æ–­æ˜¯å¦æœ‰ä¼ å…¥ projectName æ²¡æœ‰å°±æç¤ºå¹¶é€€å‡º æ ¹æ®ä¼ å…¥çš„ projectName åˆ›å»ºç›®å½•ï¼Œå¹¶åˆ›å»ºpackage.jsonã€‚ åˆ¤æ–­æ˜¯å¦æœ‰ç‰¹æ®Šè¦æ±‚æŒ‡å®šå®‰è£…æŸä¸ªç‰ˆæœ¬çš„react-scriptsï¼Œç„¶åŽç”¨cross-spawnåŽ»å¤„ç†è·¨å¹³å°çš„å‘½ä»¤è¡Œé—®é¢˜ï¼Œç”¨yarnæˆ–npmå®‰è£…react, react-dom, react-scriptsã€‚ å®‰è£…å®Œä¹‹åŽè·‘ react-scripts/script/init.js ä¿®æ”¹ package.json çš„ä¾èµ–ç‰ˆæœ¬ï¼Œè¿è¡Œè„šæœ¬ï¼Œå¹¶æ‹·è´å¯¹åº”çš„æ¨¡æ¿åˆ°ç›®å½•é‡Œã€‚ å¤„ç†å®Œè¿™äº›ä¹‹åŽï¼Œè¾“å‡ºæç¤ºç»™ç”¨æˆ·ã€‚ æœ¬æ¥æƒ³æŠŠæ•´ä¸ª create-react-app è¯´å®Œï¼Œä½†æ˜¯å‘çŽ°è¯´ä¸€ä¸ªåˆ›å»ºå°±å†™äº†è¿™ä¹ˆå¤šï¼Œæ‰€ä»¥åŽé¢å¦‚æžœæœ‰æƒ³ç»§ç»­çœ‹ react-scriptsçš„è¯ï¼Œä¼šå¦å¤–å¼€ä¸€ç¯‡æ¥è®²ã€‚å¤§å®¶ä¹Ÿå¯ä»¥æ ¹æ®è¿™ä¸ªæ€è·¯è‡ªå·±æ–­ç‚¹åŽ»çœ‹ï¼Œä¸è¿‡ react-scripts ä¸»è¦å¯èƒ½æ˜¯webpacké…ç½®å±…å¤šï¼Œæ–­ç‚¹å¸®åŠ©åº”è¯¥ä¸å¤§ã€‚ create-react-appç³»åˆ—ç¬¬äºŒç¯‡ä¼ é€é—¨]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>github</tag>
        <tag>React</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2018-04-29é¢è¯•è®°A]]></title>
    <url>%2F2018%2F04%2F2018-04-29%2F</url>
    <content type="text"><![CDATA[4.10å· å·²ç»åœ¨ç§Ÿç§Ÿè½¦å‘†äº†ä¸€å‘¨å¹´ï¼Œä¸€ç›´æœ‰ä¸ªè§„å¾‹æ˜¯ å¤§æ¦‚ä¸€å¹´å°±è¦åŽ»å¤–é¢æ‰¾æ‰¾è™ã€‚ä¸€æ–¹é¢æ˜¯ä¸ºäº†ä¸‹å¤–é¢çš„å¸‚åœºï¼Œçœ‹ä¸‹æœ‰æ²¡æœ‰æ›´å¥½çš„æœºä¼šå¦ä¸€æ–¹é¢æ˜¯åœ¨ä¸€ä¸ªåœ°æ–¹å¾…ä¹…äº† å¯èƒ½ä¼šå˜å¾—æ¯”è¾ƒå®‰é€¸ï¼Œæ¯”è¾ƒè€æ²¹æ¡ï¼Œè¿™æ—¶å€™åŽ»å¤–é¢å’Œå…¶ä»–å…¬å¸å‰ç«¯é¢è¯•æ²Ÿé€šï¼Œå¯ä»¥äº†è§£å¤–é¢çš„æŠ€æœ¯è®©è‡ªå·±æ›´æœ‰ç›®çš„æ€§ã€æ›´æœ‰åŠ¨åŠ›åŽ»å­¦ä¹ ã€‚ ä½†æ˜¯ä»Šå¹´çš„æƒ…å†µæœ‰ç‚¹å‡ºä¹Žæˆ‘æ„æ–™ï¼Œä¸çŸ¥é“æ˜¯å› ä¸ºé‡‘ä¸‰é“¶å››åŠ ä¸Šä»Šå¹´è¿‡å¹´æ—©çš„åŽŸå› ï¼Œæ‰€ä»¥åŸºæœ¬ä¼ä¸šå•ä½å‘éƒ½å¡«æ»¡äº†ï¼Œè¿˜æ˜¯çŽ°åœ¨é€‰æ‹©å…¬å¸æ¯”è¾ƒæŒ‘å‰”ï¼Œé«˜ä¸æˆä½Žä¸å°±ã€‚ è§„æ¨¡å¤ªå°ä¸æƒ³åŽ»ï¼ŒäºŒä¸‰çº¿äº’è”ç½‘å…¬å¸ï¼ŒåŸºæœ¬åˆè¦æ±‚æœ¬ç§‘â€¦å“Ž å­¦åŽ†çš„çŸ­æ¿å˜å¾—è¶Šæ¥è¶Šå¤§ ç®€åŽ†æŠ•é€’æƒ…å†µæ®ä¸å®Œå…¨ç»Ÿè®¡:å†…æŽ¨ YY ä¸åˆé€‚å†…æŽ¨ æ±‡æ¡” ç›®å‰åªæ‹›5å¹´çš„å†…æŽ¨ è·¯å®¢ é¢è¯• ä¹Ÿæ˜¯ç›®å‰å”¯ä¸€ä¸€ä¸ªæœ‰é¢è¯•æœºä¼šçš„ï¼ï¼ï¼ ä½†æ˜¯è–ªèµ„æ¶¨å¹…ä¸€èˆ¬~æŠ• å¹¿å·žé“¶è¡Œä¿¡ç”¨å¡ ä¸åˆé€‚ è¦æ±‚æœ¬ç§‘æŠ• ä¸­å…´ ä¸åˆé€‚ è¦æ±‚æœ¬ç§‘ = =åæ§½ä¸€å¥ ä¼°è®¡ä¸­å…´çŽ°åœ¨ä¹Ÿä¸æ•¢æ‹›äººäº†æŠ• è”æž è¢«æŸ¥çœ‹ï¼Œæ²¡æœ‰è”ç³» ä¹Ÿæ˜¯æ²¡æˆäº†Bossç›´è˜æ²Ÿé€š 100æ•™è‚² ç›®å‰åªæ‹›5å¹´çš„æ²Ÿé€š æ‹¼å¤šå¤š æƒ¨é­æ— è§† ä¹Ÿæ˜¯è¦æ±‚æœ¬ç§‘ çŽ°åœ¨bossç›´è˜ï¼Œæ‹‰é’©ç–¯ç‹‚æ²Ÿé€š å°šå¾·æœºæž„ å¥½åƒä¹Ÿæ²¡ä»€ä¹ˆå›žåº”~ è¦æ±‚ä¹Ÿæ˜¯æœ¬ç§‘ï¼Œè™½ç„¶è¯´æ˜Žäº†ç›®å‰æ­£åœ¨è‡ªè€ƒæœ¬ç§‘ï¼Œä½†æ˜¯è‡ªè€ƒæ—¶é—´æœ€ç†æƒ³ä¹Ÿè¦ä¸¤å¹´â€¦å“Žå“Ž é¢è¯•æƒ…å†µå‰åŒäº‹æŽ¨çš„ è·¯å®¢ æ˜¯å”¯ä¸€çš„é¢è¯•æœºä¼šâ€¦ ä¹‹æ‰€ä»¥æƒ³åŽ»æ˜¯å› ä¸ºï¼Œå½“æ—¶çœ‹äº†ä»–ä»¬çš„app ä½¿ç”¨RNå†™çš„ï¼Œä¸ªäººæ¯”è¾ƒæœ‰å…´è¶£ï¼Œè€Œä¸”ä½“éªŒçš„æ—¶å€™è¿˜è§‰å¾—å¾ˆä¸é”™ã€‚å¾ˆå°‘æœ‰å…¬å¸ä¼šä»Žé›¶å¼€å§‹ç”¨RNå†™ï¼Œä¸€èˆ¬éƒ½æ˜¯æ¯”è¾ƒè¾¹è§’çš„ è¡¨å•æäº¤å•Š FAQ About ç­‰ç­‰çš„é¡µé¢é‡‡ç”¨åŽŸç”Ÿå†…åµŒRNå®žçŽ°ã€‚ é¢è¯•æ²¡æœ‰é—®çš„å¾ˆç»†ï¼ŒåŸºæœ¬å°±æ˜¯çŽ°åœ¨æ¯”è¾ƒå–œæ¬¢çš„é¢è¯•æ–¹å¼ é—®é¡¹ç›®ç»éªŒï¼ŒReactç”Ÿå‘½å‘¨æœŸï¼Œdiffç®—æ³•ï¼Œå¾®ä¿¡å¼€æ”¾å¹³å°ï¼Œå¯¹vueæŽŒæ¡ç¨‹åº¦ï¼Œæœ‰æ²¡æœ‰åšè¿‡RNé¡¹ç›®ï¼Œç¦»èŒåŽŸå› ç­‰å…¶ä¸­é—®åˆ°ä¸€ä¸ªæ˜¯ æœ‰æ²¡æœ‰ç³»ç»Ÿå­¦ä¹ 23ç§è®¾è®¡æ¨¡å¼æˆ‘å½“æ—¶çš„å›žç­”æ˜¯ æ²¡æœ‰ç³»ç»Ÿå­¦ä¹ è¿‡ï¼Œä¸è¿‡å¹³æ—¶å·¥ä½œæœ‰ç”¨åˆ° å·¥åŽ‚æ¨¡å¼ å•ä¾‹æ¨¡å¼ ç­‰æ¯”è¾ƒå¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ã€‚æƒ³èµ·ä¹‹å‰çœ‹å¼ å®¹é“­çš„ã€ŠJavaScriptè®¾è®¡æ¨¡å¼ã€‹ å­¦ä¹ è®¡åˆ’çŽ°åœ¨å·¥ä½œä¸‰å¹´ï¼Œæ„Ÿè§‰åè€Œæ²¡æœ‰åˆšå¼€å§‹å·¥ä½œé‚£ä¼šåŸºç¡€çŸ¥è¯†ç‰¢å›ºã€‚ä»¥å‰åˆšå…¥è¡Œï¼Œè¿˜ä¸çŸ¥é“jqè¿™ç§ä¸œè¥¿ï¼Œå†™è½®æ’­å›¾ï¼Œå†™æ•ˆæžœéƒ½æ˜¯ç”¨åŽŸç”Ÿjsï¼Œè¿˜å…¼å®¹ie~~~ ä¸èƒ½è¯´ç‰¹åˆ«å¼ï¼Œä½†æ˜¯è‡³å°‘åŸºç¡€å¾ˆç‰¢å›ºçŽ°åœ¨å¥½åƒå„ç±» mv* åº“å¸®æˆ‘ä»¬åšäº†å¾ˆå¤šäº‹æƒ…ï¼Œæ‰€ä»¥æˆ‘ä»¬é™¤äº†ä¸€å¼€å§‹çš„ é¡¹ç›®æ­å»ºï¼Œç»“æž„åˆ’åˆ†ï¼Œè·¯ç”±é…ç½®ç­‰ï¼Œå‰©ä¸‹çš„ä¸»è¦ç²¾åŠ›éƒ½ç”¨æ¥å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œæ›´å¤šçš„æ˜¯æƒ³ç€å¦‚ä½•åŽ»è§£å†³ä¸€ä¸ªé—®é¢˜ï¼Œè€Œä¸æ˜¯æ­»è®°ç€é‚£äº›ä¸œè¥¿ï¼Œä½†æ˜¯è¿™è¾¹æ‹¿ä¸€å— é‚£è¾¹æ‹¿ä¸€å—ä¼šå¯¼è‡´å¾ˆéš¾å½¢æˆå±žäºŽè‡ªå·±çš„ä¸œè¥¿ã€‚ä¹Ÿæ²¡æœ‰å¾ˆç³»ç»Ÿçš„å­¦ä¹ ä¸€äº›ä¸œè¥¿ï¼Œå¤ªè¿‡æµ®èº ç›®å‰å­¦ä¹ è®¡åˆ’æ˜¯ çœ‹ create-react-app æºç ï¼Œäº†è§£æ€Žä¹ˆå®žçŽ°ï¼Œæ–­ç‚¹è°ƒè¯•ï¼Œè¾“å‡ºæ–‡ç«  çœ‹ vue æºç ï¼Œç³»ç»Ÿå­¦ä¹ ä¸€ä¸‹vue ç”¨åˆ°é¡¹ç›®ä¸Šï¼Œè€Œä¸æ˜¯åœç•™åˆ° çœ‹è¿‡apiçš„å±‚æ¬¡emmmm æƒ³èµ·vueåˆšå‡ºçš„æ—¶å€™ï¼Œç”¨äº†ä¸€ä¸ªé¥¿äº†ä¹ˆå‡ºçš„ ç§»åŠ¨ç«¯uiåº“ mint-ui è¿˜è´¡çŒ®è¿‡ä¸€ç‚¹ç‚¹bug-request æœ‰å…³äºŽ node åŽå°çš„é¡¹ç›®æœºä¼šç§¯æžä¸€ç‚¹ï¼Œç¡¬ç€å¤´çš®ä¸Š ä»¥ä¸Š~ emmmm æœ€åŽå¤šæŠ•çœ‹çœ‹è¿˜æœ‰ä»€ä¹ˆé¢è¯•æœºä¼šâ€¦ å°šå¾·æ²¡æœ‰å¾—é¢è¯•çœŸæ˜¯æœ‰ç‚¹å¤±è½]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>blog</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[äº‹ä»¶é‡å¤ç»‘å®šä¸ŽstopImmediatePropagation]]></title>
    <url>%2F2018%2F04%2F%E4%BA%8B%E4%BB%B6%E9%87%8D%E5%A4%8D%E7%BB%91%E5%AE%9A%E4%B8%8EstopImmediatePropagation%2F</url>
    <content type="text"><![CDATA[åœ¨æ—§é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç»‘å®šäº‹ä»¶éƒ½æ˜¯ç”¨ $(&#39;selector&#39;).on(&#39;event&#39;, fn) || document.querySelector(&#39;selector&#39;).addEventListener(&#39;event&#39;, fn); å¦‚æžœå¹³æ—¶ä»£ç è§„èŒƒï¼Œè¿™æ ·å†™å®Œå…¨ojbk ç‚¹å‡».p ä¹‹åŽè¾“å‡º test1demo1123456789&lt;div id="id"&gt; &lt;p class="p"&gt;test1&lt;/p&gt;&lt;/div&gt;&lt;script&gt; function add(selector, fn) &#123; document.querySelector(selector).addEventListener('click',fn); &#125; add('.p', e=&gt; console.log(e.currentTarget.innerHTML));&lt;/script&gt; ä½†æ˜¯å¹³æ—¶å¦‚æžœé¡¹ç›®ä¸è§„èŒƒï¼Œä»£ç åˆå†™çš„æ¯”è¾ƒä¹±â€¦.emmmmï¼Œå¾ˆæœ‰å¯èƒ½å‡ºçŽ°ä¸€äº›é€»è¾‘ä¸Šçš„ä½Žçº§é”™è¯¯ï¼Œæ¯”å¦‚è¿™ç§ï¼Œåœ¨æŸä¸ªå‡½æ•°è°ƒäº†ä¸¤æ¬¡ï¼Œæ‰€ä»¥è¿™é‡Œå°±ç»‘å®šäº†ä¸¤æ¬¡â€¦ç‚¹å‡»ä¹‹åŽä¼šè¾“å‡ºä¸¤æ¬¡çš„ testdemo212345678910&lt;div id="id"&gt; &lt;p class="p"&gt;test1&lt;/p&gt;&lt;/div&gt;&lt;div class="p1"&gt;test2&lt;/div&gt;&lt;script&gt; function add(selector, fn) &#123; document.querySelector(selector).addEventListener('click',fn); &#125; function fn1() &#123; add('.p', e=&gt; console.log(e.currentTarget.innerHTML)); &#125;; fn1(); fn1();&lt;/script&gt; è¿™ç§æƒ…å†µå¹³æ—¶å·¥ä½œä¸æ³¨æ„çœŸçš„æœ‰å¯èƒ½å‘ç”Ÿï¼Œè€Œä¸”æŽ’æŸ¥ä¹Ÿåªèƒ½è¯´å¹³æ—¶åœ¨çœ‹æŽ¥å£æˆ–æ”¹ä»£ç çš„æ—¶å€™ å‘çŽ°éšæ‰‹æ”¹ ä¸€èˆ¬ä¸ºäº†é¿å…è¿™ç§å¤±è¯¯é‡å¤è°ƒç”¨çš„æ“ä½œï¼Œæœ‰å‡ ç§æ–¹æ³•ï¼š æŠŠäº‹ä»¶å¤„ç†å‡½æ•°æŠ½å‡ºæ¥,è¿™æ ·å°±ç®—é‡å¤ç»‘å®šï¼Œæµè§ˆå™¨æ£€æµ‹åˆ°æ˜¯åŒä¸ªå‡½æ•°å¼•ç”¨ï¼Œä¼šåšç›¸åº”çš„ä¼˜åŒ–ï¼Œæ‰€ä»¥ä¸ä¼šé‡å¤ç»‘å®šåˆ°äº‹ä»¶ä¸Š 12345678&lt;script&gt; function add(selector, fn) &#123; document.querySelector(selector).addEventListener('click',fn); &#125; const evFn= e=&gt; console.log(e.currentTarget.innerHTML); function fn1() &#123; add('.p', evFn)&#125;; fn1(); fn1(); fn1();&lt;/script&gt; ä½¿ç”¨ event.stopImmediatePropagationå®˜æ–¹ç»™å‡ºçš„è¯´æ˜Žæ˜¯ï¼šå¦‚æžœæŸä¸ªå…ƒç´ æœ‰å¤šä¸ªç›¸åŒç±»åž‹äº‹ä»¶çš„äº‹ä»¶ç›‘å¬å‡½æ•°,åˆ™å½“è¯¥ç±»åž‹çš„äº‹ä»¶è§¦å‘æ—¶,å¤šä¸ªäº‹ä»¶ç›‘å¬å‡½æ•°å°†æŒ‰ç…§é¡ºåºä¾æ¬¡æ‰§è¡Œ.å¦‚æžœæŸä¸ªç›‘å¬å‡½æ•°æ‰§è¡Œäº† event.stopImmediatePropagation()æ–¹æ³•,åˆ™é™¤äº†è¯¥äº‹ä»¶çš„å†’æ³¡è¡Œä¸ºè¢«é˜»æ­¢ä¹‹å¤–(event.stopPropagationæ–¹æ³•çš„ä½œç”¨),è¯¥å…ƒç´ ç»‘å®šçš„åŽåºç›¸åŒç±»åž‹äº‹ä»¶çš„ç›‘å¬å‡½æ•°çš„æ‰§è¡Œä¹Ÿå°†è¢«é˜»æ­¢. ç®€å•æ¥è¯´å°±æ˜¯ï¼Œæ‰§è¡Œäº†event.stopImmediatePropagation() ä¹‹åŽï¼ŒåŽç»­çš„ç»‘å®šåœ¨è¯¥domä¸Šçš„ç›¸åŒç±»åž‹äº‹ä»¶éƒ½ä¸å†è¢«å“åº”ï¼Œä¹Ÿä¸å†’æ³¡ã€‚ demo3 ä»£ç ï¼Œç‚¹å‡» test1 ä¹‹åŽï¼Œåªä¼šåœ¨æŽ§åˆ¶å°è¾“å‡ºä¸€è¡Œ test1ï¼Œå…¶ä»– è¯¥å…ƒç´ çš„ç‚¹å‡»äº‹ä»¶ï¼Œ#idç‚¹å‡»äº‹ä»¶éƒ½ä¸ä¼šè¢«å“åº”demo31234567891011&lt;div id="id"&gt; &lt;p class="p"&gt;test1&lt;/p&gt;&lt;/div&gt;&lt;script&gt; function add(selector, fn) &#123; document.querySelector(selector).addEventListener('click',fn); &#125; function fn1() &#123; add('.p', e=&gt; console.log(e.currentTarget.innerHTML)|| e.stopImmediatePropagation())&#125;; add('#id',e=&gt;console.log(1)); fn1(); fn1(); fn1();&lt;/script&gt; åœ¨å®žé™…é¡¹ç›®ä¸­ï¼Œè¿˜æ˜¯æ¯”è¾ƒå»ºè®®æŠŠäº‹ä»¶å¤„ç†é€»è¾‘æŠ½å‡ºæ¥å½“ä¸€ä¸ªå‡½æ•°ï¼Œæ¯•ç«Ÿåœ¨å¤šäººé¡¹ç›®é‡Œé¢ stopImmediatePropagation æ¯”è¾ƒå®¹æ˜“è¯¯ä¼¤é˜Ÿå‹â€¦]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>github</tag>
        <tag>javascript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªåŠ¨åŒ–åŠŸèƒ½æµ‹è¯•æµç¨‹æ–¹æ¡ˆ]]></title>
    <url>%2F2018%2F04%2F%E8%87%AA%E5%8A%A8%E5%8C%96%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95%E6%B5%81%E7%A8%8B%E6%96%B9%E6%A1%88%2F</url>
    <content type="text"><![CDATA[Introductionå¾—ç›ŠäºŽè°·æ­Œå¼€æºäº† puppeteer æ— ç•Œé¢ç‰ˆçš„ Chrome nodeJs apiã€‚çŽ°åœ¨å‰ç«¯å¯å¾ˆæ–¹ä¾¿å¿«æ·çš„å¼€å‘ä¸€äº›è„šæœ¬åŽ»è·‘æµè§ˆå™¨ç«¯çš„æ“ä½œï¼ŒåŒ…æ‹¬è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œçˆ¬è™«æˆ–å…¶ä»–æ¯”è¾ƒæœºæ¢°åŒ–çš„æ“ä½œã€‚å¯ä»¥å‚è§æˆ‘ä¸Šä¸€ç¯‡æ–‡è‡ªåŠ¨åŒ–æµ‹è¯• puppeteer ä¸Žqqç©ºé—´ ps: ðŸ¤¦â€ æ—©çŸ¥é“å½“æ—¶åˆ å¾®åšå°±ç›´æŽ¥å†™ä¸€ä¸ªè„šæœ¬ï¼Œäººå·¥åŽ»åˆ è¿˜æ¼äº†ä¸€äº›è¢«æ‰¹æ–—äº†ä¸€é¡¿ æ—¢ç„¶ puppeteer å¯ä»¥æ‹¿æ¥åšè¿™ä¹ˆå¤šäº‹æƒ…ï¼Œé‚£å‰ç«¯æ˜¯ä¸æ˜¯å¯ä»¥æ•´åˆå‡ºä¸€å¥—æµç¨‹æµ‹è¯•çš„æ–¹æ¡ˆï¼Ÿ å¤§æ¦‚çš„æµç¨‹æ˜¯ï¼š å®šæ—¶è·‘ä¸šåŠ¡æµç¨‹ æˆåŠŸåˆ™å‘é€ä¸€æ¡æ¶ˆæ¯é€šçŸ¥æœåŠ¡å™¨ å¤±è´¥åˆ™ æˆªå›¾å‘é€æˆªå›¾ä¸Žå…¶ä»–ä¿¡æ¯ åˆ°è¾¾ä¸€å®šçš„é˜ˆå€¼å°±é€šçŸ¥ç›¸å…³äººå‘˜æŽ’æŸ¥é—®é¢˜ æä¾›ä¸€ä¸ªå‰ç«¯é¡µé¢å¯ä»¥æŸ¥è¯¢ ä»»åŠ¡æƒ…å†µ 123456789101112131415161718192021222324252627282930313233 +-------------------+ +-----------------------------&gt; | è®°å½•æ¶ˆæ¯ | | success | | | +------+------------+ | |+-------+------+ || | v| å®šæ—¶è·‘æµ‹è¯•ä»»åŠ¡ | +-----+-----------+| | | || | | |+------+-------+ | æŸ¥çœ‹ä»»åŠ¡è®°å½• | | | | | | | | +-----+-----------+ | ^ | | | error +-----+----------+ | | | +-------------------------------&gt; | è®°å½•æ¶ˆæ¯ | | | | | +-------+--------+ | | | é˜ˆå€¼ | +--------v---------+ | | | | | é€šçŸ¥äººå‘˜ | | | | | +------------------+ ç”¨åˆ°çš„æŠ€æœ¯æ ˆè‡ªåŠ¨åŒ–æµ‹è¯•: puppeteer + axios + node-scheduleåŽå°: egg + mongooseå‰ç«¯ç•Œé¢: antd + dva å…¶å®žä¸»è¦å°± puppeteer + egg + mongoose å³å¯ï¼Œå‰ç«¯ç•Œé¢åªæ˜¯åˆšå¥½å…¬å¸ä¸€ä¸ªåŽå°æ˜¯ç”¨ antd-pro å†™çš„ æ‰€ä»¥é¡ºæ‰‹å¸¦ä¸ŠåŽ»è€Œå·² = =# æœ¬åœ°ä¸€äº›çŽ¯å¢ƒï¼šnode 8.9.4, npm 5.6.0, oxs 10.13.3ï¼Œ ç¼–è¾‘å™¨ vscodeeeeee ä»¥ä¸‹æ¶‰åŠåˆ°å…¬å¸é¡¹ç›®ä¸šåŠ¡çš„ éƒ½ä¼šç•¥è¿‡è®²ä¸€ä¸‹è¿‡ç¨‹ ä¸ä¼šå‡ºçŽ°å…·ä½“ä»£ç æˆ–æˆªå›¾ç­‰â€¦ è‡ªåŠ¨åŒ–æµ‹è¯•(auto_test)éƒ¨åˆ†ç›®å½•ç»“æž„: å…¥å£: app.js ä¸»è¦å¤„ç†ä¸€äº›èŽ·å–è‡ªåŠ¨åŒ–æµ‹è¯•æµè§ˆå™¨çš„å¯¹è±¡ï¼Œ é¡¹ç›®å¯åŠ¨ï¼Œ å®šæ—¶ä»»åŠ¡å¯åŠ¨app.js1234567891011121314151617181920212223const mMonitor = require('./scripts/m'); // mç«¯æµ‹è¯•è„šæœ¬å…¥å£const xDate = require('xdate');const login = require('./scripts/login'); // ç™»å½•æ“ä½œå¤„ç†const &#123; scheduleDelPic &#125; = require('./scripts/schedule'); // å®šæ—¶ä»»åŠ¡// é¡¹ç›®å…¥å£;(async()=&gt; &#123; // å› ä¸ºå…¬å¸é¡¹ç›®éœ€è¦ä¸€äº›å‰ç½®çš„ æ“ä½œæ‰èƒ½è®¿é—®ï¼Œæ¯”å¦‚ç™»å½•ç®¡ç†åŽå°ç­‰æ“ä½œï¼Œ // æ‰€ä»¥è¿™é‡Œç›´æŽ¥ç”¨ä¸€ä¸ªæ–‡ä»¶æŠŠè¿™ä¸€å—æŠ½å‡ºæ¥ï¼Œæ–¹ä¾¿åŽé¢ä¸“å¿ƒå¤„ç†ä¸šåŠ¡ ä¸ç”¨å…³å¿ƒç”¨æˆ·ç™»å½• æƒé™ æµ‹è¯•è´¦å·ç­‰é—®é¢˜ // å¤„ç†å®Œç›´æŽ¥è¿”å›žä¸€ä¸ª browser å¯¹è±¡ï¼ŒåŽé¢çš„å…¶ä»–æµ‹è¯•åªéœ€è¦åœ¨å½“å‰çš„ browser æ–°å¼€ä¸€ä¸ªtabåŽ»è·‘å³å¯ const browser = await login(); // mç«¯é¡¹ç›® mMonitor(browser); // ä¼ å…¥browser å¯¹è±¡ å¼€å§‹å¤„ç†è‡ªåŠ¨åŒ–æµ‹è¯• // 10åˆ†é’Ÿè·‘ä¸€æ¬¡ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥æŠŠé—´éš”æŠ½å‡ºæ¥æ”¾åˆ°configé‡Œ // å¤šå˜´è¯´ä¸€å¥ï¼Œç”¨setInterval æœ‰ä¸€ä¸ªå¼Šç«¯å°±æ˜¯ï¼Œå‰é¢æ‰§è¡Œè„šæœ¬å µå¡žï¼Œä¼šé€ æˆ ä¸€ä¸ªä»»åŠ¡è·‘å®Œ ç›´æŽ¥è·‘ä¸‹ä¸€ä¸ªï¼Œä¸­é—´ä¸æ˜¯é—´éš”10minã€‚ çœ‹å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚ï¼Œä¹Ÿå¯ä»¥ç”¨ setTimeout æˆ–è€…é€’å½’ç­‰åŽ»æ‰§è¡Œ setInterval(() =&gt; mMonitor(browser), 1000 * 3600 * 1); // å…¶ä»–çš„ä»»åŠ¡ å®šæ—¶ä»»åŠ¡ç­‰ // è¿™é‡Œæ˜¯å†™äº†ä¸ªå®šæ—¶æ¸…ç†å›¾ç‰‡ scheduleDelPic();&#125;)(); å‰ç½®å¤„ç†: login.js (è¿™é‡Œå¯ä»¥å–å…¶ä»–åå­—)å¯¹äºŽæˆ‘è¿™ä¸ªé¡¹ç›®æ¥è¯´ åœ¨å¼€å§‹è·‘ä¹‹å‰è¦å¤„ç†æµ‹è¯•è´¦å·ç™»å½•ç­‰é—®é¢˜ï¼Œå› ä¸ºè€ƒè™‘åˆ°åŽé¢ä¼šæœ‰å¤šä¸ªä»»åŠ¡åœ¨è·‘çš„è¯ï¼Œç›´æŽ¥åœ¨ browser å¯¹è±¡ create new tab å¯ä»¥åŒæ­¥è·‘ï¼Œè€Œä¸ç”¨æ¯æ¬¡éƒ½åŽ»å¤„ç†ç™»å½•é—®é¢˜ã€‚ login.js123456789101112131415const puppeteer = require('puppeteer');module.exports = async function () &#123; const browser = await puppeteer.launch(&#123; headless: false, devtools: true, slowMo: 100, ignoreHTTPSErrors: true, &#125;); // å¤„ç†ä¸€äº›å…¶ä»–çš„é€»è¾‘ // ... // æŠŠå¤„ç†å®Œçš„ browser è¿”å›žå›žåŽ» return browser;&#125; mMonitor ç§»åŠ¨ç«¯æµ‹è¯•ä»»åŠ¡ä¸»è¦å¤„ç†çš„äº‹æƒ…æœ‰ï¼š è°ƒç”¨å…¶ä»–çš„æµç¨‹æµ‹è¯•ä»»åŠ¡ï¼Œæ¯”å¦‚æˆ‘æ˜¯ï¼š å…¬å¸é¡¹ç›®çš„ä¸»æµç¨‹ä¸‹å•ä»»åŠ¡ å¤„ç†ä¸€äº›éœ€è¦è®°å½•çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ä»Žä»€ä¹ˆæ—¶å€™è·‘ï¼Œä»€ä¹ˆæ—¶å€™ç»“æŸ å¤„ç†ä¸ŽæœåŠ¡å™¨çš„äº¤äº’ï¼ŒæˆåŠŸè°ƒæŽ¥å£ å¤±è´¥æˆªå›¾ä¿å­˜ç”¨æˆ·ä¿¡æ¯ç­‰ ä¼ é€’ç»™æœåŠ¡ç«¯ m.js1234567891011121314151617181920212223242526272829303132333435363738394041module.exports = async function mMonitor(browser) &#123; // å»ºç«‹ä¸€ä¸ª page çš„å¼•ç”¨ï¼Œæ–¹ä¾¿åŽé¢å¯ä»¥è°ƒç”¨æ–¹æ³• let page; try &#123; startTime = Date.now(); page = await browser.newPage(); // æŠŠé¡µé¢ä¼ å…¥ä¸»æµç¨‹çš„æµ‹è¯•ä»»åŠ¡ // è¿™é‡Œé¢å°±æœ‰è¶…çº§æ— æ•Œå¤§é‡çš„ ä¸šåŠ¡ä»£ç ... emmm æ ¹æ®é¡¹ç›®ä¸åŒæ¥å†™ å®Œå…¨æ²¡æœ‰å‚è€ƒæ„ä¹‰å°±ä¸å†™äº† await mainProcess(page); // æµ‹è¯•ä»»åŠ¡æ‰§è¡ŒæˆåŠŸçš„å¤„ç† const params = &#123; // æµ‹è¯•ç»“æžœæ•°æ® &#125; // è°ƒæŽ¥å£å­˜æ•°æ® const data = await mRequest(params); console.log('ä¸ŠæŠ¥successæŽ¥å£æˆåŠŸ', params); &#125; catch(e) &#123; // è·‘æµ‹è¯•æµç¨‹ä¸­é”™è¯¯çš„å¯¹åº”å¤„ç† const params = &#123; // é”™è¯¯ç»“æžœçš„æ•°æ®ï¼Œ æ¯”å¦‚ // æˆªå›¾åœ°å€url // title // url // serviceCode ç­‰ç­‰ &#125; const data = await mRequest(params); console.log('ä¸ŠæŠ¥error æŽ¥å£æˆåŠŸ', params); &#125; finally &#123; // å…³é—­å½“å‰é¡µé¢ page.close(); // å…¶ä»–æ“ä½œ... &#125;&#125; schedule å®šæ—¶ä»»åŠ¡è¿™é‡Œçš„å®šæ—¶ä»»åŠ¡ç”¨çš„æ˜¯ node-schedule éžå¸¸å¥½ç”¨ æ”¯æŒ Cron-styleã€‚ schedule.scheduleJob(cronStyle) cronStyle å‚æ•° ä¼ å…¥å¯¹åº”çš„æ—¶é—´ï¼Œæ—¢å¯æŒ‰ç…§ä¼ å…¥çš„å‚æ•° å®šæ—¶åŽ»æ‰§è¡Œï¼Œå…·ä½“å¯ä»¥çœ‹ðŸ‘†é“¾æŽ¥ 1234567891011cronStyle: * * * * * *â”¬ â”¬ â”¬ â”¬ â”¬ â”¬â”‚ â”‚ â”‚ â”‚ â”‚ â”‚â”‚ â”‚ â”‚ â”‚ â”‚ â”” day of week (0 - 7) (0 or 7 is Sun)â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€ month (1 - 12)â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ day of month (1 - 31)â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ hour (0 - 23)â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ minute (0 - 59)â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ second (0 - 59, OPTIONAL) ç›®å‰ auto_test ç”¨åˆ°çš„å®šæ—¶ä»»åŠ¡åªæœ‰ä¸€ä¸ª1234567891011121314151617181920212223const schedule= require('node-schedule');const path = require('path');const fs = require('fs');//åˆ é™¤æŸä¸ªç›®å½•çš„ä¸€å±‚æ–‡ä»¶function delPathFile(path) &#123; if (!fs.existsSync(path)) return; const files = fs.readdirSync(path); files.forEach(file =&gt; fs.unlinkSync(`$&#123;path&#125;/$&#123;file&#125;`));&#125;// å®šæ—¶åˆ é™¤å›¾ç‰‡ï¼Œæ¯å‘¨ä¸€ä¸€æ¬¡exports.scheduleDelPic = function() &#123; const initPath = path.join(process.cwd(), '/static/init'); const errorPath = path.join(process.cwd(), '/static/error'); const successPath = path.join(process.cwd(), '/static/success'); schedule.scheduleJob('* * * * * 1', function () &#123; delPathFile(initPath); delPathFile(errorPath); delPathFile(successPath); &#125;);&#125; æ€»çš„æ¥è¯´ auto_test åšçš„äº‹æƒ…å¤§æ¦‚å°±æ˜¯ å¯åŠ¨ app.jsï¼Œ é¡¹ç›®å°±ä¼š 10åˆ†é’Ÿè‡ªåŠ¨è·‘ä¸€æ¬¡æµ‹è¯•ç¨‹åºã€‚ æˆåŠŸã€å¤±è´¥åŽåšå‡ºå¯¹åº”çš„æ“ä½œã€‚ æ¯å‘¨æ¸…é™¤ä¸€æ¬¡æœ¬åœ°çš„æˆªå›¾æ•°æ®ã€‚ ä½†æ˜¯å‡ ä¸ªå¼Šç«¯ puppeteer æ˜¯æ¨¡æ‹Ÿæµè§ˆå™¨ï¼Œæ‰€ä»¥ä½ çš„æ‰€æœ‰è¡Œä¸ºéƒ½æ˜¯æ¨¡æ‹Ÿç”¨æˆ·æ“ä½œï¼šé€‰æ‹©domï¼Œç‚¹å‡»ã€å¡«å†™ã€é€‰æ‹©æ“ä½œã€‚è¿™äº›éƒ½æ˜¯å¾ˆå®¹æ˜“å› ä¸ºé¡µé¢çš„domå˜åŒ–è€Œå¤±æ•ˆï¼Œæ¯”å¦‚æœ¬æ¥æ˜¯é€‰äº†ä¸€ä¸ª #userIdçš„æ–‡æœ¬æ¡†ï¼ŒåŽé¢è¿­ä»£æŠŠ #userIdæ”¹ä¸º#uuid é‚£ä½ å°±é€‰ä¸åˆ°äº†ã€‚ æ‰€ä»¥ä¸šåŠ¡æµ‹è¯•ä»£ç (__mainProcess__æ¨¡å—) åšå¥½æ¨¡å—æ‹†åˆ†ï¼ŒåŽé¢è·Ÿé¡¹ç›®è¿­ä»£ä¹Ÿæ–¹ä¾¿è°ƒæ•´ã€‚ å› ä¸ºç½‘ç»œæˆ–domæ“ä½œç»å¸¸è§¦å‘å¼‚æ­¥è¡Œä¸ºï¼Œæ‰€ä»¥ä¸šåŠ¡æµ‹è¯•ä»£ç é‡Œé¢å……æ»¡å„ç§ waitFor waitForSelector waitForNative ç­‰â€¦ä¸æ³¨æ„å¯èƒ½å°±ä¼šæ“ä½œåˆ°æ²¡æœ‰å‡ºçŽ°çš„å…ƒç´ ï¼Œè¿™å—è¦åšå¥½æŽ§åˆ¶ï¼Œæ¯”å¦‚waitFor æ—¶é—´ä¹…ä¸€ç‚¹ï¼Œæˆ–è€…åœ¨pageä¸Šå°è£…ä¸€ä¸ªæ–¹æ³•ï¼Œæ¯”å¦‚ page._click:1234async _click(selector) &#123; await page.waitForSelector(selector, &#123; visible: true &#125;); return page.click(selector);&#125;, åœ¨æ¯æ¬¡ç‚¹å‡»ä¹‹å‰ï¼Œå…ˆç­‰å¾…è¯¥å…ƒç´ å‡ºçŽ°å†ç‚¹å‡»ã€‚è¿™æ ·å¯ä»¥é¿å…å¾ˆå¤šè¿è¡Œæ—¶ æ²¡æœ‰æ‰¾åˆ°å…ƒç´ çš„é”™è¯¯ æ¨¡ä»¿ç”¨æˆ·è¡Œä¸ºæµ‹è¯•çš„è¯ï¼Œæ„å‘³ç€ä½ è¦åšä¸€äº›å‰ç½®çš„å¤„ç† å¦‚login.jsï¼Œ è¦æŠŠè´¦å·å¯†ç ç­‰å†™åˆ°ä»£ç é‡Œé¢â€¦è™½ç„¶å¯ä»¥åŠ å¯† ä¸è¿‡è¿˜æ˜¯ä¼šå­˜åœ¨éƒ¨åˆ†æ³„éœ²é£Žé™©â€¦ è‡ªåŠ¨åŒ–æµ‹è¯•æœåŠ¡ç«¯(auto_test_backend)éƒ¨åˆ†å¯¹æ¯” auto_test éƒ¨åˆ†ï¼Œ auto_test_backendæ‰æ˜¯æˆ‘æœ€å¤´ç–¼çš„åœ°æ–¹ã€‚æ¯•ç«Ÿä¸æ˜¯ç§‘ç­å‡ºèº«çš„å‰ç«¯ï¼Œå¯¹åŽç«¯æ€æƒ³ ä»¥åŠæ•°æ®åº“æ“ä½œä¹Ÿæ²¡ç¢°è¿‡= =emmm åšèµ·æ¥çœŸçš„æ˜¯è¶…çº§æ— æ•Œçš„è´¹åŠ²ç‰¹åˆ«æ˜¯ è®¾è®¡æ•°æ®æ ¼å¼çš„æ—¶å€™ï¼Œéƒ½æ˜¯æ‹è„‘è¢‹å†³å®šäº†ã€‚ å’¦ æˆ‘åŠ ä¸ªå­—æ®µï¼Œ å’¦ æˆ‘æ”¹ä¸ªå­—æ®µ åˆä¸æ˜¯å¾ˆæ¸…æ¥šæ€Žä¹ˆå¿«æ·æ“ä½œâ€¦. ä¼°è®¡æ˜¯ä¸ç†Ÿ mongoose çš„åŽŸå› â€¦. è¿™ä¸ªé¡¹ç›®ç”¨çš„æ˜¯ egg æ¡†æž¶ï¼Œæ‰€ä»¥åŸºæœ¬é¡¹ç›®ç»“æž„éƒ½æ˜¯æŒ‰ç€eggçš„è§„èŒƒæ¥ã€‚ ç›®å½•ç»“æž„: egg å¸®æˆ‘ä»¬åšäº†å¾ˆå¤šäº‹æƒ…ï¼Œå¼€å‘çš„æ—¶å€™åªè¦è·‘ä¸€ä¸‹ npm run devï¼Œå°±ä¼šå¯åŠ¨ä¸€ä¸ªé»˜è®¤ç«¯å£ä¸º7001çš„æœåŠ¡ å¯¹æˆ‘ä»¬çŽ°åœ¨æ¥è¯´ï¼ŒåŸºæœ¬åªæ˜¯æä¾› RESTAPIã€‚å‰©ä¸‹çš„å°±ç®€å•å•¦ï¼Œåœ¨app/router.jså†™å¯¹åº”çš„è·¯ç”± å¦‚:router.post(&#39;/api/v1/monitor&#39;, app.controller.monitor.create); è¿™æ ·å¦‚æžœæœ‰postè¯·æ±‚:7001/api/v1/monitor å°±ä¼šäº¤ç”± monitor.create è¿™ä¸ª controller å¤„ç†ã€‚ è·¯ç”±é…ç½® app/router.jsç›®å‰è·¯ç”±é…ç½®æ¯”è¾ƒç®€å•ï¼Œå°±é…ç½®äº†ä¸¤ä¸ªï¼Œä¸€ä¸ªç”¨æ¥å¤„ç†æŽ¥æ”¶ auto_testé¡¹ç›®ä¸­æµ‹è¯•ç»“æžœï¼›ä¸€ä¸ªç”¨æ¥è¾“å‡ºæµ‹è¯•åˆ—è¡¨ã€‚ app/router.js12345678module.exports = app =&gt; &#123; const &#123; router, controller &#125; = app; // post è¯·æ±‚äº¤ç”±app.controller.monitor.createå¤„ç† router.post('/api/v1/monitor', app.controller.monitor.create); // get è¯·æ±‚äº¤ç”±app.controller.monitor.getå¤„ç† router.get('/api/v1/monitor', app.controller.monitor.get);&#125;; controller è§£æžç”¨æˆ·çš„è¾“å…¥ï¼Œå¤„ç†åŽè¿”å›žç›¸åº”çš„ç»“æžœeggå¸®æˆ‘ä»¬åšäº†å°è£…ï¼Œç›´æŽ¥åœ¨controlleræ–‡ä»¶å¤¹ä¸‹èµ·æ–‡ä»¶ï¼Œå†™å¯¹åº”çš„æ•°æ®ï¼ŒåŽé¢å¯ä»¥ä»Žå…¨å±€å¯¹è±¡app.controller.fileName.mothedNameåŽ»èŽ·å–å¯¹åº”çš„æ–¹æ³•ï¼Œæ¯”å¦‚çŽ°åœ¨æœ‰è¿™ä¸ªæ–‡ä»¶ app/controller/testï¼Œé‚£ä¹ˆæˆ‘å¯ä»¥åœ¨å…¶ä»–åœ°æ–¹é€šè¿‡ app.controller.teståŽ»èŽ·å–ã€‚ è¿™é‡Œæ‹¿ app.controller.monitor.get ä¸¾ä¾‹ monitor.get æ–¹æ³•è¦åšçš„äº‹æƒ…æœ‰ éªŒè¯ç»“æž„çš„è¯·æ±‚å‚æ•°è§„åˆ™ å¤„ç†æŸ¥è¯¢å‚æ•° å¤„ç†åˆ†é¡µçš„é—®é¢˜ è°ƒservice èŽ·å–æ•°æ® å¤„ç†æ•°æ® è°ƒç”¨restä¸­é—´ä»¶å‘é€æ•°æ® éªŒè¯å‚æ•°ï¼Œè¿™é‡Œç”¨åˆ°çš„æ˜¯ egg-validateæ’ä»¶ï¼Œç›´æŽ¥é…ç½®å°±å¯ä»¥ç”¨äº† config/plugin.js1234exports.validate = &#123; enable: true, package: 'egg-validate',&#125;; app/controller/monitor.js12345678910111213141516171819202122232425262728293031323334353637383940414243const Controller = require('egg').Controller;module.exports = class MonitorController extends Controller &#123; const ctx = this.ctx; // è¿™é‡ŒéªŒè¯å¤±è´¥ä¼šæŠ›å‡ºä¸€ä¸ª 422 çš„å¼‚å¸¸ ctx.validate(&#123; start: &#123; type: 'number', require: false&#125;, // end, state, paginationç­‰ç­‰å…¶ä»–å‚æ•°éªŒè¯ &#125;); // èŽ·å–ä¼ è¿‡æ¥çš„å‚æ•° const &#123; start, end, state, pagination: _pagination&#125; = ctx.query; // æ ¹æ®è‡ªèº«ä¸šåŠ¡ å¤„ç†æŸ¥è¯¢å‚æ•° (typeof state !== 'undefined') &amp;&amp; (params.state = state); if (start &amp;&amp; end) &#123; Object.assign(params, &#123; time: &#123; $gte: start, $lte: end, &#125; &#125;); &#125; // å¤„ç†åˆ†é¡µå‚æ•° const paramsPagination = Object.assign(&#123; size: 20, page: 1 &#125;, JSON.parse(_pagination || '&#123;&#125;')); // è°ƒ service èŽ·å–æ•°æ® // serviceä¹Ÿå’Œ controller ä¸€æ ·ï¼Œeggåšäº†æ–‡ä»¶çš„æ˜ å°„ï¼Œç›´æŽ¥ ctx.serviceèƒ½å¾ˆæ–¹ä¾¿çš„åŽ»èŽ·å– const &#123; list, pagination &#125; = await ctx.service.monitor.find(&#123; params, ...paramsPagination &#125;); // å¤„ç†æ•°æ® list.forEach(item =&gt; &#123; item.img_url = `http://localhost:7001$&#123;item.img_url&#125;` &#125;); // è°ƒ restä¸­é—´ä»¶ å¤„ç†è¿”å›žæ•°æ® ctx.rest(&#123; list, pagination, &#125;);&#125; service å¤„ç†ä¸€äº›å’Œæ•°æ®åº“äº¤äº’çš„é€»è¾‘serviceå’Œcontroller ä¸€æ ·ï¼Œeggå¸®æˆ‘ä»¬åšäº†ä¸€äº›æ–‡ä»¶çš„æ˜ å°„ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯ç›´æŽ¥åœ¨app/service/monitor.jså†™å¯¹åº”çš„é€»è¾‘å³å¯ è¿™ä¸€å—åº”è¯¥æ˜¯æœ€éº»çƒ¦çš„ï¼Œ mongoose api ä¸ç†Ÿï¼Œä¹Ÿä¸ç¡®å®šè¿™ä¹ˆå†™ä¼šä¸ä¼šæœ€ä¼˜,åˆä¸åˆç†ç­‰â€¦æœ‰æ—¶é—´æˆ–è€…ä»¥åŽæœ‰æœºä¼š ä¼šåŽ»çœ‹ã€ŠSQLå¿…çŸ¥å¿…ä¼šã€‹ å­¦å­¦æ•°æ®åº“è¿™ä¸€å—è½¯è‚‹ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556const Service = require('egg').Service;module.exports = class MoitorService extends Service &#123; async find(&#123;params, size, page&#125;) &#123; // æŸ¥å¤åˆæ¡ä»¶çš„é¡µæ•° const count = await this.app.model.Monitor .find(params).count(); // å¤„ç†åˆ†é¡µ const monitors = await this.app.model.Monitor .find(params).sort('time').select('-__v') .skip(size * (page-1)) .limit(size).lean(); // å¤„ç†è¦è¿”å›žçš„æ ¼å¼ return &#123; list: monitors, pagination: &#123; count, size, page, &#125; &#125;; &#125;&#125;``` ## middleware ä¸­é—´ä»¶egg å…¶å®žåŸºäºŽkoaå®žçŽ°çš„ï¼Œæ‰€ä»¥å¯¹ä¸­é—´ä»¶å½¢å¼å’Œkoaä¸€æ ·æ˜¯æ´‹è‘±åœˆæ¨¡åž‹ã€‚é›†æˆä¸­é—´ä»¶ä¹Ÿå¾ˆç®€å•ï¼Œåœ¨`app/middleware/`ä¸‹å†™å¯¹åº”çš„ä¸­é—´ä»¶ï¼Œå†åœ¨ `config/config.default.js`ä¸‹é…ç½®å³å¯å¯ç”¨ã€‚å†™ä¸­é—´ä»¶```javascript app/middleware/error_handler.jsmodule.exports = ()=&gt; &#123; return async function errorHandler(ctx, next) &#123; try &#123; await next(); &#125; catch (err) &#123; // æ‰€æœ‰å¼‚å¸¸éƒ½åœ¨ app ä¸Šè§¦å‘ä¸€ä¸ª error äº‹ä»¶ ctx.app.emit('error', err, ctx); const status = err.status || 500; // ç”Ÿäº§çŽ¯å¢ƒæ—¶ 500 é”™è¯¯çš„è¯¦ç»†é”™è¯¯å†…å®¹ä¸è¿”å›žç»™å®¢æˆ·ç«¯ï¼Œå¯èƒ½åŒ…å«æ•æ„Ÿä¿¡æ¯ const error = status === 500 &amp;&amp; ctx.app.config.env === 'prod' ? 'Internal Server Error' : err.message; // ä»Ž error å¯¹è±¡ä¸Šè¯»å‡ºå„ä¸ªå±žæ€§ è®¾ç½®åˆ°å“åº”ä¸­ ctx.body = &#123; error &#125;; if (status === 422) &#123; ctx.body.detail = err.errors; &#125; ctx.status = status; &#125; &#125;&#125; æ·»åŠ é…ç½®app/config/config.default.js12345678910111213module.exports = appInfo=&gt; &#123; const config = &#123; // ä¸­é—´ä»¶é…ç½® middleware: ['errorHandler'], // errorHandleré…ç½®ï¼Œåªå¯¹ /api å¼€å¤´çš„è·¯ç”±åšå¤„ç† errorHandler: &#123; match: '/api', &#125; &#125; return config;&#125; é˜ˆå€¼å‘é€é‚®ä»¶åŠŸèƒ½è¿™ä¸€å—è¦ç»´æŠ¤ä¸¤ä¸ªä¸´æ—¶å˜é‡æ•°ç»„ï¼Œä¸‰ä¸ªé…ç½®å‚æ•°1234567891011121314151617const temp = &#123;&#125;;temp.errorObj = &#123; errorArray: [], // ç”¨æ¥å­˜æ¯æ¬¡é”™è¯¯ä¸ŠæŠ¥çš„æ—¶é—´æˆ³ sendArray: [], // ç”¨æ¥å­˜æ¯æ¬¡å‘é€çš„æ—¶é—´æˆ³&#125;const errorConfig = &#123; maxCount: 5, // å•ä½æ—¶é—´è¶…è¿‡næ¬¡å°±æŠ¥è­¦ unitTime: 30, // å•ä½æ—¶é—´ä¸ºï¼šnåˆ†é’Ÿ maxSend: 2, // å•ä½æ—¶é—´æœ€å¤šå‘nå°é‚®ä»¶&#125;å¤§æ¦‚çš„é€»è¾‘æ˜¯ï¼Œ æ¯æ¬¡æŠ¥é”™çš„æ—¶å€™ï¼Œ errorArray å¡žå…¥ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œç„¶åŽåˆ¤æ–­ï¼š1. åˆ¤æ–­æ˜¯å¦åˆ°è¾¾å‘é€é˜ˆå€¼2. æ ¹æ®å½“å‰çš„æ—¶é—´æˆ³å’Œé…ç½®æ¥æ¸…ç†è¿‡æœŸçš„æ•°æ®3. åˆ¤æ–­å•ä½æ—¶é—´å†…æ˜¯å¦è¾¾åˆ°å‘é€é˜ˆå€¼4. åˆ¤æ–­å•ä½æ—¶é—´å†…æ˜¯å¦è¶…è¿‡å‘é€æ¬¡æ•°5. æž„å»ºå‘é€å†…å®¹ï¼Œ ðŸš€ å¤„ç†åŽç»­çš„è®°å½•æ“ä½œ ç”¨åˆ°çš„å‘é‚®ä»¶æ’ä»¶æ˜¯ nodemailer ç®€å•ç²—æš´ ç”¨è¿‡éƒ½è¯´å¥½ andå…¶å®ž auto_test_project æœ€éº»çƒ¦çš„æ˜¯åœ¨å®šä¹‰æ•°æ®åº“æ ¼å¼çš„æ—¶å€™ï¼Œç»å¸¸å®šä¹‰å°‘ä¸€äº›å…³é”®çš„å­—æ®µï¼ˆç›®å‰è‚¯å®šä¹Ÿè¿˜å­˜åœ¨è¿™ç§æƒ…å†µçš„ï¼‰ã€‚è¿˜æœ‰å°±æ˜¯æœ¬æ¥ä»¥ä¸ºå’Œ angular ä¸€æ ·ï¼Œcontroller ä¼šå¡žå¤§é‡çš„ä¸šåŠ¡é€»è¾‘ï¼Œ ç­‰åˆ°åŽé¢æœ‰ä¸€ä¸ªåœºæ™¯æ˜¯è¦åœ¨æŸä¸ª controllerè°ƒç”¨å¦ä¸€ä¸ªcontroller æ—¶æ‰å‘çŽ°ï¼ŒåŽŸæ¥ controller ä¸»è¦çš„èŒè´£æ˜¯è´Ÿè´£å¤„ç†è·¯ç”±å’Œä¸€äº›å‚æ•°éªŒè¯è¾“å‡ºç­‰æ¯”è¾ƒå¯¹å¤–çš„å·¥ä½œï¼Œå¯¹å†…çš„åŸºæœ¬éƒ½å†™æˆäº†serviceã€‚ å‰ç«¯çš„å°ä¼™ä¼´å¾ˆå¤šäººæ‡‚node å¯èƒ½ä¹Ÿåªæ˜¯æ‡‚nodeçš„è¯­æ³•å±‚ è¦æƒ³çœŸçš„å†™åŽå°æˆ–è€…å¾®å…¨æ ˆï¼Œè¿˜æ˜¯æœ‰å¾ˆå¤šä¸œè¥¿è¦å­¦çš„ã€‚ åˆ—è¡¨å±•ç¤º(admin)é¡¹ç›®åˆ—è¡¨å±•ç¤ºç›¸å¯¹ç®€å•ï¼Œæ²¡ä»€ä¹ˆå¥½è®²çš„ã€‚æƒ³ç”¨ä»€ä¹ˆæŠ€æœ¯æ ˆéƒ½æ¯”è¾ƒéšæ„ï¼Œreact,vueç”šè‡³hbsæˆ–è€…ç›´æŽ¥åœ¨jsé‡Œé¢å†™htmlå­—ç¬¦ä¸²å¾ªçŽ¯éƒ½okã€‚ è¿™é‡ŒæŽ¨ä¸€ä¸‹ä¸€ç¯‡æ–‡ç« ï¼Œä»‹ç»å·¥ä½œä¸­çš„ä¸€ä¸ªé¡¹ç›® reactå…¨å®¶æ¡¶ &amp;&amp; dvaæœ€ä½³å®žè·µ endè·‘è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬(auto_test)çš„log è‡ªåŠ¨åŒ–æµ‹è¯•æˆåŠŸåŽæäº¤æ•°æ®(admin) è‡ªåŠ¨åŒ–æµ‹è¯•å¤±è´¥åŽå°†æ•°æ®ä¸ŠæŠ¥(admin) åŒ…å«äº†æ ‡é¢˜ï¼ŒæŠ¥é”™ä¿¡æ¯ï¼Œé“¾æŽ¥ï¼Œæˆªå›¾ï¼Œæ ‡è®°ç­‰ æ–‡ç« ä½œä¸ºå­¦ä¹ çš„è®°å½•åˆ°æ­¤ç»“æŸï¼Œè¿™ä¸ªé¡¹ç›®ä¸»è¦å­¦ä¹ äº† egg,mongodb,puppeteer ç­‰ è¿˜æ˜¯æŒºæœ‰æ”¶èŽ·çš„.]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>github</tag>
        <tag>JavaScript</tag>
        <tag>work</tag>
        <tag>puppeteer</tag>
        <tag>node</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é¡¹ç›®ä»£ç è§„èŒƒå·¥ä½œæµâ€”â€”editorã€prettierã€eslintã€git-check]]></title>
    <url>%2F2018%2F03%2F%E9%A1%B9%E7%9B%AE%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%E5%B7%A5%E4%BD%9C%E6%B5%81%E2%80%94%E2%80%94editor%E3%80%81prettier%E3%80%81eslint%E3%80%81git-check%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯æœ€è¿‘éƒ¨é—¨è¿›äº†æŒºå¤šæ–°å‰ç«¯ï¼Œæœ‰å®žä¹ ç”Ÿ æœ‰åº”å±Šç”Ÿï¼Œäººä¸€å¤šä»£ç è§„èŒƒå°±ä¸èƒ½å®Œå…¨ä¾èµ– â€œå£å£ç›¸ä¼ â€ åŽ»çº¦æŸäº†ï¼Œ ç‰¹åˆ«æ˜¯çœ‹åˆ°ä¸€å †çš„ æœ‰åˆ†å·ï¼Œæ— åˆ†å·ï¼Œå››ç¼©è¿›ï¼ŒäºŒç¼©è¿›ç­‰é—®é¢˜ å¯¹äºŽæœ‰å°å°ä»£ç æ´ç™–çš„æˆ‘å®žåœ¨æ˜¯å—ä¸äº† äºŽæ˜¯ç»ˆäºŽåœ¨é¡¹ç›®ä¸­ é›†æˆå„ç§ç”¨æ¥ è§„èŒƒï¼ˆçº¦æŸï¼‰çš„å·¥å…·ã€‚ ä¸»è¦æœ‰ï¼š editorConfig ç¼–è¾‘å™¨é…ç½®æ–‡ä»¶ Prettier æ‰¹é‡æ ¼å¼åŒ–ä»£ç  Eslint jsã€jsx æ–‡ä»¶ä»£ç æ£€æŸ¥è§„èŒƒ Flow (æš‚æœªé›†æˆ) lint-staged æäº¤åˆ°gitä¹‹å‰è·‘ä¸€æ¬¡ä»£ç æ£€æŸ¥ æœ¬åœ°ä¸€äº›çŽ¯å¢ƒï¼šnode 8.9.4, npm 5.6.0, oxs 10.13.3ï¼Œ ç¼–è¾‘å™¨ vscodeeeeee EditorConfigWhat is EditorConfig?å®˜ç½‘ç»™å‡ºçš„ç­”æ¡ˆæ˜¯ï¼šeditorconfigå¸®åŠ©å¼€å‘äººå‘˜åœ¨ä¸åŒçš„ç¼–è¾‘å™¨å’Œideä¹‹é—´å®šä¹‰å’Œç»´æŠ¤ä¸€è‡´çš„ç¼–ç é£Žæ ¼ã€‚ç®€å•æ¥è¯´å°±æ˜¯è·¨ç¼–è¾‘å™¨ä½¿ç”¨åŒä¸€ä»½ä»£ç ç¼©è¿›ç­‰é…ç½® EditorConfig é›†æˆèµ·æ¥ååˆ†ç®€å•ï¼Œ å¤§æ¦‚å°±æ˜¯åˆ›å»ºé…ç½®æ–‡ä»¶ï¼Œå®‰è£…ç›¸åº”çš„ç¼–è¾‘å™¨æ’ä»¶å³å¯ã€‚ åˆ›å»º .editorconfig æ–‡ä»¶ å®‰è£…å¯¹åº”ç¼–è¾‘å™¨çš„æ’ä»¶ æˆ‘ç”¨çš„æ˜¯ vscode ç›´æŽ¥å®‰è£…è¿™ä¸ª EditorConfig for vs codeï¼Œå®‰è£…å®Œé‡å¯ï¼Œç¼–è¾‘å™¨å°±ä¼šæ ¹æ®é…ç½®æ–‡ä»¶é‡Œé¢çš„é…ç½®æ¥æŽ§åˆ¶ä»£ç ç¼©è¿›ç­‰è¡Œä¸º é™„ä¸Šé¡¹ç›®çš„é…ç½®æ–‡ä»¶.editorconfig123456789101112root = true[*]charset = utf-8end_of_line = lf # mac linux/unix éƒ½ç”¨lfã€‚ window è®¾ç½® cr åœ¨ *nix æœ‰é—®é¢˜indent_size = 4indent_style = spacemax_line_length = 120trim_trailing_whitespace = true[*.jsx]indent_size= 2 PrettierçŽ°åœ¨æœ‰äº†ä¸€äº›åŸºæœ¬çš„é…ç½®ï¼Œä»¥åŽå†™çš„ä»£ç å°±å¯ä»¥æ¯”è¾ƒè§„èŒƒä¸€ç‚¹ç‚¹ç‚¹ï¼Œä½†æ˜¯åŽŸæ¥çš„æ—§ä»£ç æ€Žä¹ˆåŠžå‘¢ï¼Ÿä¸å¯èƒ½ä¸€ä¸ªæ–‡ä»¶ä¸€ä¸ªæ–‡ä»¶åŽ»æ‰“å¼€å§ï¼Œä¸å®Œå…¨ç»Ÿè®¡ é¡¹ç›®æœ‰ä¸Šåƒä¸ªç¼–è¾‘çš„æ–‡ä»¶â€¦.ä¸€ä¸ªä¸€ä¸ªåŽ»æ‰‹åŠ¨æ‰“å¼€ä¸ç¬¦åˆç¨‹åºå‘˜çš„é£Žæ ¼ soâ€¦ Prettierå°±æ˜¯ä¸ºæˆ‘ä»¬åšè¿™äº›äº‹æƒ…çš„ å®‰è£…: npm i --save-dev prettier åˆ›å»º .prettierrcé…ç½®æ–‡ä»¶è¯¥é…ç½®æ–‡ä»¶ä¼šç»§æ‰¿editorConfigçš„é…ç½® å‘package.jsonæ·»åŠ è„šæœ¬: &quot;prettier&quot;: &quot;prettier --write ./*&quot; æˆ‘é¡¹ç›®é‡Œé¢ç”¨çš„æ˜¯ &quot;prettier&quot;: &quot;prettier --write &#39;./src/**/*.js&#39; &#39;./src/**/*.jsx&#39; &#39;./src/**/*.css&#39; &#39;./src/**/*.scss&#39;&quot;, åˆ›å»º .prettierignore æ–‡ä»¶ï¼Œç”¨æ¥å¿½ç•¥ä¸€äº›æ–‡ä»¶ &amp;&amp; ç›®å½• ä¸€åˆ‡å‡†å¤‡å°±ç»ªä¹‹åŽ !!!! npm run prettier å‘¼å‘¼ çœ‹åˆ°æç¤ºä¸€åƒä¸ªæ–‡ä»¶æ›´æ”¹è®°å½• å“ˆå“ˆå“ˆ é™„ä¸Šé…ç½®æ–‡ä»¶:.prettierrc.js123456789// https://prettier.io/docs/en/options.htmlmodule.exports = &#123; trailingComma: "es5", // æ•°ç»„ å¯¹è±¡å°¾éšé€—å· [arr, ] &#123; obj, &#125; // bracketSpacing: true, // å¯¹è±¡ç©ºæ ¼ &#123; foo: bar &#125;, false=&gt; &#123;foo:bar&#125;// jsxBracketSameLine: false, // jsxé—­æ ‡ç­¾æ˜¯å¦å¦èµ·ä¸€è¡Œ &lt;Test&gt;&lt;/Test&gt;// arrowParens: 'avoid', // ç®­å¤´å‡½æ•°æ˜¯å¦çœç•¥æ‹¬å· a=&gt; a, (a)=&gt; a singleQuote: true, // å•å¼•å·&#125; .prettierignore1234/node_modules/dist/src/lib//src/global/fonts Eslintæœ‰äº†ä¸Šé¢ä»‹ç»çš„ editorã€prettierè¿˜æ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œå› ä¸º jsè¯­æ³• ä¸æ˜¯å¾ˆä¸¥æ ¼ï¼Œæ¯”å¦‚æœ‰æ²¡æœ‰åˆ†å·å•Š ä¹‹ç±»çš„é—®é¢˜è¿˜æ˜¯è¦ç”¨ eslint æ¥çº¦æŸçš„ã€‚ åœ¨å¾ˆå¤šå¹´å‰ï¼Œæˆ‘æ˜¯ç‰¹åˆ«åæ„Ÿ Eslint çš„ï¼Œå› ä¸ºç»å¸¸å†™å¾—ä¸€ç‚¹ä¸è§„èŒƒï¼Œç›´æŽ¥å°±æŠ¥ error æ•´ä¸ªé¡¹ç›®è·‘ä¸èµ·æ¥ã€‚ä½†æ˜¯ å­˜åœ¨å³åˆç†ï¼ŒçŽ°åœ¨è§‰å¾—è¿™ä¸œè¥¿è´¼å¥½ç”¨ã€‚ å®‰è£… eslint: npm i --save-dev eslint å¯åŠ¨å¼•å¯¼è„šæœ¬: ./node_modules/.bin/eslint --init é…ç½® .eslintrcã€‚ è¿™é‡Œå¯ä»¥ç›´æŽ¥é€‰ Use a popular style guide ç„¶åŽé€‰è¡Œä¸šæ¯”è¾ƒçœ‹å¥½çš„è§„èŒƒ airbnbçš„ï¼ŒåŽŸå…ˆæ˜¯æ‰“ç®—é€‰è¿™ä¸ªï¼Œä½†æ˜¯åŽé¢å‘çŽ°å’Œé¡¹ç›®çŽ°æœ‰çš„è§„èŒƒå¾ˆä¸ç›¸åŒï¼Œæ‰€ä»¥åŽé¢å°±èµ°å›žç­”é—®é¢˜é€‰é¡¹ã€‚ å‘ package.json æ·»åŠ è„šæœ¬: &quot;eslint&quot;: &quot;eslint --fix ./&quot; æˆ‘å†™çš„æ˜¯ &quot;eslint&quot;: &quot;eslint --fix &#39;./src/**/*.{jsx, js}&#39;&quot;, åˆ›å»º .eslintignore æ–‡ä»¶ï¼Œå¹¶å‘å…¶æ·»åŠ éœ€è¦å¿½ç•¥çš„æ–‡ä»¶æˆ–ç›®å½•ã€‚ å®‰è£… ç¼–è¾‘å™¨ eslint æ’ä»¶ é…ç½®ç¼–è¾‘å™¨ï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯ vscode â€œeslint.autoFixOnSaveâ€: true å¼€å¯eslint æ£€æŸ¥ â€œjavascript.validate.enableâ€: false å…³é—­vscodeè‡ªå¸¦çš„jsæ£€æŸ¥ eslintæ’ä»¶ä¼šæ™ºèƒ½æ£€æŸ¥ç¼–è¾‘çŠ¶æ€çš„ JS æ–‡ä»¶ï¼Œå¹¶è‡ªåŠ¨ä¿®å¤ï¼›npm run eslint è„šæœ¬å¯ä»¥æ£€æŸ¥å’Œæ™ºèƒ½ä¿®å¤â€œå¯¹åº”çš„æ–‡ä»¶â€ã€‚ ä¸è¿‡äº²æµ‹ä¿®å¤çš„æ•ˆæžœæ¯”è¾ƒä¸€èˆ¬ï¼Œæ›´å¤šçš„æŠ¥é”™éœ€è¦æ‰‹åŠ¨åŽ»å¤„ç† åœ¨é…ç½®eslintçš„æ—¶å€™ é‡åˆ°äº†å‡ ä¸ªæ¯”è¾ƒéƒé—·çš„åœ°æ–¹ å¯ä»¥å…ˆæŠŠä¸€äº›æŠ¥é”™é¡¹æ”¹ä¸º è­¦å‘Šé¡¹ï¼Œæ…¢æ…¢è¿­ä»£ å…å¾—ä¸€ä¸Šeslint è¦åœå‡ å¤©æ¥ä¿®æ”¹åŽŸæ¥çš„æ–‡ä»¶ä¸€äº›ç®€å•çš„å¤„ç†å¯ä»¥å†™è„šæœ¬åŽ»åšæ¯”å¦‚è¯´ä¹‹å‰é¡¹ç›®å†™çš„æ¯”è¾ƒä¸è§„èŒƒï¼Œå‡ºçŽ°äº†å¾ˆå¤šç±»ä¼¼ï¼šexport default from &#39;file-path&#39;çš„è¯­å¥ï¼Œä½†æ˜¯eslintä¸è®¤ï¼Œè§‰å¾—è¿™æ˜¯ä¸ç¬¦åˆè§„èŒƒçš„ï¼Œéœ€è¦æ”¹ä¸º export { default } from &#39;file-path&#39; è¿™ç‚¹æˆ‘ä¹Ÿæ¯”è¾ƒè®¤åŒï¼Œä½†æ˜¯ è¿™ä¹ˆå¤šä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªä¸€ä¸ªæ”¹æ˜¯ä¸å­˜åœ¨çš„ï¼Œæ‰€ä»¥å†™äº†ä¸ªçŸ­è„šæœ¬åŽ»å¤„ç† fix-export-default123456789101112131415161718192021222324252627282930313233const fs = require('fs');const path = require('path');function scan(&#123;dirPath&#125;) &#123; const isDirectory = fs.statSync(dirPath).isDirectory(); if (isDirectory) &#123; const childs = fs.readdirSync(dirPath); childs.forEach(child=&gt; &#123; const nextPath = path.join(dirPath, child); const stat = fs.statSync(nextPath); const isDirectory = stat.isDirectory(); const isFile = stat.isFile(); const extname = isFile &amp;&amp; path.extname(child); // æ–‡ä»¶å¤¹ç±»åž‹ é€’å½’ if (isDirectory) scan(&#123;dirPath: nextPath&#125;); // æŽ’é™¤ä¸æ˜¯ js jsx çš„æ–‡ä»¶ if (!['.js', '.jsx'].includes(extname)) return; // å¼€å§‹è¯»æ–‡ä»¶ let fileStr = fs.readFileSync(nextPath) +''; const exg = /export default from/gi; if (exg.exec(fileStr)) fileStr = fileStr.replace('export default from', 'export &#123;default&#125; from'); fs.writeFileSync(nextPath, fileStr, &#123;encoding: 'utf-8'&#125;); &#125;); &#125;&#125;scan(&#123; dirPath: path.join(process.cwd(), '/src'),&#125;); webpackåˆ«åå¼•ç”¨ è·¯å¾„æŠ¥é”™é—®é¢˜å®‰è£…å¯¹åº”çš„ eslint å¤„ç†æ’ä»¶: npm i --save-dev eslint-import-resolver-webpack eslint-plugin-import åœ¨ .eslint.js é‡Œé¢åŠ è¿™æ®µé…ç½® 1234567"settings": &#123; 'import/resolver': &#123; webpack: &#123; config: getWebpackConfig, // è¿™é‡Œæ˜¯webpacké…ç½®è·¯å¾„ &#125; &#125;,&#125;, å…¶ä»–æ³¨æ„é—®é¢˜é¡¹ç›®æ˜¯åœ¨ æµè§ˆå™¨è¿è¡Œï¼Œ åˆæ˜¯ es6è¯­æ³•ï¼Œ åˆæœ‰ä¸€äº›nodeè„šæœ¬ï¼Œä¼šæœ‰ä¸€äº›å…¨å±€çš„å˜é‡å¼•ç”¨æç¤ºæŠ¥é”™ï¼Œæ€Žä¹ˆåŠžï¼Ÿæ”¹é…ç½®!12345"env": &#123; browser: true, es6: true, node: true,&#125;, é¡¹ç›®æ˜¯åŽç«¯æ¨¡ç‰ˆæ¸²æŸ“çš„ï¼Œä¼šæœ‰ä¸€äº›å…¨å±€å˜é‡ï¼ŒeslintæŠ¥é”™æ€Žä¹ˆåŠžï¼Ÿæ”¹é…ç½®!123456789101112131415"globals": &#123; __DEV__: true, __HTTPS__: true, FB: true, ga: true, $: true, ercjs: true, google: true, IS_APP: true, i18n: true, Zepto: true, AdjustEvent: true, Adjust: true, fbq: true,&#125;, é¡¹ç›®ç”¨äº†å¾ˆå¤šæ–°è¯­æ³• eslint ä¸è¯†åˆ«, ç”¨äº† react æ€Žä¹ˆåŠžï¼Ÿæ”¹é…ç½®â€¦å…·ä½“çš„ è°·æ­Œä¸€ä¸‹ ä¸€å †ç­”æ¡ˆ ä¸å†èµ˜è¿° FlowFlowå¯ä»¥ç†è§£ä¸º å¾ˆè½»é‡åž‹ æ— ä¾µå…¥çš„ é™æ€ç±»åž‹æ£€æŸ¥é¡¹ç›®æš‚æ—¶æ²¡æœ‰è€ƒè™‘é›†æˆï¼Œæ‰€ä»¥è¿™é‡Œä¸åšè¿‡å¤šä»‹ç» git-checkæ—¢ç„¶æˆ‘ä»¬ æœ‰äº†ç¼–è¾‘å™¨çš„é…ç½®ï¼Œ jsç¼–è¾‘å®žæ—¶æ£€æŸ¥ï¼Œ ä½†æ˜¯å¦‚æžœæœ‰äº›å°ä¼™ä¼´ä¸éµå®ˆè§„åˆ™ æžäº‹æƒ…æ€Žä¹ˆåŠžå‘¢ï¼Ÿè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥åœ¨æœ€åŽä¸€ä¸ªæµç¨‹åŠ ä¸ŠéªŒè¯çš„éƒ¨åˆ†ï¼Œ åœ¨git æäº¤çš„æ—¶å€™è·‘ä¸€äº›è„šæœ¬åŽ»éªŒè¯ï¼Œå¦‚æžœé€šè¿‡å°±ç»™æäº¤ï¼Œä¸é€šè¿‡å°±æç¤ºé”™è¯¯ lint-staged å¯ä»¥å¸®æˆ‘ä»¬åšè¿™äº›äº‹æƒ… å®‰è£… lint-staged husky: npm i --save-dev lint-staged husky å‘ package.json æ·»åŠ è¿è¡Œè„šæœ¬ &quot;precommit&quot;: &quot;lint-staged&quot; è¿™æ—¶å€™åœ¨git commit ä¹‹å‰ä¼šè·‘ lint-stagedçš„ä¸œè¥¿ å†å‘ package.json æ·»åŠ å†…å®¹: æ³¨æ„ï¼Œè¿™æ—¶å€™ä¸æ˜¯åŠ åœ¨ scriptsé‡Œé¢ï¼Œè€Œæ˜¯åŠ åœ¨åŒçº§&quot;lint-staged&quot;: { // ä¸Šé¢æä¾›çš„â€œè‡ªåŠ¨åŒ–è„šæœ¬â€ &quot;*.js&quot;: [&quot;eslint --fix&quot;, &quot;git add&quot;], &quot;*.json&quot;: [&quot;prettier --write&quot;, &quot;git add&quot;], &quot;*.css&quot;: [&quot;prettier --write&quot;, &quot;git add&quot;], &quot;*.scss&quot;: [&quot;prettier --write&quot;, &quot;git add&quot;], &quot;*.md&quot;: [&quot;prettier --write&quot;, &quot;git add&quot;] } å› ä¸ºé¡¹ç›®æ˜¯æœ¬åœ°æ‰“åŒ…å†æŽ¨è¿œç¨‹ï¼Œæ‰€ä»¥æˆ‘çš„é…ç½®æ˜¯æŒ‡å®šäº† srcä¸‹çš„&quot;src/**/*.js&quot;: [ &quot;eslint --fix&quot;, &quot;git add&quot; ], &quot;src/**/*.jsx&quot;: [ &quot;eslint --fix&quot;, &quot;git add&quot; ], &quot;src/**/*.css&quot;: [ &quot;prettier --write&quot;, &quot;git add&quot; ], &quot;src/**/*.scss&quot;: [ &quot;prettier --write&quot;, &quot;git add&quot; ] è¿™æ ·åœ¨æäº¤ä¹‹å‰å°±ä¼šå¯¹ æ–°å¢žçš„(git add) .js æ–‡ä»¶æ‰§è¡Œ &quot;eslint --fix&quot; è„šæœ¬ï¼Œ ä»¥æ­¤ç±»æŽ¨â€¦ Endemmmmmmmmmmmmmmmmmmmmmmmmm è™½ç„¶çœ‹èµ·æ¥æŒºç®€å•çš„ï¼Œä½†æ˜¯æ•´å¥—ç»“åˆé¡¹ç›®åŽ»æŠ˜è…¾ä¸‹æ¥ æŒºå¤šå‘çš„ã€‚ç‰¹åˆ«æ˜¯eslintè¿™å—çš„é…ç½® ç¬¬ä¸€æ¬¡è·‘ airbnb çš„é¡¹ç›®ï¼š ç›®å‰é¡¹ç›®é…ç½®å®˜æ–¹æŽ¨èçš„ esling ä¹‹åŽ: æŠŠerroræ”¹ä¸º warnä¿è¯é¡¹ç›®èƒ½è·‘èµ·æ¥: gitæäº¤æ£€æŸ¥å¤±è´¥: æœ€åŽé™„ä¸Šeslinté…ç½®.eslint.js1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071const getWebpackConfig = require('./config/webpack.dev.config')(process.cwd());module.exports = &#123; "parser": "babel-eslint", "extends": ['eslint:recommended', "plugin:react/recommended", "prettier"], "parserOptions": &#123; "ecmaVersion": 8, "sourceType": "module", "ecmaFeatures": &#123; "jsx": true, "modules": true, "experimentalObjectRestSpread": true &#125; &#125;, "plugins": ["react"], "settings": &#123; 'import/resolver': &#123; webpack: &#123; config: getWebpackConfig, &#125; &#125;, "react": &#123; "pragma": "React", "version": "16.1.1" &#125; &#125;, "env": &#123; browser: true, es6: true, node: true, &#125;, "globals": &#123; __DEV__: true, __HTTPS__: true, FB: true, ga: true, $: true, ercjs: true, google: true, IS_APP: true, i18n: true, Zepto: true, AdjustEvent: true, Adjust: true, fbq: true, &#125;, "rules": &#123; "sort-imports": 0, "import/first": 0, "import/no-named-as-default": 0, "import/no-named-as-default-member": 0, "import/extensions": 0, "prefer-destructuring": 0, "no-new": 0, "react/jsx-filename-extension": 0, "no-plusplus": 0, "func-names": 0, "no-console": 0, "no-useless-escape": 0, "semi": 2, // è¿™äº›è§„åˆ™åŽé¢ä¼šæ”¹ä¸ºé”™è¯¯ï¼Œæš‚æ—¶å…ˆè­¦å‘Š "no-unused-vars": 1, "react/prop-types": 1, "react/no-string-refs": 1, "react/jsx-key": 1, "react/no-unescaped-entities": 1 &#125;&#125;]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>work</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªåŠ¨åŒ–æµ‹è¯• puppeteer ä¸Žqqç©ºé—´]]></title>
    <url>%2F2018%2F03%2F%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95puppeteer-%E4%B8%8Eqq%E7%A9%BA%E9%97%B4%2F</url>
    <content type="text"><![CDATA[é¡¹ç›®èƒŒæ™¯emmmm å‰å‡ å¤©å¥³æœ‹å‹æƒ³åŠ æˆ‘qqã€‚æ‰æƒ³åˆ° ä¸‡å¹´æ²¡ç”¨çš„qqé‡Œé¢qqZone é—ç•™ç€åƒå¹´å‰çš„ä¸€å †ä¸­äºŒç•™è¨€ &amp;&amp; ä¸­äºŒè¯´è¯´ã€‚ åˆšå¥½æœ€è¿‘æœ‰æŽ¥è§¦åˆ° è‡ªåŠ¨åŒ–æµ‹è¯• puppeteer æ¡†æž¶ï¼Œ å°±æƒ³ç€å†™ä¸ªè„šæœ¬åŽ»è‡ªåŠ¨åˆ æŽ‰ç•™è¨€æ¿å’Œè¯´è¯´ã€‚ æ•´ä¸ªé¡¹ç›®åŸºäºŽ node8 è¿è¡Œ ç”¨çš„ async awaitè¯­æ³•ã€‚ æ¦‚è¿°é¦–å…ˆ puppeteer å¯ä»¥ç†è§£ä¸º æ˜¯è°·æ­Œå‡ºçš„ä¸€ä¸ªæ— UIç‰ˆæœ¬çš„Chromeã€‚ å…ˆä»Ž puppeteer å®žä¾‹åŒ–å‡ºä¸€ä¸ª Browserï¼Œ æ ¹æ® BrowseråŽ»new ä¸€ä¸ª Pageã€‚è¿™ä¸ªPageå¯ä»¥ç†è§£æˆ æˆ‘ä»¬å¹³æ—¶æµè§ˆå™¨çš„ä¸€ä¸ª tabã€‚ ä¸€èˆ¬æ“ä½œéƒ½æ˜¯åŸºäºŽ PageåŽ»å®žçŽ°çš„ Page æä¾›äº†å¾ˆå¤šç®€å•æ˜“ç”¨çš„apiç”¨äºŽæ“ä½œç½‘é¡µå…ƒç´ ï¼Œ åŸºæœ¬éƒ½æ˜¯å¼‚æ­¥æ“ä½œï¼Œæ‰€ä»¥ç›´æŽ¥ç”¨ async/await éžå¸¸æ–¹ä¾¿å¿«æ·ç®€å•æ˜“æ‡‚ã€‚ æ¯”å¦‚èŽ·å–å…ƒç´ : page.$(&#39;#switcher_plogin&#39;) åœ¨è¾“å…¥æ¡†å¡«å…¥ç‰¹å®šä¿¡æ¯ï¼Œæ¯æ¬¡è¾“å…¥é—´éš”100æ¯«ç§’æ¨¡æ‹Ÿè¾“å…¥: page.type(&#39;#mytextarea&#39;, &#39;World&#39;, {delay: 100}); é€‰æ‹©ä¸‹æ‹‰æ¡†: Page.select(&#39;select#colors&#39;, &#39;blue&#39;); é¡¹ç›®ç»†èŠ‚é¡¹ç›®åˆå§‹åŒ–ä¸Žç™»å½•æ­¥éª¤é¦–å…ˆæˆ‘ä»¬è¦æ‰“å¼€ qqç©ºé—´ çš„é¡µé¢ å¹¶ç™»å½• 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778// å¸¸ç”¨æ“ä½œçš„å·¥å…·å‡½æ•°function pageTool(page) &#123; const _page = &#123; async _click(selector) &#123; await page.waitForSelector(selector, &#123; visible: true &#125;); return page.click(selector); &#125;, async _waitForNavigation(opts = &#123;&#125;) &#123; return await page.waitForNavigation(&#123; waitUntil: 'domcontentloaded', ...opts &#125;); &#125;, &#125; Object.assign(page, _page); return page;&#125;(async () =&gt; &#123; const browser = await puppeteer.launch(&#123; headless: true, // æ˜¯å¦æ˜¾ç¤ºç•Œé¢ devtools: true, // æ˜¯å¦æ˜¾ç¤ºå¼€å‘è€…å·¥å…· slowMo: 100, // å»¶è¿Ÿæ¯ä¸€æ¬¡æ“ä½œçš„æ¯«ç§’æ•° ignoreHTTPSErrors: true, // æ˜¯å¦å¿½ç•¥HTTPSé”™è¯¯ &#125;); const loginPage = await browser.newPage(); // æ‰“å¼€æ–°tab èŽ·å–å½“å‰tabçš„å®žä¾‹ const page = loginPage; // ä»¿çœŸ è®¾ç½®çª—å£å¤§å°ä¸Ž UA ä¿¡æ¯ã€‚ è¿™é‡Œå¯ä»¥è®¾ç½®ä¸º ç§»åŠ¨ç«¯çš„ã€‚ // puppeteer å†…ç½®äº†ä¸€äº›è®¾å¤‡å¯ä¾›é€‰æ‹© å¯ä»¥é€šè¿‡ä»¥ä¸‹èŽ·å–ï¼š // const devices = require('puppeteer/DeviceDescriptors'); // const iPhone = devices['iPhone 6']; loginPage.emulate(&#123; viewport: &#123; width: 1280, height: 800 &#125;, userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3347.0 Safari/537.36' &#125;); // æ‰“å¼€ç‰¹å®šé“¾æŽ¥ï¼Œå¹¶ç­‰å¾…3ç§’é’Ÿ // PS: ä¸€èˆ¬æ˜¯ç”¨ page.waitForNavigation åŽ»ç­‰å¾…é¡µé¢åŠ è½½ï¼Œè¿™é‡Œç½‘ç»œé—®é¢˜ç»å¸¸ä¼šå‡ºçŽ°å¡ä½ æ‰€ä»¥ç®€å•è®¾ç½®ä¸ºç­‰3s await loginPage.goto('https://i.qq.com/?s_url=http%3A%2F%2Fuser.qzone.qq.com%2F847691625%2Finfocenter&amp;rd=1'); await loginPage.waitFor(3000); // è¿™é‡Œå°è£…äº†ä¸€ç‚¹ç‚¹å¸¸ç”¨çš„æ“ä½œ pageTool(loginPage); // æ‰“å¼€æˆåŠŸä¹‹åŽ æˆ‘ä»¬å¼€å§‹èµ°ç™»å½•çš„æ­¥éª¤äº† (async () =&gt; &#123; // QQç©ºé—´é‡Œé¢æ˜¯ç”¨ä¸€ä¸ª iframe åŽ»è£…ç™»å½•çš„éƒ¨åˆ†ï¼Œæ‰€ä»¥è¿™é‡Œè¦å…ˆèŽ·å– ç™»å½•iframeå¯¹è±¡å†è¿›è¡Œæ“ä½œ const iframeDom = await loginPage.frames().filter(iframe =&gt; iframe._name === 'login_frame')[0]; // å¦‚æžœæœ‰ç™»å½•qqçš„è¯ï¼Œå¯ä»¥ä½¿ç”¨å¿«æ·ç™»å½•æ¨¡å¼ const iframeLoginBtn = await iframeDom.$('#img_out_847691625'); if (iframeLoginBtn) &#123; await iframeLoginBtn.click(); &#125; else &#123; // å¦‚æžœæ²¡æœ‰ç™»å½•qq ç›´æŽ¥è¯»é…ç½®é‡Œé¢çš„ä¿¡æ¯åŽ»ç”¨è´¦æˆ·å¯†ç ç™»å½• if (data.qq === 'ä½ çš„qqè´¦å·') throw new Error('å…ˆåœ¨a.js è¾“å…¥qqè´¦å·å’Œå¯†ç '); // å¯†ç æ¨¡å¼ const plogin = await iframeDom.$('#switcher_plogin'); await plogin.click(); //ç‚¹å‡»è´¦æˆ·å¯†ç ç™»å½•çš„æŒ‰é’® const userName = await iframeDom.$('#u'); await userName.type(data.qq); // å¡«å…¥è´¦æˆ· const pw = await iframeDom.$('#p'); await pw.type(data.pw); // å¡«å…¥å¯†ç  const loginBtn = await iframeDom.$('#login_button'); await loginBtn.click(); // ç‚¹å‡»ç™»å½• &#125; console.log('ç™»å½•å®Œæˆ'); // åˆ°è¿™é‡Œ ç™»å½•æ­¥éª¤å·²ç»å®Œæˆ å¤§æ¦‚æ¶µç›–äº†æ•´ä¸ªé¡¹ç›®çš„80%æ“ä½œ å…¶ä»–éƒ½æ˜¯ç±»ä¼¼çš„domæ“ä½œ &#125;)(); /** åˆ é™¤ç•™è¨€æ¿æ¨¡å—ä»£ç ï¼Œè§ä¸‹ä¸€ä¸ªæ ç›® **/ /** åˆ é™¤è¯´è¯´æ¨¡å—ä»£ç ï¼Œè§ä¸‹ä¸‹ä¸ªæ ç›® **/&#125;)(); åˆ é™¤ç•™è¨€æ¿çš„åŠŸèƒ½æ¨¡å—1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556async function delCommit() &#123; // ç­‰å¾…ä¸€ä¸ª .head-nav-menu a[title="ç•™è¨€æ¿"] çš„å…ƒç´  cssé€‰æ‹©å™¨ await page.waitForSelector('.head-nav-menu a[title="ç•™è¨€æ¿"]'); await page.waitFor(1000); await page._click('.head-nav-menu a[title="ç•™è¨€æ¿"]'); await page.waitForSelector('.app_canvas_frame'); console.log('ç•™è¨€æ¿iframeåŠ è½½å®Œæˆ'); // è¿™é‡Œé‡æ–°èŽ·å–ä¸€ä¸ª ifrmae ç•™è¨€æ¿ä¹Ÿæ˜¯ç”¨ä¸€ä¸ªiframe åµŒå¥—è¿›æ¥çš„....æ²¡æƒ³åˆ°æ•´ä¸ªqqç©ºé—´æ˜¯ç”±ä¸€å †çš„ifrmaeå †èµ·æ¥ const iframeDom = await page.frames().filter(iframe =&gt; iframe.url().includes('qzs.qq.com/qzone/msgboard/msgbcanvas.html'))[0]; await page.waitFor(1000); console.log('ç•™è¨€æ¿iframe èŽ·å–å®Œæˆ ', iframeDom); const btnBatchBottom = await iframeDom.$('#btnBatchBottom'); await btnBatchBottom.click(); console.log('æ‰¹é‡ç‚¹å‡»æˆåŠŸ ', btnBatchBottom); let delTime = 1; // ä¸€æ¬¡å®Œæ•´çš„åˆ é™¤é€»è¾‘ async function delOnes() &#123; console.log(`ç¬¬$&#123;delTime&#125;æ¬¡ åˆ é™¤ å¼€å§‹æ‰§è¡Œ`); await page.waitFor(1000); const $chkSelectAllBottom = '#chkSelectAllBottom'; const chkSelectAllBottom = await iframeDom.$($chkSelectAllBottom); await chkSelectAllBottom.click(); if (delTime !== 1) await chkSelectAllBottom.click(); console.log(`ç¬¬$&#123;delTime&#125;æ¬¡ åˆ é™¤ ç‚¹å‡»å…¨é€‰`, chkSelectAllBottom); const $delAll = '#btnDeleteBatchBottom'; const delAll = await iframeDom.$($delAll); await delAll.click(); console.log(`ç¬¬$&#123;delTime&#125;æ¬¡ åˆ é™¤ ç‚¹å‡»åˆ é™¤`, delAll) const $sureBtn = '.qz_dialog_layer_btn.qz_dialog_layer_sub span'; await page._click($sureBtn); console.log(`ç¬¬$&#123;delTime&#125;æ¬¡ åˆ é™¤ ç‚¹å‡»ç¡®å®š`) await page.waitFor(3000); console.log(`ç¬¬$&#123;delTime&#125;æ¬¡ åˆ é™¤ æ‰§è¡Œç»“æŸ`); delTime++; // é€’å½’ const hasCommit = await iframeDom.$('#ulCommentList .bor3'); if (hasCommit) &#123; await delOnes(); &#125; &#125; await delOnes();&#125;;// delCommit(); åˆ é™¤è¯´è¯´æ¨¡å—12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364async function delEmotion() &#123; await page.waitForSelector('.head-nav-menu a[title="è¯´è¯´"]'); await page.waitFor(1000); await page._click('.head-nav-menu a[title="è¯´è¯´"]'); await page.waitForSelector('.app_canvas_frame'); await page.waitFor(1000); console.log('è¯´è¯´iframeåŠ è½½å®Œæˆ'); const iframeDom = await page.frames().filter(iframe =&gt; &#123; console.log(iframe.url()); return iframe.url().includes('qzs.qq.com/qzone/app/mood_v6/html/index.html'); &#125;)[0]; console.log('è¯´è¯´iframe èŽ·å–å®Œæˆ ', iframeDom); let delTime = 1; async function delOnes() &#123; try &#123; console.log(`ç¬¬ $&#123;delTime&#125;æ¬¡åˆ é™¤ å¼€å§‹æ‰§è¡Œ`); const moreBtn = await iframeDom.$('.dropdown-trigger.c_tx'); await moreBtn.hover(); console.log(`ç¬¬ $&#123;delTime&#125;æ¬¡åˆ é™¤ å±•ç¤ºåˆ é™¤æŒ‰é’®`); const delBtn = await iframeDom.$('.del.del_btn.author_display'); await delBtn.click(); console.log(`ç¬¬ $&#123;delTime&#125;æ¬¡åˆ é™¤ ç‚¹å‡»åˆ é™¤æŒ‰é’®`); await page.waitForSelector('.qz_dialog_layer_btn.qz_dialog_layer_sub span'); const delBtnSure = await page.$('.qz_dialog_layer_btn.qz_dialog_layer_sub span'); await delBtnSure.click(); await page.waitFor(1000); console.log(`ç¬¬ $&#123;delTime&#125;æ¬¡åˆ é™¤ ç‚¹å‡»ç¡®å®šæŒ‰é’®`); console.log(`ç¬¬ $&#123;delTime&#125; æ¬¡åˆ é™¤ æ‰§è¡Œç»“æŸ`); if (delTime % 10 === 0) await nextPage(); await page.waitFor(1000); delTime++; await delOnes(); &#125; catch (e) &#123; console.log(e, 'æŠ¥é”™äº† å°è¯•æ–¹æ¡ˆ'); await delOnes(); &#125; &#125; try &#123; await delOnes(); &#125; catch (e) &#123; console.log(`ç¬¬$&#123;delTime&#125;æ¬¡ å‡ºé”™ é‡æ–°try ä¸€é`) await delOnes(); &#125; async function nextPage() &#123; console.log(`ç¬¬$&#123;delTime&#125;æ¬¡æ‰§è¡Œ é‡åˆ°è·³è½¬`); const nextBtn = await iframeDom.$('a[title="ä¸‹ä¸€é¡µ"]'); nextBtn.click(); console.log(`ç¬¬$&#123;delTime&#125;æ¬¡æ‰§è¡Œ ç‚¹å‡»è·³è½¬`); await page.waitFor(5000); console.log(`ç¬¬$&#123;delTime&#125;æ¬¡æ‰§è¡Œ è·³è½¬ç»“æŸ`); &#125;&#125; é¡¹ç›®æ€»ç»“å¤§æ¦‚ä»£ç éƒ½ä¸¢ðŸ‘†äº† ï¼Œé™„ä¸Š æºç åœ°å€ åœ¨ a.js å¡«ä¸Šè´¦å·å¯†ç ã€‚å†æ‰“å¼€æºç é‡Œé¢çš„ // await delCommit(); æˆ–è€… // await delEmotion(); æ¥åˆ é™¤ ç•™è¨€æ¿æˆ–è¯´è¯´ã€‚æ²¡æœ‰åšå¹¶å‘æ“ä½œ æ‰€ä»¥åªèƒ½æ‰§è¡Œä¸€ç§åŠŸèƒ½ã€‚ä¿®æ”¹å®Œä¹‹åŽnpm install &amp;&amp; node app.js å°±å¯ä»¥è·‘äº†ã€‚ é¡¹ç›®ä¸­é‡åˆ°å‡ ä¸ªé—®é¢˜ï¼š page.waitForNavigation(options) ä¸€ç›´ç­‰ä¸åˆ°å®ŒæˆçŠ¶æ€, 30s è¶…æ—¶æŠ¥é”™å¯èƒ½æ˜¯ä¸€ç›´æœ‰ä¸€äº›è„šæœ¬æŒ‚æŽ‰æˆ–è€…åœ¨loadingã€‚æ‰€ä»¥åŽé¢æ¢æˆ ç­‰å¾…3ç§’ è™½ç„¶æ¯”è¾ƒ lowã€‚ã€‚ã€‚ä½†æ˜¯å¯è¡Œ iframe é‡Œé¢çš„domå…ƒç´ ä¸èƒ½ç›´æŽ¥é€šè¿‡ page.$ èŽ·å–ï¼Œéœ€è¦å…ˆèŽ·å– iframe å†é€šè¿‡è¿™ä¸ª iframeåŽ»èŽ·å–æƒ³è¦çš„domå…ƒç´  å°±ç®—æ˜¯æµè§ˆå™¨æ‰§è¡Œ æ¨¡æ‹Ÿäººä¸ºåˆ é™¤ï¼Œä½†æ˜¯è¿žç»­åˆ é™¤å¤ªå¤šè¡Œæ•°æ®çš„æ—¶å€™ï¼Œ è¿˜æ˜¯ä¼šè§¦å‘ è…¾è®¯çš„éªŒè¯ç æœºåˆ¶ã€‚åŽŸæœ¬ç”¨ puppeteer æˆªå›¾api åŽ»èŽ·å–éªŒè¯ç ï¼Œç„¶åŽç”¨ Tesseract åŽ»è¯†åˆ«éªŒè¯ç ã€‚ä½†æ˜¯å‘çŽ°è¯´ è¯†åˆ«çš„æœ‰æ•ˆçŽ‡æžä½Žâ€¦ ä¹Ÿæ²¡æœ‰åŽ»æŠ˜è…¾æ•°æ®è®­ç»ƒã€‚ åŽé¢å°±æ”¾å¼ƒéªŒè¯ç è¿™ä¸€å—çš„æŠ€æœ¯è¯†åˆ«ï¼Œå‡ºäº†éªŒè¯ç å°±å…ˆä¸è·‘ éš”æ–­æ—¶é—´å†è·‘ã€‚ æœ€åŽç»™å‡ºå®Œæ•´çš„é¡¹ç›®æ¼”ç¤º åˆ é™¤ç•™è¨€æ¿åŠŸèƒ½æ¼”ç¤º åˆ é™¤ç•™è¨€æ¿åŠŸèƒ½æ¼”ç¤º åˆ é™¤è¯´è¯´åŠŸèƒ½æ¼”ç¤º åˆ é™¤è¯´è¯´åŠŸèƒ½æ¼”ç¤º æ—¥å¿—è¾“å‡º æºç åœ°å€]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>github</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[reactå…¨å®¶æ¡¶ + dva å®žè·µæ•´ç†æ€»ç»“]]></title>
    <url>%2F2018%2F02%2Freact%E5%85%A8%E5%AE%B6%E6%A1%B6-dva-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E6%95%B4%E7%90%86%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[é¡¹ç›®èƒŒæ™¯æœ€è¿‘æŽ¥æ‰‹ç»„å†…ä¸€ä¸ªå‰ç«¯å¤§ç‰›çš„é¡¹ç›®ï¼Œå¤§æ¦‚ç†æ¸…äº†é‡Œé¢çš„æ€»ç†é€»è¾‘ä¸Žæ•°æ®æµå‘ç­‰ï¼Œ å†™ä¸ªæ€»ç»“ æ–¹ä¾¿ä»¥åŽå¯ä»¥æŸ¥é˜…å‚è€ƒã€‚ åœ¨ä¹‹å‰åšçš„åŽå°ç®¡ç†å¹³å°é‡Œé¢ï¼Œå°±æœ‰ç”¨åˆ° dva+antdï¼Œ åˆ°åŽé¢ç›´æŽ¥ç”¨ antd-pro é‡æ–°æ•´åˆäº†ä¸€éï¼Œä¸å¾—ä¸è¯´ antd-pro çœŸçš„æ˜¯å¼€ç®±å³ç”¨ ä¼˜é›…ç²—æš´ã€‚ ä½†æ˜¯é‡Œé¢å¯èƒ½å¾ˆå¤šå’Œæˆ‘ä»¬å¹³æ—¶ä½¿ç”¨ä¹ æƒ¯æœ‰æ‰€ä¸åŒï¼Œ æ‰€ä»¥è¿™æ¬¡æŽ¥è§¦çš„é¡¹ç›®æ˜¯åŸºäºŽ dva è‡ªå·±å†é‡ç»„äº†ä¸€ä¸‹ model router ç›®å½•ç»“æž„ç­‰ã€‚ ä½¿å¾—é¡µé¢æ›´åŠ çš„æ¨¡å—åŒ–ï¼Œæ—¢ models, routes ä¸æ˜¯åœ¨ä¸€ä¸ªæ–‡ä»¶ç›®å½•é‡Œï¼Œè€Œæ˜¯ç›´æŽ¥æŒ‰ç…§é¡µé¢çº§åˆ«æ¥ç»„åˆã€‚æœ‰ä¸€ä¸ªå¥½å¤„å°±æ˜¯ æœ¬æ¥ models,routes è¿™äº›å‡ ä¹Žå°±æ˜¯ä¸èƒ½å…¬ç”¨çš„ï¼Œé‚£ç›´æŽ¥æŒ‰ç€é¡µé¢åŽ»åˆ† æ–¹ä¾¿é—®é¢˜å®šä½ä¸Žç»´æŠ¤ã€‚ ç›®å½•ç»“æž„12345678910111213141516171819202122232425262728293031323334353637.â”œâ”€â”€ README.mdâ”œâ”€â”€ config # ä¸€äº›å…³äºŽ webpack babel dll ç­‰é¡¹ç›®æž„ä»¶çš„é…ç½®â”‚ â”œâ”€â”€ babel-plugin-wrap-source.jsâ”‚ â”œâ”€â”€ babel-plugin-wrap.jsâ”‚ â”œâ”€â”€ build.logâ”‚ â”œâ”€â”€ dist.jsâ”‚ â”œâ”€â”€ dllâ”‚ â”œâ”€â”€ server.jsâ”‚ â”œâ”€â”€ ssr-middleware.jsâ”‚ â”œâ”€â”€ theme.config.jsâ”‚ â”œâ”€â”€ webpack.config.common.jsâ”‚ â”œâ”€â”€ webpack.config.dll.jsâ”‚ â””â”€â”€ webpack.config.prod.jsâ”œâ”€â”€ dist # æ‰“åŒ…å¥½çš„æ–‡ä»¶â”‚ â”œâ”€â”€ cssâ”‚ â”œâ”€â”€ index.htmlâ”‚ â””â”€â”€ jsâ”œâ”€â”€ package-lock.jsonâ”œâ”€â”€ package.jsonâ”œâ”€â”€ srcâ”‚ â”œâ”€â”€ assets # æ”¾ä¸€äº›é™æ€èµ„æºï¼Œå¦‚ å…¨å±€ä¸€äº› less æ–‡ä»¶ç­‰â”‚ â”œâ”€â”€ common # å…¬å…±æ–‡ä»¶ï¼Œ å¦‚ config request utils ç­‰â”‚ â”œâ”€â”€ components # é€šç”¨ç»„ä»¶, å¦‚ editor loading ç­‰ï¼Œç”¨äº† antd ä¹‹åŽï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹çš„æ–‡ä»¶è¾ƒå°‘â”‚ â”œâ”€â”€ index-ssr.jsâ”‚ â”œâ”€â”€ index.js # é¡¹ç›®å…¥å£æ–‡ä»¶â”‚ â”œâ”€â”€ mock # mockæ–‡ä»¶â”‚ â”œâ”€â”€ modules # ä¸šåŠ¡é¡µé¢æ–‡ä»¶å¤¹ ä»£ç çš„ç»å¤§éƒ¨åˆ†æ”¾åœ¨æ­¤å¤„â”‚ â””â”€â”€ activity # ä¸šåŠ¡é¡µé¢ æ¯ä¸ªä¸šåŠ¡é¡µé¢èµ·ä¸€ä¸ªæ–‡ä»¶å¤¹â”‚ â”œâ”€â”€ index.js # å½“å‰é¡µé¢çš„è·¯ç”±åŠåŠ¨æ€åŠ è½½æ–‡ä»¶çš„é…ç½®æ–‡ä»¶â”‚ â”œâ”€â”€ model.js # å½“å‰é¡µé¢çš„ dva modelâ”‚ â”œâ”€â”€ businessUtil.js # â”‚ â””â”€â”€ view # å½“å‰é¡µé¢çš„ view æ–‡ä»¶â”‚ â””â”€â”€ index.jsâ”‚ â”œâ”€â”€ router.js # æ€»è·¯ç”±å…¥å£â”‚ â””â”€â”€ services # åŽå°æŽ¥å£æœåŠ¡â””â”€â”€ webpack.config.js # webpack é…ç½® é¡¹ç›®å‰–æžindex.jså’Œå…¶ä»–é¡¹ç›®ä¸€æ · index.js å¤„ç†çš„ä¸œè¥¿å¾ˆç®€å• è¿›è¡Œä¸€äº›å…³äºŽ dva çš„é…ç½®åˆå§‹åŒ– åŠ è½½é…ç½®app model require(modules/app/model) åŠ è½½é…ç½®app router require(&#39;./router&#39;).default &amp;&amp;&amp;&amp;&amp;&amp;&amp; å¯åŠ¨åº”ç”¨ è¿™é‡Œå°±å¼•å‡ºä¸¤ä¸ªåˆ†æ”¯ï¼Œ model &amp;&amp; router å‰ç«¯æž¶æž„ä¸­æ¯”è¾ƒå…³å¿ƒçš„ä¸¤ä¸ªã€‚ router ç®¡ç†åœ¨ router.js é‡Œé¢ å®šä¹‰äº†ä¸» Component ä¸Žé»˜è®¤ url router.childRoutes ä¹Ÿæ˜¯ä½¿ç”¨æ¨¡å—çš„æ–¹å¼ï¼Œåªå¼•ç”¨äº†å‡ ä¸ªå¤§æ¨¡å—ï¼Œå¦‚ require(&#39;modules/activity&#39;)(app), 1234567891011121314151617const Routers = function (&#123; history, app &#125;) &#123; const routes = getRoutes(app); return &lt;Router history=&#123;history&#125; routes=&#123;routes&#125; render=&#123;applyRouterMiddleware(useScroll())&#125; /&gt;;&#125;;function getRoutes(app) &#123; return [ &#123; path: '/', component: App, childRoutes: [ require('modules/activity')(app), ], &#125;, ];&#125; åœ¨ modules/activity/index.js å†åŽ»åŠ è½½æž„å»ºä»–çš„å­çº§è·¯ç”± 1234567891011121314export default app=&gt;(&#123; path: 'url', getComponent (nextState, cb) &#123; require.ensure([], (require) =&gt; &#123; app.model(require('./model')); // åŠ è½½å½“å‰æ¨¡å—çš„model cb(null, require('./view')); // è®°è½½å½“å‰æ¨¡å—çš„view &#125;, 'æ¨¡å—å'); &#125;, childRoutes:[ require('modules/child1')(app), require('modules/child2')(app) ], ...å…¶ä»–é…ç½®&#125;) å°±è¿™æ ·ä¸€å±‚ä¸€å±‚çš„æž„å»ºè‡ªå·±çš„è·¯ç”±ï¼Œ æ ¹æ®é¡µé¢åŽ»é…ç½®ä¹Ÿå¯ä»¥æ›´åŠ çš„ç»†è…»å¯æŽ§ã€‚ä¸ä¼šå†™æˆé•¿é•¿çš„ä¸€å¨ã€‚ modelmodelå±‚ç”¨çš„æ˜¯ dva é‚£å¥—ï¼Œ å¸®æˆ‘ä»¬æ•´åˆäº† redux, redux-sage and react-router ååˆ†è¶…çº§å¥½ç”¨ã€‚ è¿™é‡Œåªæ˜¯æŠŠç›®å½•ç»“æž„ä¹Ÿè°ƒæ•´ä¸º é¡µé¢çº§åˆ«é‡Œé¢ï¼Œä¸Žé¡µé¢çš„ è·¯ç”±é…ç½®åŒçº§ã€‚ ä¹Ÿæ˜¯å‡ºäºŽæ›´å¥½çš„å®šä½é—®é¢˜ä¸Žç»´æŠ¤ã€‚ ä¸€èˆ¬ä¸Žmodel ç›¸å…³çš„æ–‡ä»¶è¿˜æœ‰å„ä¸ªé¡µé¢çº§åˆ«æ–‡ä»¶å¤¹ï¼ˆå³modules/activity)é‡Œé¢çš„ businessUtil.js æ–‡ä»¶ã€‚ è¿™ä¸ªæ–‡ä»¶ä¸»è¦ç”¨æ¥è¾…åŠ©å¤„ç†ä¸€äº›å’Œ model æœ‰å…³çš„äº‹æƒ…ï¼Œä¸€èˆ¬ä¼šæœ‰ä¸‰ä¸ªæ–¹æ³• export { getInitState, convertProps2Params, convertParams2Props }ã€‚ åˆ†åˆ«å¤„ç† åˆå§‹åŒ–state, server ç«¯æ•°æ®ä¸Žç»„ä»¶ props ä¹‹é—´çš„å·®å¼‚è½¬æ¢ã€‚ mock æ•°æ®mock æ•°æ®ï¼Œç”¨äº† dva è‡ªå¸¦çš„é‚£å¥—ã€‚ æˆ‘ä»¬å¹³æ—¶å†™æŽ¥å£çš„æ—¶å€™ï¼Œä¼šåœ¨ services/ ä¸‹é¢èµ·ä¸€ä¸ªæ–‡ä»¶ é‡Œé¢å¸¦æœ‰æŸä¸ªæŽ¥å£åœ°å€ ç”¨æ¥è¯·æ±‚æ•°æ®æŽ¥å£çš„ç„¶åŽåœ¨ mock/ ä¸‹é¢ä¹Ÿä¼šèµ·ä¸€ä¸ªæ–‡ä»¶ ç›¸åŒçš„ä¹Ÿä¼šå¸¦æœ‰ä¸€ä¸ªæŽ¥å£åœ°å€è¿™æ ·æˆ‘ä»¬å¦‚æžœè¿™ä¸ªæŽ¥å£åœ°å€æ”¹å˜ï¼Œå²‚ä¸æ˜¯è¦æ”¹ä¸¤ä¸ªåœ°æ–¹ï¼Ÿ ä¸ºæ­¤ï¼Œæˆ‘ä»¬åœ¨ services/ ä¸‹é¢çš„æ–‡ä»¶ï¼Œåªæ˜¯ç®€å•çš„å†™äº†ä¸€äº›åŽŸå§‹æ•°æ®ï¼Œå¦‚ url, method ç­‰ services/feature1123456//@wrapFunction: common/request// @1 ä¸Šé¢é‚£è¡Œæ³¨é‡Šæ˜¯å¹²ä»€ä¹ˆç”¨çš„å‘¢ï¼Ÿexport default &#123; url:'api/feature1', method:'POST'&#125; è¿™æ ·åœ¨ mock/ ä¸‹é¢å°±å¯ä»¥ç›´æŽ¥å¼•å…¥ services/feature1 å°±å¯ä»¥æ‹¿åˆ°ç›¸åŒçš„urlï¼Œ æŽ¥å£åœ°å€æ”¹åŠ¨çš„è¯ä¹Ÿåªéœ€è¦æ”¹åŠ¨ services ä¸‹çš„æ–‡ä»¶ã€‚ ä½†æ˜¯å¦‚æžœåªæ˜¯ç®€å•çš„è¿”å›žä¸€äº›åŽŸå§‹æ•°æ®ï¼Œé‚£å’Œä¸€ä¸ª config æ–‡ä»¶æœ‰ä½•åŒºåˆ«ï¼Œè¿™æ ·å®Œå…¨æ²¡æœ‰æ”¾åœ¨ services ä¸‹é¢çš„å¿…è¦å•Šã€‚ã€‚ã€‚ æ‰€ä»¥æˆ‘ä»¬ç”¨äº†ä¸€è¡Œæ³¨é‡Šæ¥åšä¸€äº›æ“ä½œ å¤§æ¦‚çš„åŽŸç†æ˜¯ å†™äº†ä¸€ä¸ª babel æ’ä»¶ï¼Œç”¨æ¥å¤„ç†ä¸€äº›æ“ä½œã€‚å¦‚æžœåŒ¹é…åˆ° //@wrapFunction: åˆ™ç”¨åŽé¢çš„é“¾æŽ¥ require ä¸€ä¸ªæ–¹æ³•æ¥åŒ…ç€é¡µé¢ä¸Šçš„ä»£ç ã€‚ è¿™æ ·å°±èƒ½èµ·åˆ°ï¼Œå‰ç«¯è·‘ä»£ç çš„æ—¶å€™ feature1 æ˜¯ä¸€ä¸ªæŽ¥å£åŠŸèƒ½çš„æ–‡ä»¶ï¼Œ mock çš„æ—¶å€™æ˜¯ä¸€ä¸ªå•çº¯çš„æ•°æ®è¾“å‡ºæ–‡ä»¶. babel æ’ä»¶è‡ªåŠ¨å¤„ç† services/*.jsåœ¨ä¸Šé¢ä¸€å°èŠ‚è®²åˆ°æˆ‘ä»¬ç”¨ babelæ’ä»¶æ¥å¤„ç†å·®å¼‚åŒ–ï¼Œè¿™é‡Œæˆ‘ä»¬å…·ä½“è®²ä¸€ä¸‹æ˜¯æ€Žä¹ˆå¤„ç†çš„ å› ä¸ºé¡¹ç›®ç”¨çš„æ˜¯ roadhog æ­å»ºçš„ï¼Œ æ‰€ä»¥æˆ‘ä»¬åœ¨ .roadhogrc.js é‡Œé¢é…ç½®ä¸€ä¸‹ babel æ’ä»¶ï¼Œå¼•è¿›è‡ªå·±æ’ä»¶çš„æ–‡ä»¶ã€‚ è¿™é‡Œæˆ‘ä»¬çš„æ’ä»¶æ”¾ç½®åœ¨ /config/babel-plugin-wrap.js; åœ¨ services/*.js é‡Œé¢æ·»åŠ ä¸€è¡Œæ³¨é‡Šä»£ç ç”¨ä½œ babel è¯†åˆ«çš„æ ‡è¯† åˆ¤æ–­é¡µé¢ä¸Šæœ‰æ— å¯¹åº”æ³¨é‡Š èŽ·å–æ³¨é‡Šä¸Žç›®æ ‡è·¯å¾„ï¼Œ æŠŠexport default çš„è¾“å‡ºç”¨å‡½æ•°è°ƒç”¨è¡¨è¾¾å¼æ›¿æ¢æŽ‰ å…·ä½“çš„ babelæ’ä»¶ç¼–å†™æ–¹å¼å¯ä»¥çœ‹å®˜ç½‘ https://babeljs.cn/docs/plugins/ äº†è§£ç¼–è¯‘å™¨åŽŸç†å¯ä»¥å‚è€ƒ ä¸Šä¸€ç¯‡æ–‡ä¸€æ­¥æ­¥å®žçŽ°æžç®€ç¼–è¯‘å™¨ â€”â€” äº†è§£ç¼–è¯‘å™¨åŽŸç† ç»“è¯­å‰©ä¸‹çš„ dll æ‰“åŒ…ï¼Œ ssr ä»¥åŽæœ‰ç”¨åˆ°å†åŽ»äº†è§£ã€‚emmm æœ€è¿‘é˜¿é‡Œåˆšå‡ºäº†ä¸€ä¸ª umiJs æƒ³èµ·çŸ¥ä¹Žä¸Šä¸€ä¸ªè¯„ä»· ç”¨è¿™ä¸€æ—¶çˆ½ æ”¹èµ·æ¥ç«è‘¬åœºã€‚åœ¨ç”¨ antd-pro çš„æ—¶å€™å°±æ·±æœ‰ä½“ä¼šäº†ã€‚ æ‰€ä»¥å»ºè®®å¦‚æžœä¸æ˜¯æ¯”è¾ƒå°çš„é¡¹ç›®æˆ–è€…çµæ´»æ€§è¦æ±‚é«˜çš„é¡¹ç›®ï¼Œ è¿˜æ˜¯ä¸è¦ä¸Š antd-proçš„å¥½ã€‚ã€‚ã€‚]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆ’æ°´]]></title>
    <url>%2F2018%2F02%2F%E5%88%92%E6%B0%B4%2F</url>
    <content type="text"><![CDATA[2.21 ã€Šæ•°å­¦ä¹‹ç¾Žã€‹2.10 ã€Šæ°´å½¢ç‰©è¯­ã€‹2.11 ã€Šè‡³æš—æ—¶åˆ»ã€‹5.19 ã€Šcssä¸–ç•Œã€‹5.21 ã€Šç™½é‡‘æ•°æ®ã€‹5.22 ã€Šhttpå°ä¹¦ã€‹]]></content>
      <categories>
        <category>live</category>
      </categories>
      <tags>
        <tag>book</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸€æ­¥æ­¥å®žçŽ°æžç®€ç¼–è¯‘å™¨ â€”â€” äº†è§£ç¼–è¯‘å™¨åŽŸç†]]></title>
    <url>%2F2018%2F01%2F%E4%B8%80%E6%AD%A5%E6%AD%A5%E5%AE%9E%E7%8E%B0%E6%9E%81%E7%AE%80%E7%BC%96%E8%AF%91%E5%99%A8-%E2%80%94%E2%80%94-%E4%BA%86%E8%A7%A3%E7%BC%96%E8%AF%91%E5%99%A8%E5%8E%9F%E7%90%86%2F</url>
    <content type="text"><![CDATA[welcomeä»Šå¤©åœ¨çœ‹ babel çš„æ—¶å€™ï¼Œæ— æ„ä¸­è¢«å¼•åˆ°ä¸€ä¸ªå¤–é“¾ å…³äºŽç¼–è¯‘å™¨çš„ä¼˜ç§€/ç®€å•çš„æ•™ç¨‹ï¼Œè¯·æŸ¥çœ‹ the-super-tiny-compiler ï¼ŒåŒæ—¶å®ƒä¹Ÿä»Žå®è§‚è§’åº¦ä¸Šè§£é‡Šäº† Babel æœ¬èº«æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚ è§‰å¾—æŒºæ„Ÿå…´è¶£çš„ï¼ŒåŠ ä¸Šä»£ç ä¹Ÿä¸å¤šï¼Œå°±è·Ÿç€æ€è·¯è‡ªå·±ç†è§£æ•²äº†ä¸€éã€‚ æœ¬æ–‡ä¸»è¦æ˜¯å¸®åŠ©ç†è§£ç¼–è¯‘å™¨çš„åŽŸç† ä¸åšè¿‡å¤šçš„å…¶ä»–æ‰©å±• ç¼–è¯‘å™¨çš„åŸºæœ¬ç»„æˆä¸€èˆ¬ç®€å•çš„ç¼–è¯‘å™¨å¯ä»¥ç”±ä»¥ä¸‹å‡ éƒ¨åˆ†ç»„æˆ: tokenizer è¯æ³•åˆ†æžå™¨ æŠŠä»£ç æˆ–æ–‡æœ¬æŒ‰ç±»åž‹åˆ†å¼€ï¼Œè¿”å›ž: tokens parser è¯­æ³•å‰–æžå™¨ å¯¹åˆ†æžåŽçš„æ–‡æœ¬æŒ‰ç…§è¯­æ³•åˆ†æžè½¬æ¢æˆ æŠ½è±¡è¯­æ³•æ ‘ è¿”å›žï¼šast transformer è¯­æ³•è½¬æ¢å™¨ æŠŠè¯­æ³•å‰–æžåŽçš„æŠ½è±¡è¯­æ³•æ ‘è½¬æ¢æˆæˆ‘ä»¬æƒ³è¦çš„: newAst codeGenerator ä»£ç ç”Ÿæˆå™¨ æŠŠAST è½¬æ¢ä¸º ç›®æ ‡ä»£ç  babel åˆå§‹é˜¶æ®µå¹¶æ²¡æœ‰åšä»»ä½•äº‹ï¼ŒåŸºæœ¬ä¸Šç­‰äºŽ const babel = code=&gt; code;å…ˆ tokenizerï¼Œ parser è§£æžä»£ç ï¼Œå† transformer çš„æ—¶å€™ï¼Œå®Œå…¨ä¸æ”¹åŠ¨åŽŸæ¥çš„ ast æŽ¥ä¸‹æ¥ä»¥æœ€ç®€å•çš„ç¼–è¯‘å™¨ç»„æˆ ä¸€ä¸ªçŽ¯èŠ‚ä¸€ä¸ªçŽ¯èŠ‚èµ°ä¸‹åŽ» tokenizer è¯æ³•åˆ†æžå™¨è¯æ³•åˆ†æžå™¨å…¶å®žå¯ä»¥ç†è§£ä¸ºç®€å•çš„å°†æ–‡æœ¬åˆ‡å‰²ï¼Œç„¶åŽå°†æœ‰ä»·å€¼çš„æŒ‰ç…§ç›¸é‚»åŒç­‰ç±»åž‹çš„ æ–‡æœ¬ç»„åˆä¸€èµ·è¾“å‡ºã€‚ps:æ— ä»·å€¼æŒ‡å¯¹ä»£ç ç”Ÿæˆæ²¡æœ‰å½±å“çš„éƒ¨åˆ†ï¼Œæ¯”å¦‚jsé‡Œé¢éžæ–‡æœ¬ ä¸€ä¸ªç©ºæ ¼å’Œä¸€ç™¾ä¸ªç©ºæ ¼å¯¹ç¼–è¯‘å™¨æ¥è¯´æ˜¯æ²¡æœ‰åŒºåˆ«çš„ å®žçŽ°æ€è·¯ï¼š æœ‰ä¸€ä¸ªå€¼å­˜ç€å½“å‰çš„å…‰æ ‡ current æœ‰ä¸€ä¸ªæ•°ç»„ç”¨æ¥å­˜æ”¾æŒ‰ç±»åž‹åˆ†å‡ºæ¥çš„å€¼ tokens å¯¹æ–‡æœ¬è¿›è¡Œå¾ªçŽ¯ï¼Œ å– current çš„å€¼åš åˆ†ç±»åž‹å¤„ç† ( ) ç©ºæ ¼ æ•°å­— å­—ç¬¦ä¸² æ–¹æ³•å å°†å¤„ç†åŽçš„å€¼å­˜è¿›æ•°ç»„ token å¹¶è¿”å›ž tokenizer123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778function tokenizer(input) &#123; let current = 0; const tokens = []; while (current &lt; input.length) &#123; let char = input[current]; if (char === "(" || char === ")") &#123; tokens.push(&#123; type: 'paren', value: char &#125;); current++; continue; &#125; const WHITESPACE = /\s/; if (WHITESPACE.test(char)) &#123; current++; continue; &#125; const LETTERS = /[a-z]/i; if (LETTERS.test(char)) &#123; let name = ""; while (LETTERS.test(char)) &#123; name += char; current++; char = input[current]; &#125; tokens.push(&#123; type: 'name', value: name &#125;); continue; &#125; const NUMBERS = /[0-9]/; if (NUMBERS.test(char)) &#123; let numbers = ""; while(NUMBERS.test(char)) &#123; numbers += char; current++; char = input[current]; &#125; tokens.push(&#123; type: 'number', value: numbers &#125;); continue; &#125; if (char === '"') &#123; let string = ''; current++; char = input[current]; while(char !== '"') &#123; string += char; current++; char = input[current]; &#125; tokens.push(&#123; type: 'string', value: string &#125;); current++; continue; &#125; throw new TypeError('ä¸çŸ¥é“ä½ è¾“å…¥çš„æ˜¯ä»€ä¹ˆé¬¼ä¸œè¥¿ ' + char); &#125; return tokens;&#125; 123456789101112131415const input = '(add 2 (subtract 4 2 "djwaqp"))';tokenizer(input);// è¾“å‡º/*[&#123; type: 'paren', value: '(' &#125;,&#123; type: 'name', value: 'add' &#125;,&#123; type: 'number', value: '2' &#125;,&#123; type: 'paren', value: '(' &#125;,&#123; type: 'name', value: 'subtract' &#125;,&#123; type: 'number', value: '4' &#125;,&#123; type: 'number', value: '2' &#125;,&#123; type: 'string', value: 'djwaqp' &#125;,&#123; type: 'paren', value: ')' &#125;,&#123; type: 'paren', value: ')' &#125;];*/ parserè¯­æ³•å‰–æžå™¨å°±æ˜¯æŠŠ tokens è§£æžï¼Œè½¬åŒ–ä¸ºæŠ½è±¡è¯­æ³•æ ‘(AST)ðŸŒ²ðŸŒ²ðŸŒ²ï¼Œæ–¹ä¾¿åŽç»­çš„å¤„ç†ã€‚ 1[&#123; type: 'paren', value: '(' &#125;, ...] =&gt; &#123; type: 'Program', body: [...] &#125; å®žçŽ°æ€è·¯ï¼š é¦–å…ˆä¹Ÿè¦æœ‰ä¸€ä¸ª current å¯¹ tokens è¿›è¡ŒéåŽ†ï¼Œæ¯ä¸€é¡¹ token è¿›è¡Œåˆ†æžå¤„ç† æœ‰ä¸€æ£µæ ‘ï¼Œé¡¶çº§ç»“æž„ä¸º {type: &#39;Program&#39; , body: [...]} æ ¹æ® token.type è¿›è¡Œç›¸åº”çš„å½’ç±»å¤„ç†: numberï¼š ç›´æŽ¥è¿”å›ž {type: &#39;NumberLiteral&#39;, value, } stringï¼š ç›´æŽ¥è¿”å›ž {type: &#39;StringLiteral&#39;, value, } paren ( ï¼š å¯¹ä¸‹ä¸€ä¸ªè¿›è¡Œé€’å½’ï¼Œç›´åˆ°å‡ºçŽ° paren ) å°†å¤„ç†åŽçš„ ast è¿”å›ž parser12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152function parser(tokens) &#123; let current = 0; const ast = &#123; type: 'Program', body: [] &#125;; function walk() &#123; let token = tokens[current]; if (token.type === 'number') &#123; current ++; return &#123; type: 'NumberLiteral', value: token.value &#125; &#125; if (token.type === 'string') &#123; current ++; return &#123; type: 'StringLiteral', value: token.value &#125; &#125; if (token.type === 'paren' &amp;&amp; token.value === '(') &#123; token = tokens[++current]; let node = &#123; type: "CallExpression", name: token.value, params: [] &#125; token = tokens[++current]; while ((token.type !== 'paren') || (token.type === 'paren' &amp;&amp; token.value !== ')')) &#123; node.params.push(walk()); token = tokens[current]; &#125; current++; return node; &#125; throw new TypeError(token.type); &#125; while(current &lt; tokens.length) &#123; ast.body.push(walk()); &#125; return ast;&#125; 12345678910111213141516171819202122232425262728293031323334353637input:[&#123; type: 'paren', value: '(' &#125;,&#123; type: 'name', value: 'add' &#125;,&#123; type: 'number', value: '2' &#125;,&#123; type: 'paren', value: '(' &#125;,&#123; type: 'name', value: 'subtract' &#125;,&#123; type: 'number', value: '4' &#125;,&#123; type: 'number', value: '2' &#125;,&#123; type: 'string', value: 'djwaqp' &#125;,&#123; type: 'paren', value: ')' &#125;,&#123; type: 'paren', value: ')' &#125;]=&gt;output:&#123; "type": "Program", "body": [&#123; "type": "CallExpression", "name": "ADD", "params": [&#123; "type": "NumberLiteral", "value": "2" &#125;, &#123; "type": "CallExpression", "name": "subtract", "params": [&#123; "type": "NumberLiteral", "value": "4" &#125;, &#123; "type": "NumberLiteral", "value": "2" &#125;, &#123; "type": "StringLiteral", "value": "djwaqp" &#125;] &#125;] &#125;]&#125; transformertransformer é¡¾åæ€ä¹‰ï¼Œä¸ºè½¬æ¢éƒ¨åˆ†ï¼Œæœ€å¤æ‚ ä¹Ÿæœ€å¸¸ç”¨ã€‚.babelrc æ·»åŠ çš„æ’ä»¶ï¼Œä¹Ÿåªæ˜¯åœ¨è¿™ä¸ªçŽ¯èŠ‚è¿›è¡Œæ“ä½œï¼Œå°†åŽŸæœ¬çš„ ast( es6 ) è½¬æ¢ä¸ºç›®æ ‡çš„ newAst (es5)ã€‚ 1ast &#123; type: 'Program', body: [...] &#125; =&gt; newAst &#123; type: 'Program', body: [...] &#125; å®žçŽ°æ€è·¯ï¼š é¦–å…ˆï¼Œè¦æœ‰ä¸€é¢—æ ‘ï¼Œå’Œ ast ä¸€æ ·ã€‚ é¡¶çº§ç»“æž„ä¸º { type: &#39;Program&#39;, body: [...] } åœ¨ ast ä¸Šå»ºä¸€ä¸ªå¼•ç”¨_contextåˆ° newAst.body; å¯¹ ast æ ‘è¿›è¡Œå¤„ç†, ç›´æŽ¥å¤„ç† _context å¯¹ ast ä¸Š æ¯ä¸ªç±»åž‹éƒ½åš enter å¤„ç†ä¸Ž exitå¤„ç†çš„é’©å­ Number æˆ– String ç›´æŽ¥å¤„ç†å¹¶æ·»åŠ åˆ°æ ‘èŠ‚ç‚¹ä¸Šå³å¯ CallExpression åˆ™è¦åˆ›å»ºä¸€ä¸ªæ•°ç»„åŽ»å­˜å‚æ•° å¯¹ç±»åž‹ä¸ºï¼šProgram æˆ– CallExpression å¯¹å­çº§è¿›è¡Œ é€’å½’ 4 å¤„ç† å°†å¤„ç†åŽçš„ newAst è¿”å›ž transformer éƒ¨åˆ†1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495function traverser(node, visitor) &#123; function traverseArray(nodeArr, parent) &#123; nodeArr.forEach(child =&gt; traverseNode(child, parent)); &#125; function traverseNode(node, parent) &#123; const methods = visitor[node.type]; if (methods &amp;&amp; methods.enter) &#123; methods.enter(node, parent); &#125; switch (node.type) &#123; case 'Program': traverseArray(node.body, node); break; case 'CallExpression': traverseArray(node.params, node); break; case 'NumberLiteral': case 'StringLiteral': break; default: throw new TypeError(node.type); &#125; if (methods &amp;&amp; methods.exit) &#123; methods.exit(node, parent); &#125; &#125; traverseNode(node, null);&#125;function transformer(ast) &#123; const newAst = &#123; type: 'Program', body: [] &#125;; ast._context = newAst.body; traverser(ast, &#123; NumberLiteral: &#123; enter(node, parent) &#123; parent._context.push(&#123; type: 'NumberLiteral', value: node.value &#125;); &#125; &#125;, StringLiteral: &#123; enter(node, parent) &#123; parent._context.push(&#123; type: 'StringLiteral', value: node.value, &#125;); &#125; &#125;, CallExpression: &#123; enter(node, parent) &#123; let expression = &#123; type: 'CallExpression', callee: &#123; type: 'Identifier', name: node.name &#125;, arguments: [] &#125; node._context = expression.arguments; if (parent.type !== 'CallExpression') &#123; expression = &#123; type: 'ExpressionStatement', expression: expression &#125; &#125; parent._context.push(expression); &#125; &#125; &#125;); return newAst;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960input:&#123; "type": "Program", "body": [&#123; "type": "CallExpression", "name": "ADD", "params": [&#123; "type": "NumberLiteral", "value": "2" &#125;, &#123; "type": "CallExpression", "name": "subtract", "params": [&#123; "type": "NumberLiteral", "value": "4" &#125;, &#123; "type": "NumberLiteral", "value": "2" &#125;, &#123; "type": "StringLiteral", "value": "djwaqp" &#125;] &#125;] &#125;]&#125;=&gt;output:&#123; "type": "Program", "body": [&#123; "type": "ExpressionStatement", "expression": &#123; "type": "CallExpression", "callee": &#123; "type": "Identifier", "name": "ADD" &#125;, "arguments": [&#123; "type": "NumberLiteral", "value": "2" &#125;, &#123; "type": "CallExpression", "callee": &#123; "type": "Identifier", "name": "subtract" &#125;, "arguments": [&#123; "type": "NumberLiteral", "value": "4" &#125;, &#123; "type": "NumberLiteral", "value": "2" &#125;, &#123; "type": "StringLiteral", "value": "djwaqp" &#125;] &#125;] &#125; &#125;]&#125; codeGeneratoræœ€åŽä¸€æ­¥å°±æ˜¯ codeGeneratorï¼Œ ç”¨ newAst é€’å½’è°ƒç”¨ï¼Œæ ¹æ® node ä¸Žä¸€ç³»åˆ—è§„åˆ™åŽ»ç”Ÿæˆä¸€ä¸ª stringã€‚ 1newAst &#123; type: 'Program', body: [...] &#125; =&gt; call(argumentsA, ...argumentsN); å®žçŽ°æ€è·¯ï¼š æ ¹æ® node.type åšå¯¹åº”é€»è¾‘ï¼š Program =&gt; å¯¹ node.body è¿›è¡Œé€’å½’ ExpressionStatement=&gt; å¯¹ node.expression è¿›è¡Œå¤„ç† CallExpression =&gt; å¯¹ node.callee ä¸Ž node.arguments è¿›è¡Œå¤„ç† Identifier &amp;&amp; NumberLiteral &amp;&amp; StringLiteral ç›´æŽ¥è¿”å›žå¯¹åº”çš„å­—æ®µ codeGenerator123456789101112131415161718192021222324function codeGenerator(node) &#123; switch (node.type) &#123; case 'Program': return node.body.map(codeGenerator).join('\n'); case 'ExpressionStatement': return codeGenerator(node.expression) + ';'; case 'CallExpression': return (codeGenerator(node.callee) +'(' + node.arguments.map(codeGenerator).join(', ') + ')'); case 'Identifier': return node.name; case 'NumberLiteral': return node.value; case 'StringLiteral': return '"' + node.value + '"'; default: throw new TypeError(node.type); &#125;&#125; 12345678910111213141516171819202122232425262728293031323334353637input:&#123; "type": "Program", "body": [&#123; "type": "ExpressionStatement", "expression": &#123; "type": "CallExpression", "callee": &#123; "type": "Identifier", "name": "ADD" &#125;, "arguments": [&#123; "type": "NumberLiteral", "value": "2" &#125;, &#123; "type": "CallExpression", "callee": &#123; "type": "Identifier", "name": "subtract" &#125;, "arguments": [&#123; "type": "NumberLiteral", "value": "4" &#125;, &#123; "type": "NumberLiteral", "value": "2" &#125;, &#123; "type": "StringLiteral", "value": "djwaqp" &#125;] &#125;] &#125; &#125;]&#125;=&gt; output:add(2, subtract(4, 2, "djwaqp")); compilerè‡³æ­¤ï¼Œç¼–è¯‘å™¨æ‰€éœ€çš„å‡ ä¸ªæ­¥éª¤ï¼š è¯æ³•åˆ†æžï¼Œè§£æžï¼Œè½¬æ¢ï¼Œç”Ÿæˆéƒ½å·²ç»å®Œæˆã€‚ compiler123456789function compiler(input) &#123; const tokens = tokenizer(input); const ast = parser(tokens); const newAst = transformer(ast); const output = codeGenerator(newAst); return output;&#125;const input = '(add 2 (subtract 4 2 "djwaqp"))';const output = compilter(input); // 'add(2, subtract(4, 2, "djwaqp"));' babelbabel çš„å·¥ä½œåŽŸç†å¯ä»¥ç†è§£æˆå°±æ˜¯ä¸€ä¸ªç®€å•çš„ç¼–è¯‘å™¨ï¼šåˆ†æž =&gt; è½¬æ¢ =&gt; ç”Ÿæˆä»£ç  bable çš„ç¯‡å¹…å¤ªå¤šï¼Œä¸‹é¢ç›´æŽ¥ç»™å‡º demoæºç ã€‚å…·ä½“å¯ä»¥çœ‹ å®˜æ–¹æ’ä»¶æ‰‹å†Œ babel-handbook æˆ‘ä»¬å†™çš„babel æ’ä»¶ï¼Œéƒ½æ˜¯åœ¨è½¬æ¢çš„éƒ¨åˆ†è¿è¡Œè‡ªå®šä¹‰æ’ä»¶ babel-plugin-jsonz12345678910111213141516171819const t = require('babel-types');module.exports= function() &#123; // plugin contents return &#123; visitor: &#123; // visitor contents BinaryExpression(path, state) &#123; // å¦‚æžœæ“ä½œç¬¦ä¸æ˜¯ === åˆ™è¿”å›ž if (path.node.operator !== '===') &#123; return; &#125; // æ“ä½œç¬¦çš„å·¦è¾¹æ›¿æ¢ä¸º sebmck, å³è¾¹æ›¿æ¢ä¸º dork path.node.left = t.identifier('"sebmck"'); path.node.right = t.identifier('"dork"'); &#125; &#125; &#125;;&#125;; ç›®æ ‡ä»£ç ./src/test1.js123function demo() &#123; return 1===2;&#125; å®‰è£…ç›¸å…³ä¾èµ–:npm i babel-cli babel-types --save-dev è¿è¡Œè„šæœ¬: babel src/ -d build/ ç”ŸæˆåŽçš„ä»£ç  ./build/test2.js123function demo() &#123; return "sebmck" === "dork";&#125; æœ€åŽå†æŽ¨ä¸€æ³¢å…³äºŽå­¦ä¹ ä¸­çœ‹åˆ°çš„å¥½ç½‘ç«™ æºç esprima è§£æžè¯­æ³•æ ‘ðŸŒ²AST Exploreraståè¯è§£é‡Šbabel-plugin-handbook]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>github</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµ…æžPromise (ä¸€)]]></title>
    <url>%2F2017%2F12%2F%E6%B5%85%E6%9E%90Promise%2F</url>
    <content type="text"><![CDATA[pptåœ¨æ­¤æºç  å‚ç…§ lie èƒŒæ™¯åœ¨ES6æµè¡Œä¹‹å‰ï¼Œæˆ‘ä»¬å¤„ç†å¼‚æ­¥çš„æ–¹æ³•ä¸€èˆ¬æœ‰ äº‹ä»¶æ¨¡å¼ï¼Œ å›žè°ƒæ¨¡å¼ç­‰ã€‚ äº‹ä»¶æ¨¡å¼ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æˆ–æŒ‰ä¸‹é”®ç›˜ä¸Šçš„æŒ‰é’®ä¼šè§¦å‘ç±»ä¼¼ onClickè¿™æ ·çš„äº‹ä»¶ï¼Œä»–ä¼šå‘ä»»åŠ¡é˜Ÿåˆ—æ·»åŠ ä¸€ä¸ªæ–°ä»»åŠ¡æ¥å“åº”ç”¨æˆ·çš„æ“ä½œã€‚ç›´åˆ°äº‹ä»¶è§¦å‘æ—¶æ‰æ‰§è¡Œäº‹ä»¶å¤„ç†ç¨‹åºï¼Œä¸”æ­£å¸¸æ‰§è¡Œæ—¶ä¸Šä¸‹æ–‡ä¸Žå®šä¹‰æ—¶ç›¸åŒdemo11234let btn = document.getElementById('btn1');btn.onclick = function(event) &#123; console.log(event);&#125; demo212345import iEvent from 'event';iEvent.on('click', function() &#123; console.log(1);&#125;)iEvent.emit('click'); äº‹ä»¶æ¨¡åž‹é€‚ç”¨äºŽå¤„ç†ç®€å•çš„äº¤äº’ï¼Œå¦‚æžœå¤šä¸ªç‹¬ç«‹çš„å¼‚æ­¥è°ƒç”¨è¿žæŽ¥åœ¨ä¸€èµ·ä¼šä½¿åº”ç”¨å˜å¾—æ›´åŠ å¤æ‚ã€‚è€Œä¸”è¦è¿½è¸ªæ¯ä¸ªäº‹ä»¶çš„äº‹ä»¶ç›®æ ‡ï¼Œæ¯”å¦‚ æˆ‘å…ˆç‚¹å‡» btn1 å†ç»™ btn1ç»‘å®šäº‹ä»¶ï¼Œæˆ–è€…å…ˆ emit å† on éƒ½ä¼šä¸èµ·ä½œç”¨ã€‚ å›žè°ƒæ¨¡å¼ä¸ºJavaæ‰“Callä¸ºPHPæ‰“Callä¸ºjavascriptæ‰“CallBack ä¸ºGoæ‰“Callâ€¦ demo1123456789method1(function(data) &#123; method2(function(data) &#123; method3(function(data)) &#123; method4(function(data)) &#123; console.log('é‡‘å­—å¡”'); &#125; &#125; &#125;);&#125;); å›žè°ƒæ¨¡å¼è™½ç„¶æ˜¯jsçš„ä¸€å¤§ç²¾é«“ï¼Œä½†æ˜¯å†™ç€å†™ç€å¯èƒ½ä¼šå› ä¸ºåµŒå¥—å¤ªå¤šçš„å›žè°ƒå‡½æ•°ï¼Œé™·å…¥å›žè°ƒåœ°ç‹± â€”â€” è¶…çº§é‡‘å­—å¡” è€Œä¸”å¦‚æžœè¦å¤„ç†ç±»ä¼¼ ä¸¤ä¸ªæ“ä½œéƒ½æ‰§è¡Œå®Œé€šçŸ¥ä½  æˆ–è€…æœ‰ä¸€ä¸ªæ“ä½œæ‰§è¡Œå®Œå°±é€šçŸ¥ä½  é‚£ä¹ˆæƒ…å†µå¯èƒ½ä¼šå˜å¾—æ¯”è¾ƒéº»çƒ¦ åŸºç¡€çŸ¥è¯†ç®€å•ä½¿ç”¨demo112345678910111213const promise = new Promise((res, rej)=&gt; &#123; setTimeout(function() &#123; const random = Math.random() if ( random&gt; .5) res(random) else rej(random) &#125;, 1000)&#125;)promise.then(val=&gt; (console.log(val), ++val)) .then(val=&gt; console.log(val)) .catch(error=&gt; console.warn(error))// è¾“å‡º random &amp;&amp; random+1 or warn(random) Promise è§„èŒƒ Promise è§„èŒƒæœ‰å¾ˆå¤šï¼Œå¦‚ Promise/Aï¼ŒPromise/Bï¼Œå’ŒPromise/Aå‡çº§ç‰ˆ =&gt; Promise/A+åœ¨è¿™é‡Œç»Ÿä¸€ä¸€ä¸‹ ä»¥ä¸‹æ‰€æœ‰ resolved éƒ½æŒ‡fulfilledã€‚ Promise æœ¬è´¨æ˜¯ä¸€ä¸ªçŠ¶æ€æœºã€‚æ¯ä¸ª promise åªèƒ½æ˜¯ 3 ç§çŠ¶æ€ä¸­çš„ä¸€ç§ï¼špendingã€resolved æˆ– rejectedã€‚çŠ¶æ€è½¬å˜åªèƒ½æ˜¯ pending -&gt; resolved æˆ–è€… pending -&gt; rejectedã€‚çŠ¶æ€è½¬å˜ä¸å¯é€†ã€‚ then æ–¹æ³•å¯ä»¥è¢«åŒä¸€ä¸ª promise è°ƒç”¨å¤šæ¬¡ã€‚ then æ–¹æ³•å¿…é¡»è¿”å›žä¸€ä¸ª æ–° promiseã€‚ ä¸‰ä¸ªçŠ¶æ€ï¼ŒçŠ¶æ€æ˜¯ä¸å¯é€†çš„å¯ä»¥åœ¨ chrome æŽ§åˆ¶å°çœ‹åˆ°å†…éƒ¨å±žæ€§ [[PromiseStatus]] çŠ¶æ€å€¼ pendingï¼š Promiseçš„åˆå§‹çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯æœªè¢«fulfilledæˆ–è€…rejectedçš„çŠ¶æ€ã€‚ resolvedï¼š æ„å‘³ç€promiseä»£æŒ‡çš„æ“ä½œå·²ç»æˆåŠŸå®Œæˆã€‚ rejectedï¼šæ„å‘³ç€promiseä»£æŒ‡çš„æ“ä½œç”±äºŽæŸäº›åŽŸå› å¤±è´¥ã€‚ thenæ‰€æœ‰çš„ Promise éƒ½æœ‰ then(onResolve, onReject) æ–¹æ³•ï¼ŒæŽ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯å½“Promise çŠ¶æ€å˜ä¸º resolved æ—¶è°ƒç”¨çš„å‡½æ•°ï¼Œä¸Žå¼‚æ­¥æ“ä½œç›¸å…³çš„å€¼ä¼šä¼ é€’ç»™è¯¥å‡½æ•°ç¬¬äºŒä¸ªæ˜¯å½“Promise çŠ¶æ€å˜ä¸º rejected æ—¶è°ƒç”¨çš„å‡½æ•°ï¼Œä¸Žå¤±è´¥çŠ¶æ€ç›¸å…³ï¼ˆæŠ¥é”™ï¼‰ä¼šä¼ é€’ç»™è¯¥å‡½æ•° thenæ–¹æ³•å¯ä»¥è¢«åŒä¸ªpromiseè°ƒç”¨å¤šæ¬¡1234const promise = new Promose(res=&gt; res(1))promise.then(val=&gt; console.log(++val))promise.then(val=&gt; console.log(++val))promise.then(val=&gt; console.log(++val)) thenæ–¹æ³•å¿…é¡»è¿”å›žä¸€ä¸ªæ–°çš„promise12345const promise = new Promise(res=&gt; res(1))const promiseA = promise.then(val=&gt; ++val)const promiseB = promiseA.then(val=&gt; ++val)const promiseC = promise.then(val=&gt; ++val)console.log( promiseA == promiseB, promiseC == promiseA, promiseB == promiseC); å› ä¸ºpromiseæ¯æ¬¡éƒ½ä¼šè¿”å›žä¸€ä¸ªæ–°çš„promise æ‰€ä»¥æ”¯æŒé“¾å¼å†™æ³•ï¼Œä¸Šä¸€ä¸ª then çš„è¿”å›žå€¼ä¼šå½“æˆ ä¸‹ä¸€ä¸ªthençš„å‚æ•°thené“¾å¼1new Promose(res=&gt; res(1)).then(val=&gt; ++val).then(val=&gt; ++val).then(val=&gt; ++val) é”™è¯¯æƒ…å†µ åœ¨ Promise(fn) fnæ‰§è¡Œé”™è¯¯ æ¯ä¸ªæ‰§è¡Œå™¨å†…éƒ¨éƒ½éšå«ä¸€ä¸ª try...catch...å—demo11234const promise = new Promise(function(res, rej) &#123; throw new Error('å–µå–µå–µ')&#125;)promise.catch(err=&gt; console.warn(err)) ä»¥ä¸Šä»£ç ç­‰åŒäºŽdemo212345678const promise = new Promise(function(res, rej) &#123; try &#123; throw new Error('å–µå–µå–µ') &#125; catch(ex) &#123; rej(ex) &#125;&#125;)promise.then(null, err=&gt; console.warn(err)) æ­¤å¤„å¯ä»¥çœ‹å‡º promise.catch å…¶å®žæ˜¯ promise.then(null, catchFn) çš„ä¸€ä¸ªè¯­æ³•ç³– then å‡½æ•°å†…éƒ¨é”™è¯¯ demo1123const promise = new Promise(res=&gt; res(1))promise.then(val=&gt; val+val1) .catch(err=&gt; console.warn(err)) è¿™é‡Œå¯ä»¥ç®€å•çš„ç†è§£ä¸º then å†…éƒ¨ä¼šç”Ÿæˆä¸€ä¸ª Promise ç¤ºä¾‹ï¼ŒæŠŠå‡½æ•°ä½“ä¸¢åˆ°Promise é‡ŒåŽ»æ‰§è¡Œï¼Œæ‰§è¡Œå®Œç»“æžœå½“æˆ res æ–¹æ³•çš„å‚æ•°ï¼Œå‡ºé”™åˆ™è°ƒç”¨ rej ä¼ªä»£ç 12345678910const promise = new Promise(res=&gt; res(1))promise.then(val=&gt; new Promise((res, rej)=&gt; &#123; try &#123; res(val + val1) &#125; catch(e) &#123; rej(e); &#125; &#125;)).catch(err=&gt; console.warn(err)) .catch &amp;&amp; then(null, catchFn) ä¸èƒ½å¯¹åŽç»­çš„æŠ¥é”™è¿›è¡Œæ•èŽ· 123456const promise = new Promise(res=&gt; res(1))promise.then(val =&gt; ++val).catch(e=&gt; console.warn(e)).then(val=&gt; console.log(val+val1))// æ­¤å¤„ä¼šæŠ›é”™ï¼Œå› ä¸ºåœ¨æŠ›å‡ºé”™è¯¯ä¹‹åŽ æ²¡æœ‰ä¸€ä¸ª catchæ¥å¤„ç†è¿™ä¸ªé”™è¯¯ æ‰€ä»¥ä¸€èˆ¬ä¼šåœ¨ Promise çš„æœ€æœ«ç«¯æ·»åŠ ä¸€ä¸ª catch å¯¹å‰é¢å¯èƒ½å‡ºçŽ°çš„é—®é¢˜è¿›è¡Œå¤„ç† thenableä¸Šé¢è¯´äº†é‚£ä¹ˆå¤šå…³äºŽ then çš„ä½¿ç”¨ï¼Œå…¶å®žåªè¦å®žçŽ°äº†ä¸Šè¿° then åŠŸèƒ½çš„å¯¹è±¡éƒ½å¯ä»¥å« thenableã€‚æ‰€æœ‰çš„ Promise éƒ½æ˜¯ thenable ä½†æ˜¯ä¸ä¸€å®šæ‰€æœ‰æœ‰then æ–¹æ³•çš„å¯¹è±¡éƒ½å« thenableã€‚12345var thenable = &#123; then: function(res, rej) &#123; res(1) &#125;&#125; è‡³äºŽ thenable æœ‰ä»€ä¹ˆç”¨ è¯·å¾€ä¸‹çœ‹ resolveä¸Šè¿°è¯´åˆ°çš„ Promise ç”¨æ³•ï¼Œéƒ½æ˜¯ åˆ›å»ºä¸€ä¸ªæœªå®ŒæˆçŠ¶æ€ï¼Œæ‰§è¡Œä¸€äº›æ“ä½œä¹‹åŽæ‰ä»Ž pending è½¬å˜ä¸º resolved æˆ– rejectedé‚£ä¹ˆå¯ä»¥ç›´æŽ¥åˆ›å»ºä¸€ä¸ªå®ŒæˆçŠ¶æ€çš„ Promise å—ï¼Ÿ è¿™é‡Œå°±è¦ç”¨åˆ° é™æ€æ–¹æ³•ä¸Šé¢çš„ resolveã€‚ Promise.resolve(promise); Promise.resolve(thenable); Promise.resolve(object); å‚æ•°ä¸º promise æ—¶ï¼Œè¿”å›žçš„ä¹Ÿæ˜¯è¯¥promisedemo1123const promise = new Promise(()=&gt; &#123;&#125;)const promiseA = Promise.resolve(promise)promise === promiseA å‚æ•°ä¸ºthenable æ—¶ï¼Œè¿”å›žæ ‡å‡†çš„promiseå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æœ‰thenæ–¹æ³•è¿™é‡Œæ˜¯ resolve æ–¹æ³•ç”¨çš„æœ€å¤šçš„åœ°æ–¹äº†å¹³æ—¶å·¥ä½œç”¨åˆ°æœ€å¤šçš„ thenable ææ€•å°±æ˜¯ jQ æˆ– zepto çš„ ajaxé‚£ä¹ˆæˆ‘ä»¬å¦‚æžœè¦æŠŠä»–è½¬ä¸ºæ ‡å‡†çš„ promise æ€Žä¹ˆåŠžå‘¢ï¼Ÿ æ¯”å¦‚ zepto çš„ ajax è¿”å›žçš„å°±æ²¡æœ‰ .catche æ–¹æ³•ï¼Œè€Œæ˜¯ .fail è¿™é‡Œå¦‚æžœæœ‰å¿…è¦ æˆ‘ä»¬å¯ä»¥åšä¸€å±‚å°è£…ï¼ŒæŠŠä»–è½¬å˜ä¸ºæ ‡å‡†çš„æ ¼å¼ æ‹¥æŠ±æœªæ¥ï¼ï¼ï¼demo21234const ajax = $.ajax(&#123; url, data &#125;)Promise.resolve(ajax) .then(response=&gt; &#123;&#125;) .catch(err=&gt; console.warn(err)) å‚æ•°æ˜¯å…¶ä»–å€¼çš„æƒ…å†µï¼Œä¼šè¿”å›žä¸€ä¸ªçŠ¶æ€ä¸º resolved çš„ promiseã€‚ç»ˆå€¼ä¸ºä¼ å…¥çš„å€¼demo312Promise.resolve(&#123;name: "Jsonz"&#125;) .then(val=&gt; console.log("å¸…å“¥æ˜¯ " + val)) rejectPromise.reject ç”¨æ³•ä¸Ž Promise.resolve ç±»ä¼¼ è¿™é‡Œä¸å†èµ˜è¿° å¤šä¸ªæƒ…å†µå¤„ç†å¼€å¤´çš„æ—¶å€™è¯´äº†ï¼Œå¦‚æžœè¦å¤„ç†ä¸¤ä¸ªåŠä»¥ä¸Šçš„å¼‚æ­¥æ“ä½œï¼š å¤šä¸ªéƒ½å®Œæˆæ—¶é€šçŸ¥ä½  æœ‰ä¸€ä¸ªå®Œæˆæ—¶é€šçŸ¥ä½ é‚£ä¹ˆå›žè°ƒå°±æ˜¾å¾—å¾ˆå°´å°¬ï¼Œè¿™é‡Œ Promise æä¾›äº†ä¸¤ä¸ªæ–¹æ³•æ¥æ»¡è¶³ä½ è¿™ç§å°éœ€æ±‚ allä¸šåŠ¡ä¸Šç»å¸¸ä¼šæœ‰æƒ…å†µæ˜¯ è¦ç­‰aæŽ¥å£ä¸ŽbæŽ¥å£çš„æ•°æ®ä¸€èµ·å›žæ¥æ‰åšæ“ä½œ é‚£ä¹ˆå¯ä»¥ç”¨åˆ°é™æ€æ–¹æ³• Promise.all Promise.all ä¼šæŽ¥å—ä¸€ä¸ª Array ç±»ä¼¼çš„å‚æ•°ï¼Œé‡Œé¢æ˜¯Promise ç±»åž‹ï¼Œ è¿”å›žä¸€ä¸ªæ–°çš„Promise è¿™é‡Œå–å PromiseAllå½“æ‰€æœ‰çš„Promise éƒ½å˜æˆ resolved æ—¶ï¼Œä¼šå°† PromiseAll çš„çŠ¶æ€æ”¹ä¸º resolved å‚æ•°ä¸ºæ¯ä¸ª promise çš„ç»ˆå€¼å¦‚æžœæœ‰ä¸€ä¸ªPromise ä¸º rejectedï¼Œ é‚£ä¹ˆ PromiseAll ä¼šç›´æŽ¥å˜ä¸º rejected çŠ¶æ€ å‚æ•°ä¸º é¦–ä¸ªå˜ä¸º rejected çŠ¶æ€çš„é”™è¯¯ä¿¡æ¯ demo1123456789101112const p1 = new Promise(res=&gt; res(1))const p2 = new Promise(res=&gt; res(2))const p3 = new Promise((res, rej)=&gt; rej(2))const p4 = Promise.all([p1, p2]);p4.then(val=&gt; &#123; console.log(Array.isArray(val)) val.forEach(item=&gt; console.log(item))&#125;)const p5 = Promise.all([p1, p3])p5.then(v=&gt; console.log(v), err=&gt; console.log(err)) racePromise.race å¯¹åº”çš„æ˜¯ æœ‰ä¸€ä¸ªå®Œæˆæ—¶é€šçŸ¥ä½  è¿™ç§çŠ¶æ€ï¼Œç”¨æ³•ä¸Žå‚æ•°ä¸Ž all ç±»ä¼¼ä½†æ˜¯ Promise.race çš„å‚æ•°ä¸ºç¬¬ä¸€ä¸ªè½¬ä¸º resolved çŠ¶æ€çš„ç»ˆå€¼ ç»§æ‰¿Promiseæ”¹é€ å¦‚æžœæˆ‘ä»¬è¦å¯¹åŽŸç”Ÿçš„ Promise è¿›è¡Œæ”¹é€ ï¼Œæ¯”å¦‚æ·»åŠ  success() æˆ– failure() æ–¹æ³•ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç›´æŽ¥ç»§æ‰¿ä»–åˆ›å»ºä¸€ä¸ªæ–°çš„ JsonzPromise12345678910class JsonzPromise extends Promise &#123; success(resolve, reject) &#123; return this.then(resolve, reject) &#125; failure(reject) &#123; return this.catch(reject) &#125;&#125;new JsonzPromise((res, rej)=&gt; res(1)) .success(val=&gt; console.log(val)); å…¨å±€çš„rejectedçŠ¶æ€å¤„ç†123456window.onunhandledrejection = function(e) &#123; console.log(e)&#125;window.onrejectionhandled = function(e) &#123; console.log(e)&#125; node åˆ™æ˜¯åœ¨ process ç»‘å®šç›‘å¬æ°®ç´ ï¼ï¼ï¼ï¼ ä¸çŸ¥é“ä¸ºä½•è¿˜æ²¡è·‘è¿‡æˆåŠŸçš„demoâ€¦. åŽè®°emmmmmm è´´å‡ºä¸€äº›æ¯”è¾ƒå¥½çš„æ•™ç¨‹å§ æ·±å…¥ç†è§£ES6 - Promise ç¯‡ç« ](https://www.amazon.cn/dp/B071GW3JDP/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1514389776&amp;sr=1-1&amp;keywords=%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3es6)javascript - Promise è¿·ä½ ä¹¦ Promise/A+ è§„èŒƒä¸­æ–‡ ç¬¬äºŒæœŸå®žçŽ°è‡ªå·±çš„ Promise å‚è€ƒ1 å‚è€ƒ2 å‚è€ƒ3 å‚è€ƒ4]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>github</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[httpä¸Žhttpsæ‚è°ˆ]]></title>
    <url>%2F2017%2F12%2Fhttp%E4%B8%8Ehttps%E6%9D%82%E8%B0%88%2F</url>
    <content type="text"><![CDATA[http &amp;&amp; https https://www.zhihu.com/question/19577317 http://www.alloyteam.com/2016/07/httphttp2-0spdyhttps-reading-this-is-enough/ https://juejin.im/entry/58d7635e5c497d0057fae036 http://www.jianshu.com/p/37654eb66b58 http://www.moserware.com/2009/06/first-few-milliseconds-of-https.html httpsä¼˜ç‚¹http://www.codeceo.com/article/why-http-better-than-https.html SSL/TSL åè®®è¿è¡Œæœºåˆ¶http://www.ruanyifeng.com/blog/2014/02/ssl_tls.html https ä»Žç¬¬ä¸€så‘ç”Ÿçš„äº‹æƒ…http://www.moserware.com/2009/06/first-few-milliseconds-of-https.html å½­å½­çš„æ–‡ç« ï¼Œåè¯è§£é‡Šå™¨http://172.16.30.58:8000/index.php/2017/11/22/http-https-tcp-dns/ è¯´çš„æ˜¯é¡¹ç›®çš„ä¸œè¥¿ ä¸å¤§æ²¾è¾¹http://172.16.30.58:8000/index.php/2017/12/02/local-https-principle/ è¯´çš„æ˜¯ä»£ç†http://172.16.30.58:8000/index.php/2017/11/29/local-https-proxy/ `http ä¸Ž https é¡µé¢èµ„æºäº’ç›¸è®¿é—® httpsè¯ä¹¦èŽ·å–çš„æ–¹æ³•ï¼Œè‡ªç­¾ï¼Œæœºæž„è®¤è¯ä¹‹ç±»çš„ HTTP ç›¸å…³å¸¸è§åè®®å¤´çš„åˆ†æž, æ¯”å¦‚ä¸‹é¢çš„å¤´å¯¹ GET POST çš„å½±å“ã€å¯¹ä¼ é€’å‚æ•°çš„å½±å“ â€œcontent-typeâ€: â€œapplication/x-www-form-urlencodedâ€ â€œcontent-typeâ€: â€œmultipart/form-dataâ€ HTTPè®¿é—®æŽ§åˆ¶ï¼ˆCORSï¼‰çš„åˆ†æž è·¨åŸŸæ˜¯ä»€ä¹ˆ ä¸ºä»€ä¹ˆæœ‰è·¨åŸŸ å¦‚ä½•è§£å†³ GET å’Œ POST çš„çœŸæ­£åŒºåˆ«session æœºåˆ¶ç¼“å­˜æœºåˆ¶ï¼ˆè·Ÿç¼“å­˜ç›¸å…³çš„åè®®å¤´ï¼‰æƒ³å±Œç‚¹çš„å°±åŠ ä¸€ä¸ªç®€å•çš„å®žä¾‹åˆ†æžæ¼”ç¤ºï¼›æŠ“åŒ…æ¼”ç¤ºç­‰ æ„Ÿè§‰ä¸Šé¢å»ºè®®è¿™äº›ç‚¹ï¼Œæ¯”å•çº¯çš„ç½—åˆ— HTTP çš„ç†è®ºä¼šæ›´æœ‰æ„ä¹‰` ç†è®ºç¯‡https = http + ssl/tls ssl =&gt; å®‰å…¨å¥—æŽ¥å±‚tls =&gt; ä¼ è¾“å±‚å®‰å…¨æ€§åè®® https ä½œç”¨http çªƒå¬é£Žé™©ï¼šç¬¬ä¸‰æ–¹èŽ·å–é€šä¿¡å†…å®¹ ç¯¡æ”¹é£Žé™©ï¼šç¬¬ä¸‰æ–¹å¯ä»¥ä¿®æ”¹é€šä¿¡å†…å®¹ å†’å……é£Žé™©ï¼šç¬¬ä¸‰æ–¹å¯ä»¥å†’å……ä»–äººèº«ä»½å‚ä¸Žé€šä¿¡ SSL/TLS æ‰€æœ‰ä¿¡æ¯åŠ å¯†ä¼ è¾“ æ— æ³•çªƒå¬ æ ¡éªŒæœºåˆ¶ ç¯¡æ”¹ä¼šè¢«å‘çŽ° é…è¯ä¹¦ é˜²æ­¢è¢«å†’å…… SSL/TLSåè®®çš„åŸºæœ¬æ€è·¯æ˜¯é‡‡ç”¨å…¬é’¥åŠ å¯†æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®¢æˆ·ç«¯å…ˆå‘æœåŠ¡å™¨ç«¯ç´¢è¦å…¬é’¥ï¼Œç„¶åŽç”¨å…¬é’¥åŠ å¯†ä¿¡æ¯ï¼ŒæœåŠ¡å™¨æ”¶åˆ°å¯†æ–‡åŽï¼Œç”¨è‡ªå·±çš„ç§é’¥è§£å¯†ã€‚ å¦‚ä½•ä¿è¯å…¬é’¥ä¸è¢«ç¯¡æ”¹ï¼šå°†å…¬é’¥æ”¾åœ¨æ•°å­—è¯ä¹¦ä¸­ï¼Œè¯ä¹¦å¯ä¿¡ä½ çš„å…¬é’¥å°±æ˜¯å¯ä¿¡ å…¬é’¥åŠ å¯†è®¡ç®—é‡å¤ªå¤§ï¼Œå¦‚ä½•å‡å°‘è€—ç”¨çš„æ—¶é—´ï¼Ÿæ¯ä¸€æ¬¡å¯¹è¯ï¼ˆsessionï¼‰ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½ç”Ÿæˆä¸€ä¸ªâ€å¯¹è¯å¯†é’¥â€ï¼ˆsession keyï¼‰ï¼Œç”¨å®ƒæ¥åŠ å¯†ä¿¡æ¯ã€‚ç”±äºŽâ€å¯¹è¯å¯†é’¥â€æ˜¯å¯¹ç§°åŠ å¯†ï¼Œæ‰€ä»¥è¿ç®—é€Ÿåº¦éžå¸¸å¿«ï¼Œè€ŒæœåŠ¡å™¨å…¬é’¥åªç”¨äºŽåŠ å¯†â€å¯¹è¯å¯†é’¥â€æœ¬èº«ï¼Œè¿™æ ·å°±å‡å°‘äº†åŠ å¯†è¿ç®—çš„æ¶ˆè€—æ—¶é—´ã€‚ ï¼ˆ1ï¼‰ å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯ç´¢è¦å¹¶éªŒè¯å…¬é’¥ã€‚ï¼ˆ2ï¼‰ åŒæ–¹åå•†ç”Ÿæˆâ€å¯¹è¯å¯†é’¥â€ã€‚ï¼ˆ3ï¼‰ åŒæ–¹é‡‡ç”¨â€å¯¹è¯å¯†é’¥â€è¿›è¡ŒåŠ å¯†é€šä¿¡ã€‚]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[flex:1åœ¨iOS10.2å¯¼è‡´flex-wrap ä¸èµ·ä½œç”¨]]></title>
    <url>%2F2017%2F08%2Fflex-1%E5%9C%A8iOS10-2%E5%AF%BC%E8%87%B4flex-wrap%E4%B8%8D%E8%B5%B7%E4%BD%9C%E7%94%A8bug%2F</url>
    <content type="text"><![CDATA[å®žé™…ä¸Šæ˜¯ flex-basis çš„é»˜è®¤å€¼åœ¨ iOS10.2åŠä»¥ä¸‹ä¸º 0 è€Œä¸æ˜¯ auto å¯¼è‡´çš„ã€‚ èƒŒæ™¯é¡¹ç›®ä¸Šæœ‰ä¸€ä¸ªåˆ—è¡¨è¦æœ‰è¿™ç§æ•ˆæžœï¼š åªæœ‰ä¸€ä¸ªçš„æƒ…å†µæ˜¯ä¸€ä¸ªå ä¸€æŽ’ æœ‰ä¸¤ä¸ªçš„æƒ…å†µæ˜¯ å„å 50% æœ‰ä¸‰ä¸ªæˆ–ä»¥ä¸Šçš„æƒ…å†µæ˜¯ æ¯ä¸ªå  1/3æ‰€ä»¥è¿™æ—¶å€™ç”¨flexæ˜¯æœ€å®¹æ˜“çš„ã€‚å¤§äºŽä¸‰ä¸ªçš„ç›´æŽ¥è¡¥å…¨è‡³3çš„å€æ•°å³å¯ä»£ç å¤§è‡´æ€è·¯ï¼š12345678910.demo &#123; display: flex; flex-wrap: wrap; height: 100px;&#125;.demo div &#123; border: 1px solid red; flex: 1; min-width: 30%;&#125; 1234567891011121314151617&lt;div class="demo"&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="demo"&gt; &lt;div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="demo"&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt;&lt;/div&gt; æœ¬æ¥æ˜¯å®Œç¾Žæ— ç¼ºçš„ï¼Œä½†æ˜¯åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œå‘çŽ°è¯´ iOS 10.2 åŠä»¥ä¸‹ç‰ˆæœ¬ä¼šå‡ºçŽ° flex-wrapæ²¡æœ‰æ­£ç¡®æ¢è¡Œçš„æƒ…å†µï¼Œå°±ç®—å¤§äºŽä¸‰ä¸ªçš„æƒ…å†µ å…¨éƒ¨ä¹Ÿéƒ½ä¼šæŒ¤åœ¨åŒä¸€è¡Œã€‚ è¯¥bugåœ¨ 10.3ä¸ä¼šé‡çŽ°ã€‚ è§£å†³æ–¹æ¡ˆæœ¬æ¥æœ‰è€ƒè™‘ä¸ç”¨ flex è€Œæ˜¯ç”¨ inline-block æˆ– float æ¥è§£å†³ï¼Œä½†æ˜¯è¿˜æ˜¯è§‰å¾— flex è§£å†³æ¯”è¾ƒä¼˜é›…ä¸€ç‚¹ã€‚æ‰€ä»¥å¤šç•ªå°è¯•åŽå‘çŽ°è¯´ï¼Œä¸å†™ flex:1 è€Œæ˜¯å†™æˆ flex:1 1 autoå°±æ²¡é—®é¢˜ã€‚ åœ¨safariè°ƒè¯•äº†ä¸€ä¸‹ï¼Œå‘çŽ° iOS10.2åŠä»¥ä¸‹ flex-basis å±žæ€§çš„é»˜è®¤å€¼ä¸º 0 è€Œä¸æ˜¯ auto.æ‰€ä»¥æ‰€æœ‰çš„é¡¹éƒ½å˜æˆæŒ¤åœ¨ä¸€èµ·ã€‚ æ‰€ä»¥åœ¨åŽŸæ¥ä»£ç ä¸ŠåŠ å¤šä¸€è¡Œ flex-basis: auto; é‡ç½®æŽ‰ flex-basis: 0; å¸¦æ¥çš„é—®é¢˜å³å¯ã€‚ åœ¨çº¿demo]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>work</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµè§ˆå™¨cssæ»šåŠ¨å›žå¼¹æ•ˆæžœ overflow-scrolling]]></title>
    <url>%2F2017%2F08%2F%E6%B5%8F%E8%A7%88%E5%99%A8css%E6%BB%9A%E5%8A%A8%E5%9B%9E%E5%BC%B9%E6%95%88%E6%9E%9C-overflow-scrolling%2F</url>
    <content type="text"><![CDATA[å‰å‡ å¤©åšå…¨å±fixedå¸ƒå±€å¼¹çª—çš„æ—¶å€™ï¼ŒåŽ»å‚è€ƒäº†ä¸€ä¸‹æ·˜å®çš„å¸ƒå±€ã€‚ æ— æ„ä¸­å‘çŽ°é‡Œé¢ç”¨åˆ°ä¸€ä¸ªæ²¡è§è¿‡çš„csså±žæ€§ -webkit-overflow-scrolling è¯¥å±žæ€§æŽ§åˆ¶å…ƒç´ åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæ˜¯å¦ä½¿ç”¨æ»šåŠ¨å›žå¼¹æ•ˆæžœ,ä¼šæœ‰ç§æ‹ŸåŽŸç”Ÿçš„æ•ˆæžœ æ˜¯å±žäºŽSafariè‡ªå·±å®žçŽ°çš„csså±žæ€§ å…¼å®¹æ€§æ”¯æŒ iOS 5.0 ä»¥ä¸Šã€‚ 123-webkit-overflow-scrolling: touch; /* å½“æ‰‹æŒ‡ä»Žè§¦æ‘¸å±ä¸Šç§»å¼€ï¼Œä¼šä¿æŒä¸€æ®µæ—¶é—´çš„æ»šåŠ¨ */-webkit-overflow-scrolling: auto; /* å½“æ‰‹æŒ‡ä»Žè§¦æ‘¸å±ä¸Šç§»å¼€ï¼Œæ»šåŠ¨ä¼šç«‹å³åœæ­¢ */ åœ¨çº¿demo ç¤ºä¾‹demo åªåœ¨iosæ‰‹æœºä¸Šæœ‰æ•ˆ æµè§ˆå™¨çœ‹ä¸å‡ºæ•ˆæžœ12345678910111213141516171819202122232425262728293031323334353637383940&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;Document&lt;/title&gt; &lt;style&gt; div &#123; height: 200px; overflow: auto; &#125; .scrolling1 &#123; background-color: red; -webkit-overflow-scrolling: auto; &#125; .scrolling2 &#123; background-color: yellow; -webkit-overflow-scrolling: touch; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;-webkit-overflow-scrolling: auto;&lt;/h1&gt; &lt;div class="scrolling1"&gt;&lt;/div&gt; &lt;h1&gt;-webkit-overflow-scrolling: touch;&lt;/h1&gt; &lt;div class="scrolling2"&gt;&lt;/div&gt; &lt;script&gt; const divList = Array.from(document.querySelectorAll('div')) let str = '' for (let i= 0;i&lt; 100; i++) &#123; str += `&lt;p&gt;$&#123;i&#125;&lt;/p&gt;` &#125; divList.forEach(item=&gt; &#123; item.innerHTML = str &#125;) &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; å‚è€ƒèµ„æ–™ MDN Safari CSS]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[8æœˆä¼Šå§‹ç‰¢éªš]]></title>
    <url>%2F2017%2F08%2F8%E6%9C%88%E7%AC%AC%E4%B8%80%E5%91%A8%E7%9A%84%E7%89%A2%E9%AA%9A%2F</url>
    <content type="text"><![CDATA[çœ‹äº†ä¸€ä¸‹ ä¸Šä¸€æ¬¡ commit çš„æ—¶é—´ã€‚jun 25, 2017ä»ŽåŽ»å…°å¡å¨çŽ©ä¹‹å‰å°±å¼€å§‹æ²¡å†™åšå®¢äº†ã€‚å›žæ¥ä¹‹åŽåˆä¸€ç›´å¾ˆæ‡’æ•£ åŠ ä¸Šå·¥ä½œå®žåœ¨é¥±å’Œ å·®ç‚¹ä¸¢äº†è¿™ä¸ªä¹ æƒ¯ ä¸å¥½ ä¸å¥½ 7æœˆçš„åŠ ç­æ—¶é•¿ï¼Œå¹³å‡æ—¶é•¿æ˜¯ 11.30 å°æ—¶ æŽ’å…¬å¸æŠ€æœ¯ç¬¬äº” ä¸ƒæœˆå°¾å…«æœˆåˆæœ‰ä¸ªå°æœºä¼š å¯ä»¥ç”¨ä¸Šreactå…¨å®¶æ¡¶åšä¸€ä¸ªå‰ç«¯çš„åŽå°ç®¡ç†ç³»ç»Ÿ [å‰ç«¯æ€§èƒ½æ£€æµ‹åŽå° sp] ä»Žåªè‡ªå·±æ£é¼“è¿‡ react-native çš„å°èœé¸Ÿ ä¸€ä¸‹å­è¦ä¸Šæ‰‹å…¨å®¶æ¡¶ çœŸçš„å¾ˆè›‹ç–¼ï¼Œå¥½å‡ å¤©éƒ½åœ¨çœ‹ æ–‡æ¡£api demo å¹¸äºå…¶æ¯…å¤§å“¥ æ­¤å¤„åº”è¯¥æœ‰æŽŒå£° æ•´å¤©åšæˆ‘çš„å° Google GoGoGo react/redux/redux-sage/react-router/react-redux-router/antd/dva æœŸé—´åšçƒ­åŠ›å›¾çš„å†…åµŒ ç¬¬ä¸€æ¬¡ç”¨äº† postMessageã€‚ ç„¶åŽæ„å¤–å‘çŽ° ä¸çŸ¥é“æ˜¯ redux-toolè¿˜æ˜¯redux ç”¨äº† web-worker æ¥åšè®¡ç®—çº¿ç¨‹ã€‚ è·Ÿå‘çŽ°æ–°å¤§é™†ä¸€æ · è¿™å‘¨äº”æŽ’åˆ°æˆ‘åˆ†äº«ï¼Œæ‰“ç®—æŠŠ postMessage ç®€å•è¯´ä¸€ä¸‹ï¼Œä¸‹æ¬¡æœ‰æœºä¼šçš„æ—¶å€™ è¯´ä¸€ä¸‹ spåŽå°å’Œ dvaçš„å¤§æ¦‚æ€è·¯ 8.26å·ç¬¬ä¸€æ¬¡å‚åŠ  FEDAY æŒºå¼€å¿ƒçš„ å¯ä»¥åŽ»åŒ—äº¬ã€‚ åŠ æ²¹ Jsonz åŠ æ²¹P3]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>blog</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[postMessage æ¶ˆæ¯ä¼ é€’]]></title>
    <url>%2F2017%2F08%2FpostMessage-%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯æœ€è¿‘æ£é¼“ä¸€ä¸ªå°é¡¹ç›®ï¼Œ åšäº†ä¸€ä¸ªåŽå°ç®¡ç†å¹³å° é‡Œé¢è¦å¯¹çº¿ä¸Šé¡¹ç›®åšä¸€ä¸ªæ“ä½œ æ˜¾ç¤ºçƒ­åŠ›å›¾ã€‚æ‰€ä»¥åªèƒ½é‡‡ç”¨ iframe åŽ»åµŒå¥—ï¼Œå†åšå…¶ä»–æ“ä½œã€‚åŒ…æ‹¬ åŠ è½½ç›¸å¯¹çš„jsè„šæœ¬ï¼ˆçƒ­åŠ›å›¾è„šæœ¬ ç§°heatmap.js)ï¼Œ åœ¨åŽå°ç­›é€‰æ—¥æœŸ åœ°ç‚¹æ—¶ heatmap.js è¦åšå¯¹åº”çš„æ“ä½œå› ä¸ºåŽå°çš„åŸŸå’Œå‰ç«¯ä¸ä¸€è‡´ æ‰€ä»¥è·¨åŸŸæ“ä½œ é¦–é€‰ç”¨ postMessage postMessage api12345678910otherWindow.postMessage(message, targetOrigin, [transfer] )otherWindow: å…¶ä»–çª—å£çš„ä¸€ä¸ªå¼•ç”¨ï¼Œæ¯”å¦‚iframeçš„contentWindowå±žæ€§ã€æ‰§è¡Œwindow.openè¿”å›žçš„çª—å£å¯¹è±¡ã€æˆ–è€…æ˜¯å‘½åè¿‡æˆ–æ•°å€¼ç´¢å¼•çš„window.framesã€‚message: å°†è¦å‘é€åˆ°å…¶ä»– windowçš„æ•°æ®ã€‚å®ƒå°†ä¼šè¢«ç»“æž„åŒ–å…‹éš†ç®—æ³•åºåˆ—åŒ–ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥ä¸å—ä»€ä¹ˆé™åˆ¶çš„å°†æ•°æ®å¯¹è±¡å®‰å…¨çš„ä¼ é€ç»™ç›®æ ‡çª—å£è€Œæ— éœ€è‡ªå·±åºåˆ—åŒ–ã€‚targetOrigin: é€šè¿‡çª—å£çš„originå±žæ€§æ¥æŒ‡å®šå“ªäº›çª—å£èƒ½æŽ¥æ”¶åˆ°æ¶ˆæ¯äº‹ä»¶ï¼Œå…¶å€¼å¯ä»¥æ˜¯å­—ç¬¦ä¸²"*"ï¼ˆè¡¨ç¤ºæ— é™åˆ¶ï¼‰æˆ–è€…ä¸€ä¸ªURIã€‚åœ¨å‘é€æ¶ˆæ¯çš„æ—¶å€™ï¼Œå¦‚æžœç›®æ ‡çª—å£çš„åè®®ã€ä¸»æœºåœ°å€æˆ–ç«¯å£è¿™ä¸‰è€…çš„ä»»æ„ä¸€é¡¹ä¸åŒ¹é…targetOriginæä¾›çš„å€¼ï¼Œé‚£ä¹ˆæ¶ˆæ¯å°±ä¸ä¼šè¢«å‘é€ï¼›åªæœ‰ä¸‰è€…å®Œå…¨åŒ¹é…ï¼Œæ¶ˆæ¯æ‰ä¼šè¢«å‘é€ã€‚è¿™ä¸ªæœºåˆ¶ç”¨æ¥æŽ§åˆ¶æ¶ˆæ¯å¯ä»¥å‘é€åˆ°å“ªäº›çª—å£ï¼›ä¾‹å¦‚ï¼Œå½“ç”¨postMessageä¼ é€å¯†ç æ—¶ï¼Œè¿™ä¸ªå‚æ•°å°±æ˜¾å¾—å°¤ä¸ºé‡è¦ï¼Œå¿…é¡»ä¿è¯å®ƒçš„å€¼ä¸Žè¿™æ¡åŒ…å«å¯†ç çš„ä¿¡æ¯çš„é¢„æœŸæŽ¥å—è€…çš„orignå±žæ€§å®Œå…¨ä¸€è‡´ï¼Œæ¥é˜²æ­¢å¯†ç è¢«æ¶æ„çš„ç¬¬ä¸‰æ–¹æˆªèŽ·ã€‚å¦‚æžœä½ æ˜Žç¡®çš„çŸ¥é“æ¶ˆæ¯åº”è¯¥å‘é€åˆ°å“ªä¸ªçª—å£ï¼Œé‚£ä¹ˆè¯·å§‹ç»ˆæä¾›ä¸€ä¸ªæœ‰ç¡®åˆ‡å€¼çš„targetOriginï¼Œè€Œä¸æ˜¯*ã€‚ä¸æä¾›ç¡®åˆ‡çš„ç›®æ ‡å°†å¯¼è‡´æ•°æ®æ³„éœ²åˆ°ä»»ä½•å¯¹æ•°æ®æ„Ÿå…´è¶£çš„æ¶æ„ç«™ç‚¹ã€‚transfer å¯é€‰æ˜¯ä¸€ä¸²å’Œmessage åŒæ—¶ä¼ é€’çš„ Transferable å¯¹è±¡. è¿™äº›å¯¹è±¡çš„æ‰€æœ‰æƒå°†è¢«è½¬ç§»ç»™æ¶ˆæ¯çš„æŽ¥æ”¶æ–¹ï¼Œè€Œå‘é€ä¸€æ–¹å°†ä¸å†ä¿æœ‰æ‰€æœ‰æƒã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ message ä¸å¯ä»¥åŒ…å« domå¯¹è±¡, å¯ä»¥æŠŠéªŒè¯æˆ–æ ¡å¯¹ä¿¡æ¯æ”¾ç½®åœ¨ message ä¸€å¹¶å‘é€å‡ºåŽ» å°demoa.html123456789101112131415161718192021222324&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;iframe src="./demo1.html" frameborder="0" name="iframe1"&gt;&lt;/iframe&gt; &lt;script&gt; const iframeWindow = document.iframe1 iframeWindow.addEventListener('load', function() &#123; iframeWindow.postMessage(&#123; type: 'script', evalFn: 'alert(1)' &#125;, '*') &#125;) window.addEventListener('message', ()=&gt; &#123; console.log('parent message ') &#125;) &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; b.html1234567891011121314151617181920&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;hello&lt;/h1&gt; &lt;script&gt; window.addEventListener('message', event=&gt; &#123; console.log(event) const &#123; evalFn, type &#125; = event.data const &#123; source &#125; = event console.log(type, evalFn) if (type === 'script') eval(evalFn) source.postMessage('bilibili', '*') &#125;) &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; å®žé™…åº”ç”¨å°ä¾‹å­admin-iframe/index.js123456789101112131415161718...const iframeWindow = iframe.contentWindowthis.initMessenger = new postMessage(iframeWindow, 'initPostMessage')this.initMessenger.send(&#123;type: 'asyncLoadScript', data: &#123;src: config.heatmapJs&#125;&#125;)// heatmapMessage å¤„ç†ä¸Žheatmap-showç›¸å…³çš„äº‹ä»¶this.heatmapMessenger = new postMessage(iframeWindow, 'heatmap')// æ¯æ¬¡è·³è½¬é¡µé¢æˆ–load éƒ½é‡æ–°åœ¨state æ›´æ–°äº‹ä»¶åˆ°heatmap-showthis.targetMessenger.listen('loadSuccess', ()=&gt; &#123; const &#123; startTime, endTime, site, continent, isHeatmap &#125; = this.props.heatmap this.heatmapMessenger.send(&#123;type: 'initFilter', data: &#123; date: [startTime, endTime], site, isHeatmap &#125;&#125;)&#125;)... postMessage.js123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657/* * @Author: Jsonz * @Date: 2017-08-05 15:42:15 * @Last Modified by: Jsonz * @Last Modified time: 2017-08-05 16:15:44 * * const messenger = new Messenger(window, 'heatmap') * messenger.send(&#123; type: 'changeType', data: &#123; &#125; &#125;) * messenger.listen(&#123; type: 'changeType', cb: ()=&gt; &#123;&#125; &#125;) */class Messenger &#123; constructor(target, prefix) &#123; this.target = target this.prefix = prefix this.listenFunc = [] this.initListen() &#125; send(msg) &#123; if (!msg.type) throw new Error('postMessage send æ²¡æœ‰ä¼ type') msg.type = this.prefix + '__' + msg.type this.target.postMessage(msg, '*') &#125; listen(type, cb) &#123; const len = this.listenFunc.length type = this.prefix + '__' + type let cbIsExist = false for (let i= 0; i&lt; len; i++) &#123; if (this.listenFunc[i].type === type) &#123; cbIsExist = true break &#125; &#125; if (!cbIsExist) this.listenFunc.push(&#123; cb, type &#125;) &#125; initListen() &#123; const cb= event=&gt; &#123; let messageObj if (typeof event === 'object' &amp;&amp; event.data) messageObj = event.data if (!messageObj.type || !messageObj.type.includes('__')) return for (let i= 0; i&lt; this.listenFunc.length; i++) &#123; let itemFn = this.listenFunc[i] if (itemFn.type === messageObj.type) itemFn.cb(messageObj.data) &#125; &#125; window.addEventListener('message', cb, false) &#125;&#125;// modules.export = Messengerexport default Messenger å‚è€ƒgithubpostMessage MDN æ–‡æ¡£caniuse arale/messenger/index.js]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>JavaScript</tag>
        <tag>work</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…¼å®¹å¤šç§æ¨¡å¼è§„èŒƒ]]></title>
    <url>%2F2017%2F07%2F%E5%85%BC%E5%AE%B9%E5%A4%9A%E7%A7%8D%E6%A8%A1%E5%BC%8F%E8%A7%84%E8%8C%83%2F</url>
    <content type="text"><![CDATA[1234567891011121314151617181920;(function(name, definition) &#123; // æ£€æµ‹ä¸Šä¸‹æ–‡çŽ¯å¢ƒæ˜¯å¦ä¸º ADM æˆ– CMD var hasDefine = typeof define === 'function'; // æ£€æŸ¥ä¸Šä¸‹æ–‡æ˜¯å¦ä¸º node var hasExports = typeof module !== 'undefined' &amp;&amp; module.exports; if (hasDefine) &#123; // AMDçŽ¯å¢ƒ æˆ– CMDçŽ¯å¢ƒ define(definition); &#125; else if (hasExports) &#123; // å®šä¹‰ä¸ºæ™®é€šNodeæ¨¡å— module.exports = definition(); &#125; else &#123; // å°†æ¨¡å—çš„æ‰§è¡Œç»“æžœæŒ‚åœ¨windowå˜é‡ä¸­ï¼Œ åœ¨æµè§ˆå™¨ä¸­ this æŒ‡å‘ window å¯¹è±¡ this[name] = definition(); &#125;&#125;)('hello', function() &#123; var hello = function() &#123;&#125; return hello;&#125;)]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[nodeJs å­¦ä¹ å¯¼èˆª]]></title>
    <url>%2F2017%2F06%2FnodeJs-%E5%AD%A6%E4%B9%A0%E5%AF%BC%E8%88%AA%2F</url>
    <content type="text"><![CDATA[å»–é›ªå³°nodeæ•™ç¨‹å†…ç½®æ¨¡å—fs1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253'use strict'const fs = require('fs')// è¯»å–æ–‡ä»¶fs.readFile('demo1.html', 'utf-8', (err, data)=&gt; &#123; // console.log(err? err: data)&#125;)// å¼‚æ­¥è¯»å–æ–‡ä»¶fs.readFile('about-us.png', (err, data)=&gt; &#123; if (err) &#123; console.log(err) &#125; else &#123; // console.log(data) // console.log(data.length + ' bytes') let text = data.toString('utf-8') // console.log(text) let buf = new Buffer(text, 'utf-8') // console.log(buf) &#125;&#125;)// åŒæ­¥è¯»å–æ–‡ä»¶try &#123; const data = fs.readFileSync('demo2.html', 'utf-8') console.log(data)&#125; catch(err) &#123; console.log(err)&#125;// å†™æ–‡ä»¶const writeData = 'Hello Jsonz'fs.writeFile('output.txt', writeData, err=&gt; &#123; console.log(err || 'ok.')&#125;)// èŽ·å–æ–‡ä»¶ä¿¡æ¯fs.stat('output.txt', (err, stat)=&gt; &#123; if (err) &#123; console.log(err) &#125; else &#123; console.log('isFile: ' + stat.isFile()) console.log('isDirectory: ' + stat.isDirectory()) if (stat.isFile()) &#123; console.log('size: ' + stat.size) console.log('birth time: ' + stat.birthtime) console.log('modified time: ' + stat.mtime) &#125; &#125;&#125;) stream1234567891011121314151617181920212223242526272829303132333435363738394041'use strict'try &#123; const fs = require('fs') const rs = fs.createReadStream('output.txt', 'utf-8') // ç»“æŸ rs.on('end', function() &#123; console.log('END') &#125;) // é”™è¯¯æ•èŽ· rs.on('error', err=&gt; &#123; console.log('ERROR: ' + err) &#125;) // è¯»å– rs.on('data', chunk=&gt; &#123; console.log('DATA: ', chunk) &#125;) // å†™å…¥æ–‡æœ¬æ•°æ® const ws1 = fs.createWriteStream('output1.txt', 'utf-8') ws1.write('ä½¿ç”¨Streamå†™å…¥æ–‡æœ¬æ•°æ®...\n') ws1.write('END.') ws1.end() // å†™å…¥äºŒè¿›åˆ¶æ•°æ® const rs2 = fs.createWriteStream('output2.txt') rs2.write(new Buffer('ä½¿ç”¨Streamå†™å…¥æ–‡æœ¬æ•°æ®... \n', 'utf-8')) rs2.write(new Buffer('END.', 'utf-8')) rs2.end() // pipe æµ const ws2 = fs.createWriteStream('copied.txt') rs.pipe(ws2, &#123; end: false &#125;) // rs Readableæµå’Œ ws2 Writableæµç”¨ pipeä¸²èµ·æ¥ã€‚ é»˜è®¤Readableæµæ•°æ®è¯»å–å®Œæ¯•åŽå…³é—­ Writeableæµã€‚å¯ä»¥ä¼ å‚ä¿®æ”¹&#125; catch(err) &#123; console.log(err)&#125; HTTPç®€å•çš„åè®®å…¥é—¨ä»‹ç» ç®€å•çš„httpæœåŠ¡å™¨1234567891011const http = require('http')const server = http.createServer((request, response)=&gt; &#123; console.log(request.method + ': ' + request.url) response.writeHead(200, &#123;'Content-Type': 'text/html'&#125;) response.end('&lt;h1&gt; Hello World! &lt;/h1&gt;')&#125;)server.listen(8080)console.log('server is running at http://127.0.0.1:8080') æ–‡ä»¶æœåŠ¡å™¨123456789101112131415161718192021222324252627282930313233343536const http = require('http')const url = require('url')const path = require('path')const fs = require('fs')const root = path.resolve(process.argv[2] || '.')console.log('Static root dir: ' + root)// åˆ›å»ºæœåŠ¡å™¨const server = http.createServer((request, response)=&gt; &#123; // èŽ·å–URL çš„ path, ç±»ä¼¼ /css/bootstrap.css const pathname = url.parse(request.url).pathname // èŽ·å–å¯¹åº”çš„æœ¬åœ°æ–‡ä»¶è·¯å¾„ï¼Œ è•¾è¥¿ /srv/www/css/bootstrap.css const filepath = path.join(root, pathname) // èŽ·å–æ–‡ä»¶çŠ¶æ€ fs.stat(filepath, (err, stats)=&gt; &#123; if (!err &amp;&amp; stats.isFile) &#123; // æ²¡æœ‰å‡ºé”™ä¸”æ–‡ä»¶å­˜åœ¨ console.log('200 ' + request.url) // å‘é€200å“åº” response.writeHead(200) // å°†æ–‡ä»¶æµå¯¼å‘response fs.createReadStream(filepath).pipe(response) &#125; else &#123; // å‡ºé”™äº†æˆ–è€…æ–‡ä»¶ä¸å­˜åœ¨ console.log('404 ' + request.url) // å‘é€404 å“åº” response.writeHead(404) response.end('404 Not Found') &#125; &#125;)&#125;)server.listen(8080)console.log('server is running at http://127.0.0.1:8080') crypto é€šç”¨çš„åŠ å¯†ç®—æ³•å’Œå“ˆå¸Œç®—æ³•cryptoå®žçŽ°åŠ å¯†è§£å¯†12345678910111213141516171819202122232425262728293031323334// é€šç”¨çš„åŠ å¯†å’Œå“ˆå¸Œç®—æ³•const crypto = require('crypto')const hash = crypto.createHash('md5')// å¯ä»¥ç›´æŽ¥æŠŠ md5v æ”¹ä¸º sha1 æˆ–æ›´å®‰å…¨çš„ sha256 sha512// å¯ä»¥ä»»æ„å¤šæ¬¡è°ƒç”¨update é»˜è®¤å­—ç¬¦ä¸²ç¼–ç ä¸º UTF-8hash.update('hello world')hash.update('hello nodejs')console.log(hash.digest('hex'))// AES å¯¹ç§°åŠ å¯†ç®—æ³•function aesEncrypt(data, key) &#123; const cipher = crypto.createCipher('aes192', key) let crypted = cipher.update(data, 'utf8', 'hex') crypted += cipher.final('hex') return crypted&#125;function aesDecrypt(encrypted, key) &#123; const decipher = crypto.createDecipher('aes192', key) let decrypted = decipher.update(encrypted, 'hex', 'utf8') decrypted += decipher.final('utf8') return decrypted&#125;let data = 'Hello, this is a secret message!'const key = 'Jsonz-password'const encrypted = aesEncrypt(data, key)const decrypted = aesDecrypt(encrypted, key)console.log('Plain text: ' + data)console.log('Encrypted text: ' + encrypted)console.log('Decrypted text: ' + decrypted)]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>NodeJs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[react-native å­¦ä¹ æ€»ç»“]]></title>
    <url>%2F2017%2F06%2Freact-native-%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[è¿›å…¬å¸çš„æ—¶å€™ åŽŸéƒ¨é—¨è€å¤§è®©æˆ‘åŽ»çœ‹rn demo åŽé¢é¡¹ç›®ä¼šç”¨åˆ°ï¼ŒäºŽæ˜¯æœ‰äº†è¿™ä¸ªé¡¹ç›®çš„å¼€å§‹ã€‚ ä½†æ˜¯ä¸€ä¸ªæ˜ŸæœŸåŽï¼Œæˆ‘è¢«è°ƒåŽ»å¦ä¸€ä¸ªéƒ¨é—¨ï¼ŒçŽ°éƒ¨é—¨è¿›æ¥ä¹‹åŽå°±ä¸€ç›´å¿™ç€ä¸šåŠ¡ä»£ç  äº§å“è¿­ä»£ã€‚ ä»Žgithub æäº¤åº”è¯¥ä¹Ÿèƒ½çœ‹å‡ºæ¥ï¼Œ ç‰¹åˆ«ä»Ž 6.8åˆ°6.24 ä¸€æ¬¡commitéƒ½æ²¡æœ‰ã€‚ æ…•è¯¾ç½‘ç‹—ç‹—è¯´appçš„å¼€å‘æ•™ç¨‹å­¦ä¹ ï¼Œè¿™æ¬¡çš„å­¦ä¹ å¯ä»¥ç®—æ˜¯åŠæˆå“ï¼Œå¤§æ¦‚äº†è§£äº†rn ä¹Ÿå†™äº†ä¸€ä¸ªè¾ƒä¸ºå®Œæ•´çš„demoï¼ŒåŽé¢å¦‚æžœæœ‰ä¸€äº›ç®€å•çš„rné¡¹ç›®æˆ–è€…appå†…åµŒ ä¸Šæ‰‹æˆæœ¬åº”è¯¥ä½Žäº†å¾ˆå¤šã€‚åŒ…æ‹¬:RN é¡¹ç›®çŽ¯å¢ƒé…ç½® æŠ˜è…¾äº†å¾ˆä¹… çœŸçš„å¾ˆå¤šå‘ç©¿æ’ç€å­¦äº†ä¸€ç‚¹ç‚¹O-C è¯­æ³•xCode èµ„æºåº“å¼•ç”¨ä»¥åŠå¸¸è§é—®é¢˜æˆ–å¸¸è§åŠŸèƒ½ä½¿ç”¨RN é¡¹ç›®å¯åŠ¨ link watchman ç­‰ç­‰RN å…·ä½“ä»£ç  api ç»„ä»¶ å­¦ä¹ Koa ä¸Ž mongoDB çš„ç®€å•ä½¿ç”¨ä¸ƒç‰›äº‘ä½¿ç”¨èžºä¸å¸½å‘é€éªŒè¯ç ä½¿ç”¨å„ç§ç±»åº“ å›¾ç‰‡æ’ä»¶ å€’è®¡æ—¶æ’ä»¶ å½•éŸ³ å½•åƒ ç­‰æŽ¥ä¸‹æ¥å¦‚æžœä¸æ˜¯é¡¹ç›®æœ‰ä½¿ç”¨åˆ°çš„è¯ åº”è¯¥ä¸ä¼šå†æ·±å…¥æŽ¥è§¦rnã€‚ æ¯•ç«ŸçŽ°åœ¨çš„ç›®æ ‡æ˜¯è¿›å†›P3 &amp;&amp; ä¼˜ç§€å‘˜å·¥ã€‚ appéƒ¨åˆ†æˆªå›¾: æœ€åŽé™„ä¸Šæºç  RN å¾ˆçœ‹ çŽ¯å¢ƒå’Œç‰ˆæœ¬ï¼Œæ‰€ä»¥è·‘å¾—èµ·æ¥æ‰æ˜¯ä¸æ­£å¸¸çš„]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>github</tag>
        <tag>imooc</tag>
        <tag>react-native</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[ç½®é¡¶]æ£é¼“ç›®å½•]]></title>
    <url>%2F2017%2F06%2F%E6%8D%A3%E9%BC%93%E7%9B%AE%E5%BD%95%2F</url>
    <content type="text"><![CDATA[è®°å½•å¹³æ—¶å·¥ä½œå­¦ä¹ çš„ç›®å½•æ¡ç›®ï¼Œ ç±»ä¼¼ Jsonz-learnã€ Jsonz-wheel çš„ç›®å½•ã€‚éƒ¨åˆ†æ¯”è¾ƒå¤§çš„è½®å­å¯èƒ½ä¼šç‹¬ç«‹æˆä¸€ä¸ªgité¡¹ç›® DoingSSR ç›¸å…³ Next NEXTwebpack plugin/ loader babel plugin æ·»åŠ  gitment React æ–°ç‰¹æ€§ setState æ–°ç”Ÿå‘½å‘¨æœŸå‡½æ•° æ–°ç‰¹æ€§ Contextã€memoã€lazyç­‰ æ–°ç‰¹æ€§ Hook äº‹ä»¶ç³»ç»Ÿ diff ç›®å½• æŽ’åæŒ‰æ—¶é—´é¡ºåºæ­£åˆ™å…¨å±€æ ‡å¿—æ³¨æ„äº‹é¡¹reactæºç å­¦ä¹ ç³»åˆ—å‡½æ•°å¼ç¼–ç¨‹ä¸€é“èµ‹å€¼é¢è¯•é¢˜å¼•å‘çš„æ€è€ƒ â€”â€” å¯¹è±¡å¼•ç”¨é—®é¢˜è§†é¢‘è½¬å­—ç¬¦ç”»window.print æµè§ˆå™¨æ‰“å°æ‰«ç›²ã€Šhttpå°ä¹¦ã€‹httpçŸ¥è¯†æ‰«ç›²ã€Šcssä¸–ç•Œã€‹å¸¸ç”¨æŠ€å·§ â€”â€” è¯»ä¹¦ç¬”è®°æµè§ˆå™¨æ¢å¤æ»šåŠ¨è¡Œä¸º â€”â€” history.scrollRestorationcreate-react-app æºç è§£æž(ä¸€)create-react-app æºç è§£æž(äºŒ)gitæŸ¥æ¼è¡¥ç¼º éžå¸¸å¤§å¥½å…¨çš„æ–‡ç«  æ…¢æ…¢é€‚ç”¨ä¸€ä¸‹æŽ§åˆ¶å°æäº¤ï¼Œç†Ÿæ‚‰ä¹‹åŽå†åˆ‡å®¢æˆ·ç«¯è‡ªåŠ¨åŒ–åŠŸèƒ½æµ‹è¯•æµç¨‹æ–¹æ¡ˆé¡¹ç›®ä»£ç è§„èŒƒå·¥ä½œæµâ€”â€”editorã€prettierã€eslintã€git-checkè‡ªåŠ¨åŒ–æµ‹è¯• puppeteer ä¸Žqqç©ºé—´ æºç  reactå…¨å®¶æ¡¶ + dva å®žè·µæ•´ç†æ€»ç»“äº†è§£ babel å†™ä¸ªbabel æ’ä»¶ â€”â€” äº†è§£ç¼–è¯‘å™¨åŽŸç† å®žçŽ°äº†ä¸€ä¸ª æžç®€çš„ç¼–è¯‘å™¨ react/dva/antd/antd-pro/roadhog å…¨å®¶æ¡¶ é¡¹ç›®ç”¨ingpostMessage ç®€å•çš„å¯¹ç³»ç»Ÿè‡ªå¸¦çš„postMessageè¿›è¡Œå°è£… æ”¯æŒäº‹ä»¶ç±»åž‹ç›‘å¬ æ›´å¤šå®žçŽ°å‚è€ƒ arale/messenger/index.js react-native-dogs å­¦ä¹ react-native æ¯”è¾ƒå…¨é¢çš„ä¸€ä¸ªè·¯å¾„ è™½ç„¶ä¸å®Œæ•´ï¼Œä½†åŒ…å«äº†rn å¸¸ç”¨çš„api åº“ ç­‰ ä¹Ÿæ¶‰åŠåˆ° node koa ä¸ƒç‰›äº‘ç­‰ react-native-countdown ReactNativeçš„å€’è®¡æ—¶ç»„ä»¶ é€ è¿™ä¸ªè½®å­çš„åŽŸå› æ˜¯å­¦ä¹ rnçš„æ—¶å€™ï¼Œè§†é¢‘æŽ¨èé¢ä¸€ä¸ªç»„ä»¶ï¼Œä½†æ˜¯è¿™ä¸ªç»„ä»¶å·²ç»åœæ­¢ç»´æŠ¤ æ‰€ä»¥åªèƒ½è‡ªå·±é€ ä¸€ä¸ª æ”¯æŒæ—¥æœŸä¸Žç§’æ•°çš„å€’è®¡æ—¶ ç®€å•ç²—æš´ fixedTop å¸é¡¶æ•ˆæžœ ä¸€ä¸ªå¾ˆå°çš„å¸¸ç”¨æ•ˆæžœ ä¸»è¦ç»†èŠ‚ åœ¨äºŽæ”¹å˜domä¸º fixedå¸ƒå±€åŽåœ¨è¯¥domåŽé¢ç”Ÿæˆä¸€ä¸ªå ä½çš„ï¼Œé˜²æ­¢å…„å¼ŸèŠ‚ç‚¹çš„æŠ–åŠ¨ copyText å¤åˆ¶é»è´´æ¿æ’ä»¶ æ”¯æŒh5ï¼ŒPC success, errorå›žè°ƒ åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒè¯¥äº‹ä»¶æŽ¥å£ heatmap çƒ­åŠ›å›¾ è€å¤§æçš„å°éœ€æ±‚ ä¸€ä¸¤ä¸ªå°æ—¶å®Œæˆ ç‚¹å‡»é¡µé¢ä¼šé—´éš”(10s)å­˜åˆ°sessionLocationã€‚ åˆ·æ–°åŽä¼šæŠŠå­˜åœ¨sessionLocation ç»˜åˆ¶æˆçƒ­åŠ›å›¾å±•ç¤ºåœ¨é¡µé¢ä¸Š validator å°åž‹è¡¨å•éªŒè¯æ’ä»¶ ç§»åŠ¨ç«¯ç®€å•çš„éªŒè¯æ’ä»¶ æ”¯æŒè‡ªå·±é…ç½®éªŒè¯é¡¹ æ”¯æŒå¤šé‡éªŒè¯ cookie å°è£…äº†ä¸€äº›cookieå¸¸ç”¨çš„api get set remove clear getAll ObjectiveC ObjectiveC åŸºç¡€ ä¸ºäº†å­¦ ReactNative åšä¸€ç‚¹iosåŸºç¡€é“ºåž« setTimeout &amp;&amp; setIntervalEvent æœ€ç®€å•çš„äº‹ä»¶ç³»ç»Ÿ handlebars ç®€å•çš„æ¨¡æ¿å¼•æ“Žhttp://handlebarsjs.com quickskin ç®€å•çš„PHPæ¨¡æ¿ï¼Œ æ–‡æ¡£å¾ˆä¸å…¨ {value} if for sass ç®€å•çš„å…¥é—¨è¯­æ³•ï¼Œå› ä¸ºç”¨è¿‡less æ‰€ä»¥åŸºæœ¬æ— éšœç¢ chrome-extension å­¦ä¹ chromeæ’ä»¶å¼€å‘å…¥é—¨ æš‚å­˜finishï¼ŒåŽé¢ä¼šé‡æ–°å­¦ä¹  æ¯”è¾ƒæ„Ÿå…´è¶£ ç›®å‰æƒ³æ³•æ˜¯åšä¸€ä¸ªå¯ä»¥åœ¨é¡µé¢æ¯”è¾ƒæ–¹ä¾¿åŠ è½½jsçš„æ’ä»¶ TODO animate-text ä¸€ä¸ªç®€å•çš„æ–‡å­— &amp;&amp; æ•°å­— åŠ¨ç”»å°æ’ä»¶ã€‚ demo æ–‡æ¡£ backbone åŽ†å²æ‚ ä¹…çš„MVCæ¡†æž¶ https://github.com/jashkenas/backbone DesignPattern åŽé¢ä¼šç»§ç»­å­¦ä¹  ã€ŠJavaScriptè®¾è®¡æ¨¡å¼ã€‹å¼ å®¹é“­ äºšé©¬é€Šè´­ä¹° ECMAScript_6_Primer ES6å…¥é—¨ é˜®ä¸€å³° äºšé©¬é€Šè´­ä¹° gulp gulpä¸­æ–‡ https://github.com/gulpjs/gulp imooc æ…•è¯¾ç½‘ä¸Šçš„ç›¸å…³å­¦ä¹  imooc.com å­¦ä¹ å å¹…è¶Šæ¥è¶Šä½Žï¼Œçœ‹è§†é¢‘çš„æ•ˆçŽ‡æ²¡æœ‰çœ‹ä¹¦å’Œåšå®¢æ¥çš„å¿« markdown markdownè¯­æ³•å­¦ä¹  github markdown require JSæ¨¡å—åŒ–åŠ è½½è§„èŒƒ AMDäº§ç‰© AMD require+backbone backbone+require ç»ƒä¹  RiotJs å¾®åž‹ç±»Reactæ¡†æž¶ http://riotjs.com/ å…¬å¸åœ¨ç”¨ï¼Œæœ‰å®žæˆ˜ç»éªŒ v2å…¼å®¹ie8 edit_config å¸¸ç”¨çš„ç¼–è¾‘å™¨é…ç½® Uncle Tom æ±¤å§†å¤§å”çš„åšå®¢Jsæ•™ç¨‹ å¼ºçƒˆæŽ¨è!!!! æ·±å…¥æµ…å‡º è®²äº†å¾ˆå¤šåŽŸç†æ€§çš„ä¸œè¥¿ å…¥é—¨ä¸Žè¿›é˜¶å¿…å¤‡ http://www.cnblogs.com/TomXu/archive/2011/12/15/2288411.html vue vueJså…¥é—¨éƒ¨åˆ†demo vue+webpack vue+webpack demo jsonz_old åˆšå…¥é—¨çš„æ—¶å€™å†™çš„ä¸€ä¸ªåœ¨çº¿ç®€åŽ† åœæ­¢æ›´æ–° zhangxinxu è…¾è®¯ä¸€ä¸ªå¤§ä½¬ï¼Œä¸»è¦é‡æž„æ–¹é¢ã€‚ cssä¸Žhtmlå¾ˆå¤šç–‘éš¾æ‚ç—‡ åŸºç¡€çŸ¥è¯†ç­‰éƒ½å¯ä»¥åœ¨é‡Œé¢æ‰¾åˆ° http://www.zhangxinxu.com/ Done log: åŽ†å²æ—¥å¿—ï¼Œå®šæ—¶æŠŠdoingæ›´æ–°ä¸‹æ¥ï¼Œæ‰€ä»¥ä¼šè¶Šæ¥è¶Šé•¿â€¦å› ä¸ºä¸æƒ³æ¯æ¬¡éƒ½å¿˜äº†ä¹‹å‰å®šçš„æ˜¯ä»€ä¹ˆï¼Œåˆæ‡’å¾—åŽ»æ‰¾gitè®°å½• å·¥ä½œé¡¹ç›®é‡æ–°ä¸ŠéªŒè¯ç­‰ âˆš å·¥ä½œé¡¹ç›®åŽ»é™¤æ—¥æœŸ âˆš cssè‡ªå®šä¹‰å±žæ€§ Ã— å¯¹è±¡èµ‹å€¼å¾ªçŽ¯å¼•ç”¨æŽ¢è®¨ âˆš è§†é¢‘è½¬å­—ç¬¦ç”» âˆš åŽé¢æœ‰æ—¶é—´æ•´ç†å‡ºæ¥ å†™ä¸ªwebpackæ’ä»¶ï¼Œå¤„ç†cookieç”Ÿæˆmarkdown âˆš å†™å®Œå‘çŽ°è¿™äº›è¦åœ¨è¿è¡Œæ—¶æŠ“å–æ‰å‡†ç¡®å°±æ²¡ç»§ç»­åšä¸‹åŽ» create-react-app âˆš ç¬¬ä¸€æ¬¡å°è¯•å¼€å¿ƒ vueå…¨å®¶æ¡¶ âˆš è¿‡äº†ä¸€éï¼Œç­‰æœ‰å°é¡¹ç›®å¯ä»¥ç»ƒæ‰‹_ ã€ŠCSSä¸–ç•Œã€‹_ âˆš å¥½ä¹¦â€” ã€Šhttpå°ä¹¦ã€‹_âˆš å‡†èƒ½å¸®ä½ çœä¸‹ä¸å°‘æ—¶é—´ äº†è§£å‡½æ•°å¼ç¼–ç¨‹ âˆš Reactæºç  âˆš å‡çº§blogç‰ˆæœ¬ âˆš]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>github</tag>
        <tag>web</tag>
        <tag>work</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[react-native-countdown RNçš„å€’è®¡æ—¶ç»„ä»¶]]></title>
    <url>%2F2017%2F06%2Freact-native-countdown-RN%E7%9A%84%E5%80%92%E8%AE%A1%E6%97%B6%E7%BB%84%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°ä¹‹æ‰€ä»¥ä¼šå†™è¿™ä¸ªå°ç»„ä»¶æ˜¯å› ä¸ºå­¦ä¹ RNçš„æ—¶å€™ï¼Œè·Ÿç€è§†é¢‘æ•²ä»£ç ã€‚ è§†é¢‘æŽ¨èäº†ä¸€æ¬¾å€’è®¡æ—¶ç»„ä»¶ å› ä¸ºé•¿æœŸæ²¡æœ‰ç»´æŠ¤ï¼ˆæœ€åŽä¸€æ¬¡æ›´æ–°æ˜¯ä¸€å¹´å‰ï¼‰ï¼Œ åœ¨æˆ‘çš„RNçŽ¯å¢ƒä¸‹æŠ¥é”™ã€‚ æŠ¥é”™çš„åŽŸå› å¤§æ¦‚æ˜¯ React æŠŠä¸€ä¸ªåŠŸèƒ½ç‹¬ç«‹å‡ºåŽ»ï¼Œè¦é‡æ–°å¼•è¿›å°±å¯ä»¥äº†ã€‚ ä¸è¿‡æƒ³ç€æ—¢ç„¶æˆ‘å·²ç»çœ‹äº†æºç æ‰¾åˆ°é—®é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä½•ä¸è‡ªå·±é€ ä¸€ä¸ªå°è½®å­å‘¢~ é¡¹ç›®github ç”¨æ³•éœ€è¦æ‰‹åŠ¨å¼•å…¥ï¼Œæ²¡æœ‰ä¼ åˆ°npm æ‡’å¾—å†ç»´æŠ¤ 12345678910111213141516171819202122232425import &#123;CountDownText&#125; from 'react-native-sk-countdown';&lt;CountDownText style=&#123;styles.cd&#125; countType='seconds' // è®¡æ—¶ç±»åž‹ï¼šseconds / date auto=&#123;true&#125; // è‡ªåŠ¨å¼€å§‹ afterEnd=&#123;() =&gt; &#123;&#125;&#125; // ç»“æŸå›žè°ƒ timeLeft=&#123;10&#125; // æ­£å‘è®¡æ—¶ æ—¶é—´èµ·ç‚¹ä¸º0ç§’ step=&#123;-1&#125; // è®¡æ—¶æ­¥é•¿ï¼Œä»¥ç§’ä¸ºå•ä½ï¼Œæ­£æ•°åˆ™ä¸ºæ­£è®¡æ—¶ï¼Œè´Ÿæ•°ä¸ºå€’è®¡æ—¶ startText='èŽ·å–éªŒè¯ç ' // å¼€å§‹çš„æ–‡æœ¬ endText='èŽ·å–éªŒè¯ç ' // ç»“æŸçš„æ–‡æœ¬ intervalText=&#123;(sec) =&gt; sec + 'ç§’é‡æ–°èŽ·å–'&#125; // å®šæ—¶çš„æ–‡æœ¬å›žè°ƒ /&gt;&lt;CountDownText // å€’è®¡æ—¶ style=&#123;styles.cd&#125; countType='date' // è®¡æ—¶ç±»åž‹ï¼šseconds / date auto=&#123;true&#125; // è‡ªåŠ¨å¼€å§‹ afterEnd=&#123;() =&gt; &#123;&#125;&#125; // ç»“æŸå›žè°ƒ timeLeft=&#123;10&#125; // æ­£å‘è®¡æ—¶ æ—¶é—´èµ·ç‚¹ä¸º0ç§’ step=&#123;-1&#125; // è®¡æ—¶æ­¥é•¿ï¼Œä»¥ç§’ä¸ºå•ä½ï¼Œæ­£æ•°åˆ™ä¸ºæ­£è®¡æ—¶ï¼Œè´Ÿæ•°ä¸ºå€’è®¡æ—¶ startText='' // å¼€å§‹çš„æ–‡æœ¬ endText='' // ç»“æŸçš„æ–‡æœ¬ intervalText=&#123;(date, hour, min, sec) =&gt; date + 'å¤©' + hour + 'æ—¶' + min + 'åˆ†' + sec&#125; // å®šæ—¶çš„æ–‡æœ¬å›žè°ƒ /&gt; Prop Prop Description Default countType Countdown type, one of â€˜secondsâ€™ and â€˜dateâ€™. None auto Whether to start countdown right now. false timeLeft Seconds lefted to countdown. None step Number to increment in each step. -1 startText Text before countdown. None endText Text after countdown. None intervalText A function to reture a text during countdown. None afterEnd A callback function after countdown. None Methods Method Description Params start start countdown. None end finish countdown. None æºç ä¸»è¦æœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯å€’è®¡æ—¶çš„é€»è¾‘ï¼Œå¦ä¸€ä¸ªæ˜¯å¤¹æ‚äº†RNçš„é€»è¾‘ã€‚CountDown.js123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112export default class CountDown &#123; constructor(props) &#123; this.setData(props); &#125; // èŽ·å–æœ‰å¤šå°‘ç§’ static getSeconds(time) &#123; let type = typeof time; return (type === 'number' || type === 'string' &amp;&amp; /^\d+$/.test(time)) ? time : new Date(time).getTime() / 1000; &#125; // ä½æ•°è¡¥å…¨ static ten(t) &#123; return t &lt; 10? '0' + t: t; &#125; // è®¾ç½®æ•°æ® setData(props) &#123; this.countType = props.countType; // æ”¯æŒä¸¤ç§è®¡æ—¶æ–¹å¼ï¼Œä¸¤ä¸ªæ—¥æœŸä¹‹é—´ &amp;&amp; ç§’æ•°çš„å€’è®¡æ—¶ this.timerId = null; // è®¡æ—¶å™¨ this.endTime = props.endTime; // è®¡æ—¶å™¨ç»“æŸæ—¶é—´ this.startTime = props.startTime; // è®¡æ—¶å™¨å¼€å§‹æ—¶é—´ this.timeLeft = props.timeLeft; // è®¡æ—¶å™¨å‰©ä½™ç§’æ•°ï¼Œ åŒºåˆ«äºŽä¸Šé¢æ—¶é—´æ®µçš„è®¡æ—¶æ–¹å¼ this.timePassed = 0; // æ­£å‘ä¸ºç´¯è®¡æ—¶é—´ï¼Œåå‘ä¸ºå‰©ä½™æ—¶é—´ this.onInterval = props.onInterval; // å®šæ—¶çš„å›žè°ƒ this.onEnd = props.onEnd; // ç»“æŸçš„å›žè°ƒ this.step = props.step; // è®¡æ—¶æ­¥é•¿ï¼Œä»¥ç§’ä¸ºå•ä½ï¼Œæ­£æ•°ä¸ºæ­£è®¡æ—¶ï¼Œè´Ÿæ•°ä¸ºå€’è®¡æ—¶ this.counter = 0; // ç´¯åŠ å™¨ TODO ç–‘é—® // æ•°æ®æ ¡éªŒ if (!this.countType) &#123; throw new Error('å¿…é¡»ä¼ å…¥ä¸€ä¸ª countType: seconds || date'); &#125; if ( (this.timeLeft &amp;&amp; (this.endTime || this.startTime)) || (!this.timeLeft &amp;&amp; !(this.endTime || this.startTime)) ) &#123; throw new Error('å¿…é¡»ä¼ å…¥ä¸€ä¸ªæ—¶é—´æ®µ [timeLeft] [startTime] [endTime]'); &#125; if (!this.timeLeft &amp;&amp; typeof this.startTime === 'undefined') &#123; this.startTime = Date.now()/ 1000; &#125; if (!this.timeLeft) &#123; this.timeLeft = Math.floor(CountDown.getSeconds(this.endTime) - CountDown.getSeconds(this.startTime)); &#125; this.refreshTime(true); &#125; // å‘¨æœŸå¯åŠ¨æ›´æ–°æ—¶é—´ auto() &#123; this.timerId = setTimeout(()=&gt; &#123; // å€’è®¡æ—¶åˆ°0åœæ­¢è®¡æ—¶ if (this.timePassed &lt;= 0 &amp;&amp; this.step &lt; 0) return this.end(); this.refreshTime(true); &#125;, 1000 * Math.abs(this.step)); // æ—¶é—´é—´éš”ä¸ºæ•´æ•°ï¼Œ å¯¹stepæ±‚ç»å¯¹å€¼ &#125; refreshTime(isStart) &#123; this.timePassed = (this.timeLeft * 1000 + this.step * 1000 * this.counter++) / 1000; if (this.countType === 'date') &#123; let _timePassed = this.timePassed, second = CountDown.ten(_timePassed % 60); _timePassed = parseInt(_timePassed / 60); let minute = CountDown.ten(_timePassed % 60); _timePassed = parseInt(_timePassed / 60); let hour = CountDown.ten(_timePassed % 24); _timePassed = CountDown.ten(parseInt(_timePassed / 24)); this.onInterval(_timePassed,hour,minute, second); &#125; else if (this.countType === 'seconds') &#123; this.onInterval(this.timePassed); &#125; isStart &amp;&amp; this.auto(); // æ˜¯å¦å¼€å§‹è®¡æ—¶ &#125; // å¼€å§‹è®¡æ—¶ start() &#123; clearTimeout(this.timerId); this.refreshTime(true); &#125; // ç»“æŸï¼š æ²¡æœ‰æ¸…ç©ºè®¡æ•° + åœæ­¢è®¡æ—¶ end() &#123; clearTimeout(this.timerId); this.onEnd(this.timeLeft); &#125; reset() &#123; this.counter = 0; clearTimeout(this.timerId); this.refreshTime(false); &#125;&#125; CountDownText.js123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122import React, &#123;Component&#125; from 'react';import &#123; Text&#125; from 'react-native';import CountDown from './CountDown';class CountDownText extends Component &#123; constructor(props) &#123; super(props); this.state = &#123; text: this.props.startText, &#125;; &#125; counter= null; static isTimeEquals(t1, t2) &#123; return Math.abs(t1 - t2) &lt; 2; &#125; componentWillReceiveProps(nextProps) &#123; let updating = true; // å€’è®¡æ—¶çš„æƒ…å†µ if (this.props.step === nextProps.step &amp;&amp; this.props.step &lt; 0) &#123; if (this.props.endTime) &#123; // 1. æŒ‰èµ·å§‹æ—¥æœŸæ¥è®¡æ—¶ updating = !CountDownText.isTimeEquals(this.props.endTime, nextProps.endTime); &#125; else &#123; // 2. æŒ‰é—´éš”ç§’æ•°æ¥è®¡æ—¶ updating = !CountDownText.isTimeEquals(nextProps.timeLeft, this.counter.timePassed); &#125; &#125; if (updating) &#123; // é‡ç½®ï¼š æ¸…ç©ºè®¡æ•° + åœæ­¢è®¡æ—¶ this.counter.reset(); this.counter.setData(Object.assign(&#123;&#125;, nextProps, &#123; onInterval: this.onInterval.bind(this), onEnd: this.onEnd.bind(this), &#125;)); if (nextProps.auto) &#123; this.start(); &#125; &#125; &#125; componentDidMount() &#123; this.counter = new CountDown(Object.assign(&#123;&#125;, this.props, &#123; onInterval: this.onInterval.bind(this), onEnd: this.onEnd.bind(this), &#125;)); if (this.counter.timeLeft &lt;= 0 &amp;&amp; this.counter.step &lt;= 0) &#123; return this.end(); &#125; if (this.props.auto) this.start(); &#125; componentWillUnmount() &#123; this.reset(); &#125; start() &#123; this.counter.start(); &#125; end() &#123; this.counter.end(); &#125; reset() &#123; this.counter.reset(); &#125; render() &#123; return ( &lt;Text style=&#123;this.props.style&#125;&gt; &#123;this.state.text&#125; &lt;/Text&gt; ) &#125; getTimePassed() &#123; return this.counter.timePassed; &#125; onInterval(...args) &#123; this.setState(&#123;text: this.props.intervalText.apply(null, args)&#125;) &#125; onEnd(timePassed) &#123; this.setState(&#123; text: this.props.endText, &#125;); this.props.afterEnd(timePassed); &#125;&#125;CountDownText.defaultProps = &#123; countType: 'seconds', onEnd: null, timeLeft: 0, step: -1, startText: null, intervalText: null, endText: null, auto: false, afterEnd: ()=&gt; &#123;&#125;,&#125;;export default CountDownText; åŽè®°å¤§é‡å€Ÿé‰´ https://github.com/shigebeyond/react-native-sk-countdown é¡¹ç›® å…¶å®žè¯´ç™½äº†åªæ˜¯åœ¨åŽŸæ¥ä»£ç ä¸Šä¼˜åŒ–æ”¹è¿›ï¼Œä¸»è¦å…¼å®¹æ–°ç‰ˆçš„React-Nativeã€React å’Œç”¨ ES6è¯­æ³•æ”¹å†™ã€‚]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>github</tag>
        <tag>JavaScript</tag>
        <tag>work</tag>
        <tag>React-Native</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç§»åŠ¨ç«¯æµè§ˆå™¨é»˜è®¤è¯·æ±‚ apple-touch-icon.png é—®é¢˜]]></title>
    <url>%2F2017%2F06%2F%E7%A7%BB%E5%8A%A8%E7%AB%AF%E6%B5%8F%E8%A7%88%E5%99%A8%E9%BB%98%E8%AE%A4%E8%AF%B7%E6%B1%82-apple-touch-icon-png-%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°é¡¹ç›®æœ‰åšåŸ‹ç‚¹ä¸Žè¯·æ±‚çš„è®°å½•ï¼Œ æ—©ä¸Šå‘çŽ°æœ‰ç”¨æˆ·è€æ˜¯ä¼šè¯·æ±‚ä¸€ä¸ªlocation.origin + &quot;/apple-touch-icon.png&quot; æˆ– location.origin + &quot;/apple-touch-icon-76x76.png&quot;çš„é—®é¢˜ã€‚ è¿™å°±å¾ˆçº³é—·äº†ï¼Œ é¦–å…ˆï¼ŒæŒ‰ç…§æˆ‘ä»¬çš„ä»£ç é£Žæ ¼æ˜¯ä¸ä¼šå‡ºçŽ° æ ¹ç›®å½•æŒ‡å‘çš„å›¾ç‰‡ è€Œä¸”åŽå°ä¹Ÿä¸ä¼šè¾“å‡ºè¿™ä¹ˆç³»ç»ŸåŒ–çš„å›¾ç‰‡åã€‚ ä¸€çœ‹å°±çŸ¥é“æ˜¯ apple æžçš„é¬¼ã€‚ äºŽæ˜¯ä¹Ž google äº†ä¸€ä¸‹ å¤§æ¦‚å°±æ˜¯ios8åŠä»¥ä¸Šsafariæµè§ˆå™¨çš„ä¿å­˜æ¡Œé¢æ“ä½œè¯·æ±‚çš„ä¸€å¼ å›¾ï¼Œç”¨äºŽåšiconã€‚ åœºæ™¯ï¼š è§£å†³æ–¹æ³•ï¼šå¯ä»¥åœ¨headåŠ ä¸Šè¿™æ®µ1&lt;link rel="apple-touch-icon" href="/custom_icon.png"&gt; å¦‚æžœè¦æ›´åŠ ç²¾å‡†ä¸€ç‚¹ï¼Œæ ¹æ®è®¾å¤‡æ¥ç”¨ä¸åŒçš„iconï¼Œåˆ™å¯ä»¥è¿™æ ·1234&lt;link rel="apple-touch-icon" href="touch-icon-iphone.png"&gt;&lt;link rel="apple-touch-icon" sizes="152x152" href="touch-icon-ipad.png"&gt;&lt;link rel="apple-touch-icon" sizes="180x180" href="touch-icon-iphone-retina.png"&gt;&lt;link rel="apple-touch-icon" sizes="167x167" href="touch-icon-ipad-retina.png"&gt; å¦‚æžœæ²¡æœ‰æ‰¾åˆ°ç¬¦åˆè®¾å¤‡çš„å°ºå¯¸ï¼Œé‚£ä¹ˆä¼šä¼˜å…ˆé€‰ç”¨æ¯”é¢„æœŸå°ºå¯¸å¤§çš„æœ€å°å›¾æ ‡ã€‚æ¯”å¦‚è®¾å¤‡çš„é€‚å½“å›¾æ ‡å¤§å°ä¸º58 x 58ï¼Œç³»ç»Ÿä¼šæŒ‰ç…§ä¸‹é¢å¯»æ‰¾ apple-touch-icon-80x80.png apple-touch-icon.png é»˜è®¤æ˜¯åŽ»æ›´ç›®å½•å¯»æ‰¾ï¼Œä¸è¿‡ä½ å¯ä»¥æŒ‡å®šä¸€ä¸ªè·¯å¾„ã€‚ åŽè®°æ›´å¤šèµ„æ–™]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>web</tag>
        <tag>work</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å·¥ä½œæ—¥å¸¸ å¸é¡¶æ•ˆæžœ]]></title>
    <url>%2F2017%2F05%2F%E5%B7%A5%E4%BD%9C%E6%97%A5%E5%B8%B8-%E5%90%B8%E9%A1%B6%E6%95%88%E6%9E%9C%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°å¸é¡¶ æœ€å¸¸è§çš„å°±æ˜¯æˆ‘ä»¬å¹³æ—¶ç½‘ç«™æµè§ˆçš„æ—¶å€™ï¼Œä¸‹æ»‘åˆ°æŸä¸ªç¨‹åº¦ä¹‹åŽ å¯¼èˆªæ å°±å›ºå®šåˆ°é¡¶éƒ¨è€Œä¸éšé¡µé¢æ»šåŠ¨è€Œæ»šåŠ¨ï¼ˆç®€å•è€Œè¨€å°±æ˜¯ fixed å¸ƒå±€ ).æœ€å¸¸è§çš„å®žçŽ°æ–¹å¼æ€è·¯å°±æ˜¯ åˆ¤æ–­é¡µé¢æ»šåŠ¨é«˜åº¦ï¼Œåˆ°æŸä¸ªé«˜åº¦çš„æ—¶å€™å°±è®©è¿™ä¸ªdivæ”¹å˜å®šä½æ–¹å¼ å…·ä½“å®žçŽ°å¼•å…¥ jq ï¼Œå¹¶åŠ ä¸€åˆ¤æ–­ï¼Œå¦‚æžœjq(zepto) æ²¡æœ‰ outerHeight/outerWidth æ‰‹åŠ¨å®žçŽ°ã€‚12345678910111213141516171819202122232425262728import $ from './jquery-2.1.1';// å¦‚æžœæ²¡æœ‰ outerWidth æˆ– outerHeight æ‰‹åŠ¨å®žçŽ°outerWidth &amp;&amp; outerHeight(()=&gt; &#123; if (typeof $.outerHeight === 'function') return; ['height', 'width'].forEach(dimension=&gt; &#123; let Dimension = dimension.replace(/./, m=&gt; m[0].toUpperCase()); $.fn['outer' + Dimension] = function(margin) &#123; if (this) &#123; let size = this[dimension](), sides = &#123; 'width': ['left', 'right'], 'height': ['top', 'bottom'], &#125;; sides[dimension].forEach(side=&gt; &#123; if (margin) size += parseInt(this.css('margin-' + side), 10); &#125;); return size; &#125; else &#123; return null; &#125; &#125; &#125;);&#125;)(); å®žçŽ°ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970const fixedTop = &#123; /** * @param el å…·ä½“è¦ fixed çš„ dom çš„å­—ç¬¦ä¸²æˆ–jqueryDom æˆ–dom * @param opts å…¶ä»–é…ç½®ï¼Œç›®å‰åªæœ‰ hold æ˜¯å¦è¦ç”Ÿæˆä¸€ä¸ªå ä½divé˜²æ­¢div è„±ç¦»æ–‡æ¡£æµåŽå…„å¼ŸèŠ‚ç‚¹æŠ–åŠ¨ */ init(el, opts=&#123; hold: true&#125;) &#123; // åˆå§‹åŒ–éœ€è¦çš„el this.$el = el instanceof $? el: $(el); // èŽ·å–åŽé¢è¦æ”¹å˜æ ·å¼çš„å…·ä½“å‚æ•° let offset = this.$el.offset(); this.offsetTop = offset.top; this.defaultHeight = this.$el.outerHeight(true); this.defaultState = &#123; position: this.$el.css('position'), width: this.$el.css('width') || 'auto', top: this.$el.css('top') || 'auto', &#125;; this.changeState = &#123; position: 'fixed', width: this.$el.outerWidth(), top: '0', left: offset.left, &#125;; // å¦‚æžœæœ‰ hodl å‚æ•°ï¼Œ é…ç½®å¥½è¦ç”Ÿæˆçš„ å ä½dom this.holdEl = opts.hold? `&lt;div class="J-fixedTop-pad" style="height:$&#123;this.defaultHeight&#125;px; visibility: hidden;"&gt;&lt;/div&gt;`: ''; // ç»‘å®šäº‹ä»¶ this.bindEvent(); &#125;, bindEvent() &#123; let $win = $(window); $win.scroll(()=&gt; &#123; let isTop = ($win.scrollTop() - this.offsetTop) &gt;= 0, isFixed = this.$el.data('fixed'); // åˆ¤æ–­ å¦‚æžœå¤§äºŽtop å¹¶ä¸”å½“å‰çš„domå…ƒç´ æ²¡æœ‰è¢«æ”¹å˜æ ·å¼ï¼Œåˆ™æ‰§è¡Œé€»è¾‘ if (isTop &amp;&amp; !isFixed) &#123; this.$el.data('fixed', true); if (!this.$el.next().hasClass('J-fixedTop-pad')) &#123; this.$el.after(this.holdEl); &#125; this.addCss(); &#125; else if (!isTop &amp;&amp; isFixed)&#123; // åä¹‹ è¿˜åŽŸdomæ ·å¼ this.$el.data('fixed', false); this.removeCss(); this.holdEl &amp;&amp; this.$el.next().remove(); &#125; &#125;) &#125;, addCss() &#123; this.$el.css(this.changeState); &#125;, removeCss() &#123; this.$el.css(this.defaultState); &#125;&#125;; è°ƒç”¨1fixedTop.init('#div'); åŽè®°å¾ˆç®€å•çš„å°éœ€æ±‚ï¼Œ æ˜¯åœ¨å·¥ä½œä¸­çœ‹åˆ°å°ä¼™ä¼´çš„è„šæœ¬åŽæ”¹è¿›çš„ã€‚ ä¸»è¦æ˜¯ä¹‹å‰æ²¡æœ‰æƒ³åˆ°è¦ç”Ÿæˆä¸€ä¸ªå ä½domæ¥é˜²æ­¢åŽé¢çš„æŠ–åŠ¨é¡¹ç›®æºç é“¾æŽ¥ ç›®å‰åªæ”¯æŒå¸é¡¶ï¼Œ åŽé¢å¯ä»¥å¯¹ä»£ç æ”¹é€ ï¼Œæ”¹æˆå¯ä»¥æ”¯æŒå·¦å³ä¸Šä¸‹çš„ ç„¶åŽæœ‰ä¸€ä¸ªcssæ ·å¼å¯ä»¥ç›´æŽ¥è¾¾åˆ°è¿™ä¸ªæ•ˆæžœï¼Œä½†æ˜¯å…¼å®¹æ€§ä¸ä¹è§‚ï¼Œ å¯¹å¸ƒå±€ä¹Ÿæœ‰æ‰€è¦æ±‚ï¼Œæœ‰å…´è¶£çš„å¯ä»¥åŽ»äº†è§£ä¸€ä¸‹.sticky demoã€‚sticky caniuse]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>github</tag>
        <tag>JavaScript</tag>
        <tag>work</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ios bodyäº‹ä»¶å§”æ‰˜çš„å‘]]></title>
    <url>%2F2017%2F05%2Fios-body%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98%E7%9A%84%E5%9D%91%2F</url>
    <content type="text"><![CDATA[éƒ¨é—¨è€å¤§: è¿™ä¸ªå¥—é¤æ€Žä¹ˆè¶…å‡ºä¸€å±ä¹‹åŽç‚¹å‡»æ²¡ååº”çš„â€¦ èµ·å› æœ‰ä¸€ä¸ªå¥—é¤åˆ—è¡¨æ˜¯é æŽ¥å£å¼‚æ­¥æ¸²æŸ“çš„ï¼Œæ‰€ä»¥äº‹ä»¶æˆ‘ç›´æŽ¥ç»‘å®šåœ¨bodyä¸Šï¼Œé€šè¿‡äº‹ä»¶å§”æ‰˜åŽ»è§¦å‘ã€‚è¿™åŽŸæœ¬æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œ è¦å‘½çš„æ˜¯ reset.css ä¸­æŠŠ body, html é«˜åº¦è®¾ç½®ä¸º 100%ã€‚ è¿™å°±å¯èƒ½å‡ºçŽ°ä¸‹é¢çš„æƒ…å†µ é¡µé¢è¿‡é•¿ï¼Œæ‹‰ä¸ŠåŽ»çš„æ—¶å€™ body åªæœ‰ 100% é«˜åº¦ï¼Œæ²¡æœ‰è¦†ç›–åˆ°ä¸‹é¢ï¼Œ æ‰€ä»¥è¿™æ—¶å€™ç‚¹å‡»ä¸‹é¢çš„å¥—é¤ï¼Œä¸ç®—æ˜¯ç‚¹å‡»åˆ°bodyä¸Š å§”æ‰˜ä¹Ÿå°±æ— ä»Žä¸‹æ‰‹ã€‚ è§£å†³æ–¹æ³•è§£å†³æ–¹æ³•å¾ˆç®€å•â€¦. åªéœ€è¦åœ¨é¡µé¢é‡ç½®æŽ‰é‚£ä¸ªæ ·å¼å³å¯ å¦‚ body=&gt; height: autoã€‚]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>work</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ios9 ä¸‹ domArray forEach æŠ¥é”™]]></title>
    <url>%2F2017%2F05%2Fios9-%E4%B8%8B-domArray-forEach-%E6%8A%A5%E9%94%99%2F</url>
    <content type="text"><![CDATA[èµ·å› æ˜¯è¿™æ ·çš„ï¼Œäº§å“éœ€æ±‚éœ€è¦è¾“å…¥æ¡†è¾“å…¥åŽï¼Œè¦æ ¹æ®å†…å®¹é«˜åº¦è‡ªé€‚åº”ï¼Œæœ€é«˜ä¸èƒ½è¶…è¿‡3è¡Œï¼Œ äºŽæ˜¯å†™äº†ä¸€ä¸ªå°å‡½æ•° 123456789101112131415const textareaAutoHeight = (className, &#123;multiple=3&#125;=&#123;&#125;)=&gt;&#123; let domList = document.querySelectorAll(className); domList.forEach(item=&gt; &#123; let _height = item.offsetHeight; // item.offsetHeight ç”¨zepto çš„ heightä¿é™©ä¸€ç‚¹ item.addEventListener('keyup', (e)=&gt; updateHeight(e, _height*multiple)); &#125;); function updateHeight(e, _height) &#123; let o = e.target; o.style.height = '1px'; o.style.height = Math.min(o.scrollHeight, _height) + 'px'; &#125;&#125; ä¼ å…¥domæ ‡è¯†åŠ ä¸Šè¡Œæ•°ï¼Œç”¨çš„å¾ˆå¼€å¿ƒã€‚æ²¡æ¯›ç—… æ²¡é—®é¢˜ã€‚ é¡¹ç›®ä¸Šçº¿åŽï¼Œå‘çŽ°è¯´åœ¨æŸäº›æœºåž‹ä¸‹ä¼šæŠ¥é”™ï¼ŒåŽé¢æŽ’æŸ¥åˆ°æ˜¯è¿™ä¸ªå‡½æ•°çš„é”™ã€‚åŽŸå› æ˜¯ ios9 ä¸€ä¸‹ã€‚ domList ä¸æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚ æ‰€ä»¥æ”¹åŠ¨äº†ä¸€ä¸‹ 1234567891011121314151617const textareaAutoHeight = (className, &#123;multiple=3&#125;=&#123;&#125;)=&gt;&#123; try &#123; let domList = [...document.querySelectorAll(className)]; domList.forEach(item=&gt; &#123; let _height = item.offsetHeight; // item.offsetHeight ç”¨zepto çš„ heightä¿é™©ä¸€ç‚¹ item.addEventListener('keyup', (e)=&gt; updateHeight(e, _height*multiple)); &#125;); function updateHeight(e, _height) &#123; let o = e.target; o.style.height = '1px'; o.style.height = Math.min(o.scrollHeight, _height) + 'px'; &#125; &#125; catch(e) &#123; console.warn('JSONZ textareaAutoHeight', e)&#125;&#125; åŠ äº†ä¸€ä¸ª try...catch... å¹¶ä¸”æŠŠ domList ç”¨es6è½¬ä¸ºæ•°ç»„ç±»åž‹. ä»¥åŽå†™å·¥å…·ç±»æ–¹æ³•ï¼Œå°½é‡åŠ å¤šä¸€ä¸ª try..catch... è‡³å°‘ä¿è¯ä¸å½±å“ä¸»æµç¨‹]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>work</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[webpack ä»£ç åˆ†å‰²(å¼‚æ­¥åŠ è½½åŠ å¿«é¦–å±é€Ÿåº¦)]]></title>
    <url>%2F2017%2F05%2Fwebpack-%E4%BB%A3%E7%A0%81%E5%88%86%E5%89%B2-%E5%BC%82%E6%AD%A5%E5%8A%A0%E8%BD%BD%E5%8A%A0%E5%BF%AB%E9%A6%96%E5%B1%8F%E9%80%9F%E5%BA%A6%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°å¯¹äºŽå•é¡µåº”ç”¨ï¼Œå°†æ‰€æœ‰ä»£ç æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥å‡å°‘ç½‘ç»œè¯·æ±‚ï¼Œå¹¶ä¸”åŽé¢é¡µé¢ä¸éœ€è¦å†åŽ»åŠ è½½js å¯ä»¥å‡å°‘ç™½é¡µæ—¶é—´ã€‚ ä½†æ˜¯å¯¹äºŽé¦–é¡µéœ€è¦å¿«é€ŸåŠ è½½çš„æƒ…å†µï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦é‡æ–°è€ƒè™‘ä¸€ä¸‹ï¼Œ æ˜¯å¦å¯ä»¥æŠŠä¸€äº›ä¸éœ€è¦ç¬¬ä¸€æ—¶é—´æ‰§è¡Œçš„ä»£ç å¼‚æ­¥åŠ è½½è¿›æ¥ã€‚ Webpackæœ‰ä¸€ä¸ªåŠŸèƒ½å¯ä»¥å°†æ‚¨çš„ä»£ç åº“åˆ†è§£æˆæŒ‰éœ€åŠ è½½çš„â€œå—â€ï¼Œè¿™ä¸ªåŠŸèƒ½å« ä»£ç åˆ†å‰²ã€‚ Webpackçš„å¯¹äºŽå—çš„æ‰§è¡Œæ˜¯ï¼Œ å¼‚æ­¥åˆ›å»º&lt;script&gt;æ ‡ç­¾ï¼ŒæŠŠéœ€è¦åŠ è½½çš„è„šæœ¬åŠ è½½è¿›æ¥å†æ‰§è¡Œã€‚ å…·ä½“æœ‰ä¸¤ç§ä½¿ç”¨æ–¹æ³•: CommonJs: require.ensure AMD: requireES6 Modules æš‚ä¸æ”¯æŒ AMD: require12345require(dependencies, callback)require(["module-a", "module-b"], function(a, b) &#123; // ...&#125;); dependencies: æ¨¡å—ä¾èµ–æ•°ç»„ callback: å›žè°ƒå‡½æ•° CommonJs: require.ensure12345require.ensure(dependencies, callback, chunkName);require.ensure(["module-a", "module-b"], function() &#123; var a = require("module-a"); // ...&#125;); dependencies: ä¾èµ–çš„æ¨¡å—æ•°ç»„ callback: å›žè°ƒå‡½æ•°ï¼Œè¯¥å‡½æ•°è°ƒç”¨æ—¶ä¼šä¼ ä¸€ä¸ªrequireå‚æ•° chunkName: æ¨¡å—åï¼Œç”¨äºŽæž„å»ºæ—¶ç”Ÿæˆæ–‡ä»¶æ—¶å‘½åä½¿ç”¨ å¯¹äºŽ CommonJs æ–¹æ³•ï¼Œ ä¸ªäººåœ¨é¡¹ç›®ä¸­éƒ½æ˜¯è¿™ä¹ˆç”¨çš„ 12345678require.ensure([],require=&gt;&#123; const menuBar = require('./menuBar'); const upcomingTrips = require('./upcomingTrips'); require('./c'); menuBar.init(); upcomingTrips.init();&#125;,'index_later'); ä¾èµ–ä¸å†™dependencies è€Œæ˜¯ç›´æŽ¥å†™åœ¨ å›žè°ƒé‡Œé¢ã€‚ å› ä¸ºwebpackä¼šåŽ»é€’å½’æ‹¿ä¾èµ–æ¨¡å—ï¼Œæ‰€ä»¥å°±ç®—æˆ‘ menuBaré‡Œé¢ä¾èµ–åˆ°å…¶ä»–æ¨¡å—ï¼Œä¹Ÿä¼šè¢«ä¸‹è½½ä¸‹æ¥ æ‰€ä»¥é—®é¢˜ä¸å¤§ã€‚ ä½†æ˜¯å¦‚æžœå¯¹äºŽå¤šæ¨¡å—äº’ç›¸ä¾èµ–çš„æƒ…å†µï¼Œå»ºè®®æŒ‰ç…§å®˜æ–¹demoå†™æ³• é˜²æ­¢é‡å¤åµŒå¥—æ‰“åŒ…ã€‚]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[cookie.js ç®€å•çš„cookieæ“ä½œæ’ä»¶]]></title>
    <url>%2F2017%2F05%2Fcookie-js-%E7%AE%80%E5%8D%95%E7%9A%84cookie%E6%93%8D%E4%BD%9C%E6%8F%92%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[å¯¹æ“ä½œcookieåšä¸€äº›æŽ¥å£, åŒ…æ‹¬ set, get, remove, clear, getAll ç­‰ï¼Œ éƒ½æ”¯æŒæ‰¹é‡å¤„ç†ã€‚ ç”¨æ³•12345678910111213141516// èŽ·å–Cookie.get('name');// è®¾ç½®Cookie.set(&#123;key: val, key1: val1&#125;, opts);Cookie.set('key', 'val');// ç§»é™¤æŸä¸ªå€¼Cookie.remove(name);Cookie.remove([name1, name2]);// æ¸…é™¤CookieCookie.clear();// èŽ·å–æ‰€æœ‰cookieCookie.getAll(); // &#123;key: val&#125; æºç è§£æžsetè®¾ç½®cookie, å¦‚æžœä¹‹å‰æ²¡æœ‰æŽ¥è§¦è¿‡cookie.set å¯ä»¥å‚è€ƒæ–‡æ¡£ https://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/cookies/set æ·»åŠ cookieæ¯”è¾ƒç‰¹æ®Šï¼Œç›´æŽ¥ç”¨ document.cookie = ä½ è¦è®¾ç½®çš„cookie å°±å¯ä»¥äº†ã€‚ 1234567891011121314151617181920set(name, value, opts) &#123; if (isObject(name)) &#123; for (let key in name) &#123; if (name.hasOwnProperty(key)) this.set(key, name[key], value); &#125; &#125; else &#123; let opt = isObject(opts)? opts: &#123; expires: opts&#125;, expires = typeof opt.expires === 'undefined'? '': opt.expires, expiresType = typeof expires, path = typeof opt.path === 'undefined'? ';path=/': `;path=$&#123;opt.path&#125;`, domain = opt.domain? `;domain=$&#123;opt.domain&#125;`: '', secure = opt.secure? ';secure': ''; if (expiresType === 'string' &amp;&amp; expires) expires = new Date(expires); else if (expiresType === 'number') expires = new Date(+new Date + 1000 * 60 * 60 * 24 * expires); if (expires !== '' &amp;&amp; 'toGMTString' in expires) expires = ';expires=' + expires.toGMTString(); document.cookie = [name, '=', encodeURI(value), expires, path, domain, secure].join(''); &#125;&#125;, getèŽ·å–cookie å…¶å®žå°±æ˜¯éåŽ† document.cookie ç„¶åŽæ ¹æ® name åŽ»åŒ¹é… 1234567891011get(name) &#123; let cookieName = name + '=', ca = document.cookie.split(';'); for (let i = 0; i &lt; ca.length; i++) &#123; let cItem = (ca[i][0] === ' ')? ca[i].slice(1): ca[i]; if (cItem.indexOf(cookieName) === 0) return decodeURI(cItem.substr(cookieName.length+1)); &#125; return false;&#125;, removeç§»é™¤cookieå…¶å®žå°±æ˜¯æŠŠè¿™ä¸ªcookie è®¾ç½®ä¸ºè¿‡æœŸã€‚ 1234567remove(name) &#123; let names = Array.isArray(name)? name: [name]; for (let i= 0; i&lt; names.length; i++) &#123; this.set(names[i], '', -1); &#125; return names;&#125;, clearéåŽ†document.cookie æŠŠæ‰€æœ‰çš„cookie è°ƒç”¨ä¸€æ¬¡remove. 123clear(name) &#123; return name? this.remove(name): this.remove(Object.keys(this.getAll()));&#125;, getAllèŽ·å–æœ¬åœ°æ‰€æœ‰çš„cookieï¼Œ è¿”å›ž {key: value} å½¢å¼ 123456789getAll() &#123; if (document.cookie === '') return &#123;&#125;; let cookies = document.cookie.split('; '), result = &#123;&#125;; for (let i= 0; i&lt; cookies.length; i++) &#123; let item = cookies[i].split('='); result[decodeURI(item[0])] = decodeURI(item[1]); &#125; return result;&#125; æºç Jsonz-github 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859const isObject = obj=&gt; !!value &amp;&amp; Object.prototype.toString.call(obj) === '[object Object]';const Cookie = &#123; get(name) &#123; let cookieName = name + '=', ca = document.cookie.split(';'); for (let i = 0; i &lt; ca.length; i++) &#123; let cItem = (ca[i][0] === ' ')? ca[i].slice(1): ca[i]; if (cItem.indexOf(cookieName) === 0) return decodeURI(cItem.substr(cookieName.length+1)); &#125; return false; &#125;, set(name, value, opts) &#123; if (isObject(name)) &#123; for (let key in name) &#123; if (name.hasOwnProperty(key)) this.set(key, name[key], value); &#125; &#125; else &#123; let opt = isObject(opts)? opts: &#123; expires: opts&#125;, expires = typeof opt.expires === 'undefined'? '': opt.expires, expiresType = typeof expires, path = typeof opt.path === 'undefined'? ';path=/': `;path=$&#123;opt.path&#125;`, domain = opt.domain? `;domain=$&#123;opt.domain&#125;`: '', secure = opt.secure? ';secure': ''; if (expiresType === 'string' &amp;&amp; expires) expires = new Date(expires); else if (expiresType === 'number') expires = new Date(+new Date + 1000 * 60 * 60 * 24 * expires); if (expires !== '' &amp;&amp; 'toGMTString' in expires) expires = ';expires=' + expires.toGMTString(); document.cookie = [name, '=', encodeURI(value), expires, path, domain, secure].join(''); &#125; &#125;, remove(name) &#123; let names = Array.isArray(name)? name: [name]; for (let i= 0; i&lt; names.length; i++) &#123; this.set(names[i], '', -1); &#125; return names; &#125;, clear(name) &#123; return name? this.remove(name): this.remove(Object.keys(this.getAll())); &#125;, getAll() &#123; if (document.cookie === '') return &#123;&#125;; let cookies = document.cookie.split('; '), result = &#123;&#125;; for (let i= 0; i&lt; cookies.length; i++) &#123; let item = cookies[i].split('='); result[decodeURI(item[0])] = decodeURI(item[1]); &#125; return result; &#125;&#125;; å‚è€ƒhttps://github.com/jaywcjlove/cookie.jshttps://developer.mozilla.org/en-US/search?q=cookie]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>github</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CORS è·¨åŸŸèµ„æºå…±äº«]]></title>
    <url>%2F2017%2F05%2FCORS-%E8%B7%A8%E5%9F%9F%E8%B5%84%E6%BA%90%E5%85%B1%E4%BA%AB%2F</url>
    <content type="text"><![CDATA[CORSæ˜¯ä¸€ä¸ªW3Cæ ‡å‡†ï¼Œå…¨ç§°æ˜¯â€è·¨åŸŸèµ„æºå…±äº«â€ï¼ˆCross-origin resource sharingï¼‰ å‡ºäºŽå®‰å…¨è€ƒè™‘ï¼Œæµè§ˆå™¨ä¼šé™åˆ¶æŸäº›è·¨åŸŸè¯·æ±‚ã€‚ è€Œ cors å…è®¸æµè§ˆå™¨æƒ³è·¨æºæœåŠ¡å™¨å‘èµ· XMLHttpRequest å’Œ Fetch æŽ¥å£è¯·æ±‚ã€‚ åŒæºç­–ç•¥åŒæºç­–ç•¥é™åˆ¶ä»Žä¸€ä¸ªæºåŠ è½½çš„æ–‡æ¡£æˆ–è„šæœ¬å¦‚ä½•ä¸Žæ¥è‡ªå¦ä¸€ä¸ªæºçš„èµ„æºè¿›è¡Œäº¤äº’ã€‚è¿™æ˜¯ä¸€ä¸ªç”¨äºŽéš”ç¦»æ½œåœ¨æ¶æ„æ–‡ä»¶çš„å…³é”®çš„å®‰å…¨æœºåˆ¶ã€‚ é‚£ä¹ˆæµè§ˆå™¨æ˜¯æ ¹æ®ä»€ä¹ˆè§„åˆ™æ¥åˆ¤å®šæ˜¯å¦ä¸ºåŒæºå‘¢ http://www.zuzuche.com:80 åè®®: http ç«¯å£: 80 (é»˜è®¤ä¸º80 å¦‚æžœæ²¡å†™ æµè§ˆå™¨ä¼šå¸®æˆ‘ä»¬åšè¿™äº›å·¥ä½œ) åŸŸå www.zuzuche.com å¦‚æžœåè®®ï¼Œ ç«¯å£ï¼Œ åŸŸåä¸€è‡´ï¼Œé‚£ä¹ˆæµè§ˆå™¨å°±ä¼šè®¤å®šæˆ‘ä»¬æ˜¯åœ¨åŒä¸ªæºä¸‹é¢ã€‚å¦åˆ™å°±ä¼šå‡ºçŽ°è·¨åŸŸé—®é¢˜ã€‚ å…·ä½“æ–‡æ¡£ç­‰å¯è§ ç®€å•è¯·æ±‚ä¸Žéžç®€å•è¯·æ±‚ç®€å•è¯·æ±‚æŒ‡çš„æ˜¯ è¯·æ±‚æ–¹æ³•æ˜¯ä»¥ä¸‹æ–¹æ³•ä¹‹ä¸€ GET POST HEAD ä¸è‡ªå®šä¹‰æŸäº›å¤´éƒ¨å­—æ®µ Accept Accept-Language Content-Language Content-Type ï¼ˆéœ€è¦æ³¨æ„é¢å¤–çš„é™åˆ¶ï¼‰ DPR Downlink Save-Data Viewport-Width Width Content-Type ä¸ºä»¥ä¸‹å€¼ä¹‹ä¸€ application/x-www-form-urlencoded multipart/form-data text/plain éžç®€å•è¯·æ±‚(é¢„æ£€è¯·æ±‚)æŒ‡çš„æ˜¯ ä½¿ç”¨äº†ä¸‹é¢ä»»ä¸€HTTPæ–¹æ³•ï¼š PUT DELETE CONNECT OPTIONS TRACE PATCH äººä¸ºè®¾ç½®æŸäº›å¤´éƒ¨å­—æ®µ Accept Accept-Language Content-Language Content-Type (but note the additional requirements below) DPR Downlink Save-Data Viewport-Width Width Content-Typeçš„å€¼ä¸å±žäºŽä¸‹åˆ—ä¹‹ä¸€ application/x-www-form-urlencoded multipart/form-data text/plain å‘èµ·ä¸€ä¸ªç®€å•çš„è¯·æ±‚1fetch(''); æ­¤æ—¶ä¼šå‘èµ·ä¸€ä¸ªç®€å•è¯·æ±‚ï¼Œå’Œæˆ‘ä»¬å¹³æ—¶å†™çš„ajaxæ²¡å¤šå¤§åŒºåˆ« å‘èµ·ä¸€ä¸ªéžç®€å•è¯·æ±‚123456789101112131415var invocation = new XMLHttpRequest();var url = &apos;http://bar.other/resources/post-here/&apos;;var body = &apos;&lt;?xml version=&quot;1.0&quot;?&gt;&lt;person&gt;&lt;name&gt;Arun&lt;/name&gt;&lt;/person&gt;&apos;; function callOtherDomain()&#123; if(invocation) &#123; invocation.open(&apos;POST&apos;, url, true); invocation.setRequestHeader(&apos;X-PINGOTHER&apos;, &apos;pingpong&apos;); invocation.setRequestHeader(&apos;Content-Type&apos;, &apos;application/xml&apos;); invocation.onreadystatechange = function()&#123;&#125;; invocation.send(body); &#125;&#125;callOtherDomain(); æ­¤æ—¶å‘èµ·çš„æ˜¯ä¸€ä¸ªéžç®€å•è¯·æ±‚ï¼Œæ‰€ä»¥æµè§ˆå™¨ä¼šå…ˆå‘ä¸€ä¸ªoptionsè¯·æ±‚æœåŠ¡å™¨ï¼Œä»¥èŽ·çŸ¥æµè§ˆå™¨æ˜¯å¦å…è®¸å®žé™…è¯·æ±‚ï¼Œå¦‚æžœå…è®¸å†ä¼šå‘å¤šä¸€ä¸ªçœŸå®žè¯·æ±‚ã€‚ corsæˆ‘ä»¬è¦è·¨åŸŸèŽ·å–èµ„æºï¼Œä¸»è¦è¦åŽå°äººå‘˜é…åˆã€‚ ä¸€èˆ¬æƒ…å†µæˆ‘ä»¬åªéœ€è¦æŠŠæŠ¥é”™ä¿¡æ¯ç»™åŽå°äººå‘˜çœ‹å°±çŸ¥é“æ€Žä¹ˆåšäº†ï¼Œæ¯”å¦‚æˆ‘ç›´æŽ¥è°ƒç”¨ æŠ¥äº†ä¸€ä¸ªè·¨åŸŸé—®é¢˜ Fetch API cannot load https://www.baidu.com/. No â€˜Access-Control-Allow-Originâ€™ header is present on the requested resource. Origin â€˜https://developer.mozilla.org&#39; is therefore not allowed access. If an opaque response serves your needs, set the requestâ€™s mode to â€˜no-corsâ€™ to fetch the resource with CORS disabled. ç›´æŽ¥æŠŠé”™è¯¯ä¸¢ç»™åŽå°äººå‘˜ï¼Œä»–ä»¬å°±çŸ¥é“è®¾ç½®ä¸€ä¸ªå±žæ€§ Access-Control-Allow-Origi ä¸€èˆ¬è®¾ç½®ä¸º * è°éƒ½å¯ä»¥è®¿é—® ä¹Ÿå¯ä»¥æ ¹æ®æƒ…æ™¯è®¾å®šç‰¹å®šçš„åŸŸåã€‚ å‚è€ƒ https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>web</tag>
        <tag>work</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[èŽ·å–æ»šåŠ¨æ¡å®½åº¦]]></title>
    <url>%2F2017%2F05%2F%E8%8E%B7%E5%8F%96%E6%BB%9A%E5%8A%A8%E6%9D%A1%E5%AE%BD%E5%BA%A6%2F</url>
    <content type="text"><![CDATA[å¹³æ—¶å·¥ä½œçš„æ—¶å€™ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°éœ€è¦å…¨å±€ loading åŠ  é®ç½©å±‚ çš„åŠŸèƒ½ã€‚è¿™æ—¶å€™ä¸€èˆ¬ä¼šè®¾ç½® body { overflow: hidden } é˜²æ­¢é¡µé¢æ»šåŠ¨ã€‚ ä½†æ˜¯åœ¨ pc ç«¯ å¦‚æžœä¸€ä¸ªé¡µé¢æœ‰æ»šåŠ¨æ¡ï¼Œçªç„¶ç»™è®¾ç½®ä¸ºæ²¡æœ‰çš„è¯ï¼Œ å¯èƒ½ä¼šå‡ºçŽ°æŠ–åŠ¨çš„çŽ°è±¡ã€‚ æ‰€ä»¥æˆ‘ä»¬çš„è§£å†³æ€è·¯æ˜¯ åœ¨è®¾ç½®æ ·å¼ä¹‹åŽï¼Œç»™body(ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–) åŠ å¤šä¸€ä¸ª padding-rightæ¥å¡«å……åŽŸæœ¬æ»šåŠ¨æ¡çš„å®½åº¦ã€‚ 123456789101112131415161718192021function getScrollBarWidth() &#123; var div = document.createElement('div'), styles = &#123; width: '100px', height: '10px', overflow: 'scroll' &#125;, scrollWidth = 0; for (var key in styles) &#123; div.style[key] = styles[key]; &#125; document.body.appendChild(div); scrollWidth = div.offsetWidth - div.clientWidth; div.remove(); return scrollWidth;&#125;// ä¼ªä»£ç æ€è·¯&#123; body.overflow = hidden; body.paddingRight += getScrollBarWidth();&#125;]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>work</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç§»åŠ¨ç«¯é•¿æŒ‰å¼¹å‡ºå¤åˆ¶ç­‰é€‰é¡¹è®¾ç½®]]></title>
    <url>%2F2017%2F05%2F%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%95%BF%E6%8C%89%E5%BC%B9%E5%87%BA%E5%A4%8D%E5%88%B6%E7%AD%89%E9%80%89%E9%A1%B9%E8%AE%BE%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[ä»Šå„¿äº§å“å¤§ä½¬åæ§½ä¸€å¥: åœ¨æ‰‹æœºç«¯chrome æµè§ˆå™¨ä¸‹ ç‚¹ä¸€ä¸ªæ–‡å­—è€æ˜¯è¦å¼¹å‡ºä¸€ä¸ªè®©æˆ‘åˆ’è¯ å¥½çƒ¦ã€‚èƒ½ä¸èƒ½è®©ä»–ä¸è¦å¼¹å‡ºé‚£äº›ä¸œè¥¿æ¥ å…¶å®žçŽ°åœ¨å¾ˆå¤šçš„ app å†…åµŒ h5 é¡µé¢éƒ½æ˜¯å–œæ¬¢æŠŠæ‰‹æœºé»˜è®¤çš„é•¿æŒ‰å¼¹å‡ºèœå•[é€‰æ‹©ï¼Œ å¤åˆ¶ï¼Œ å‰ªåˆ‡] ç­‰ç¦æŽ‰ã€‚ 1234567// ç»™æ‰€æœ‰æ ·å¼éƒ½åŠ ä¸Šè¿›åˆ¶å¼¹å‡ºé•¿æŒ‰èœå•å±žæ€§ã€‚* &#123; -webkit-user-select: none; user-select: none; &#125;// è®°å¾—è¦ç»™è¡¨å•æŽ’é™¤ï¼Œä¸€èˆ¬è¡¨å•éƒ½æœ‰å¤åˆ¶é»è´´çš„éœ€æ±‚input,textarea &#123;-webkit-user-select: text;user-select: text;&#125; å…¼å®¹é—®é¢˜ ç§»åŠ¨ç«¯åŸºæœ¬å…¼å®¹]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>work</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[React-Native é”™è¯¯æ€»ç»“]]></title>
    <url>%2F2017%2F05%2FReact-Native-%E9%94%99%E8%AF%AF%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[No bundle URL present.github issues é¡¹ç›®åˆ›å»ºå¤§æ¦‚ä¸€ä¸ªæœˆäº†ï¼Œæœ€è¿‘çªç„¶æƒ³å†æ¡èµ·react-nativeå­¦ä¹ ï¼Œ ç›´æŽ¥è·‘react-native run-ioså°±æŠ¥çº¢å± No bundle URL present.github ä¸Šçš„ issues ç»™å‡ºäº†å‡ ç§è§£å†³æ–¹æ³•ã€‚ é‡æ–°å®‰è£…ä¾èµ– Run â€œreact-native run-iosâ€ When the error appears, run â€œnpm installâ€ Then run â€œreact-native run-iosâ€ again. adding NSAllowsLocalNetworking to Info.plistè¿™ä¸ªè§£å†³æ–¹æ³•æ…Žé‡ï¼Œå¦‚æžœä¿®æ”¹äº†æ²¡æœ‰è§£å†³ è¯·è¿˜åŽŸè¯¥ä»£ç 12345678910&lt;key&gt;NSAppTransportSecurity&lt;/key&gt; &lt;dict&gt; &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt; &lt;true/&gt; &lt;key&gt;NSAllowsArbitraryLoadsInWebContent&lt;/key&gt; &lt;true/&gt; &lt;key&gt;NSAllowsLocalNetworking&lt;/key&gt; &lt;true/&gt; &lt;/dict&gt;&lt;/key&gt; 8081ç«¯å£è¢«å ç”¨macä¸‹kill è¯¥æŽ¥å£ï¼Œå†é‡æ–°è·‘ run-ios 12sudo lsof -i :8071kill -9 &lt;PID&gt; åœ¨ xCode ä¸­å¯åŠ¨é¡¹ç›®åˆ é™¤æœ¬åœ°é¡¹ç›®ä¸­çš„ ios/build é‡æ–°è·‘ run-ios buildé¡¹ç›®å…³é—­æœ¬åœ°ä»£ç†ï¼Œæˆ–è€…è®¾ç½®ä¸åŽ»ä»£ç† 127.0.0.1æ‰‹åŠ¨æŸ¥æ‰¾è§£å†³é—®é¢˜åœ¨ç»ˆç«¯è·‘ react-native bundle --platform ios --dev false --entry-file index.ios.js --bundle-output ./ios/release/main.jsbundle --assets-dest ./ios/release/main.jsbundle å¯ä»¥æ‰¾åˆ°æŠ¥é”™åŽŸå› ï¼Œ æ¯”å¦‚æˆ‘æ˜¯ 12345678bundle: startbundle: finishbundle: Writing bundle output to: ./ios/release/main.jsbundleENOENT: no such file or directory, open &apos;./ios/release/main.jsbundle&apos;å°‘äº† PureRenderMixin ç»„ä»¶npm i --save react@16.0.0-alpha.6 é‡æ–°è®¾ç½® æœ¬åœ°loaclhost1234$ sudo vi /private/etc/hosts# Add this line127.0.0.1 localhost è®© xcode èŽ·å–æƒé™å†é‡è¯•123sudo xcodebuild -licensereact-native run-ios å¼€ä¸¤ä¸ªç»ˆç«¯ç¬¬ä¸€ä¸ªç»ˆç«¯è·‘ npm startç¬¬äºŒä¸ªç»ˆç«¯å†è·‘ react-native æ¸…é™¤é¡¹ç›® é‡è£…1234567brew updatebrew unlink watchmanbrew install watchmanrm -rf ios/build; rm -rf ios/build; rm -rf android/build; rm -rf android/app/build; rm -rf $TMPDIR/react* ; rm -f ios/main.jsbundle; rm -rf node_modules; rm yarn.lock || true; npm cache clean; yarn cache cleanyarn install or npm install æˆ‘è‡ªå·±çš„è§£å†³æ–¹æ³•æŠŠè‡ªå·±çš„é¡¹ç›®ä»£ç æ‹·è´å‡ºæ¥åŽï¼Œæ•´ä¸ªé¡¹ç›®åˆ äº†é‡æ–°å®‰è£… 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125/** * Sample React Native App * https://github.com/facebook/react-native * @flow */import React, &#123; Component &#125; from &apos;react&apos;;import &#123; AppRegistry, StyleSheet, Text, View&#125; from &apos;react-native&apos;;class Parent extends Component &#123; constructor(props) &#123; super(props); this.state = &#123; hit: false &#125;; &#125; // æ¬¡æ•°æ¸…é›¶ timeReset() &#123; &#125; willHit() &#123; &#125; componentWillMount() &#123; &#125; componentDidMount() &#123; &#125; shouldComponentUpdate() &#123; return true; &#125; componentWillUpdate() &#123; &#125; componentDidUpdate() &#123; &#125; render() &#123; return ( &lt;View style=&#123;srtles.container&#125;&gt; &#123; this.state.hit ? &lt;Child /&gt; : null &#125; &lt;Text style=&#123;styles.welcome&#125; onPress=&#123;this.timeReset.bind(this)&#125;&gt; è€å­å¿ƒæƒ…å¥½ï¼Œä¸æä½ äº† &lt;/Text&gt; &lt;Text style=&#123;styles.instructions&#125; onPress=&#123;this.willHit.bind(this)&#125;&gt; è€å­æä½ ä¸€æ¬¡ &lt;/Text&gt; &lt;Text style=&#123;styles.instructions&#125; onPress=&#123;this.willHitT.bind(this)&#125;&gt; è€å­è¦æä½ ä¸‰æ¬¡ &lt;/Text&gt; &lt;/View&gt; ) &#125;&#125;class Child extends Component &#123; constructor(props) &#123; super(props); this.state = &#123; times: 0 &#125; &#125; timesPlus() &#123; let time = this.state.times; times++; this.setState(&#123; times &#125;); &#125; render() &#123; return ( &lt;View style=&#123;styles.container&#125;&gt; &lt;Text style=&#123;styles.welcome&#125; onPress=&#123;this.timesPlus.bind(this)&#125;&gt; å„¿å­ä¸æœ &lt;/Text&gt; &lt;Text style=&#123;styles.instructions&#125;&gt; ä½ æ‰“äº†æˆ‘ &#123;this.state.times&#125; æ¬¡ &lt;/Text&gt; &lt;/View&gt; ) &#125;&#125;const styles = StyleSheet.create(&#123; container: &#123; flex: 1, justifyContent: &apos;center&apos;, alignItems: &apos;center&apos;, backgroundColor: &apos;#F5FCFF&apos;, &#125;, welcome: &#123; fontSize: 20, textAlign: &apos;center&apos;, margin: 10, &#125;, instructions: &#123; textAlign: &apos;center&apos;, color: &apos;#333333&apos;, marginBottom: 5, &#125;,&#125;);AppRegistry.registerComponent(&apos;imooc&apos;, () =&gt; Parent); Cannot Find entry file index.ios.js in any of the project rootsçº¢å± æŠ¥é”™ï¼Œæ‰¾ä¸åˆ°å…¥å£æ–‡ä»¶ã€‚ æ£€æŸ¥è‡ªå·±çš„ index.ios.js é‡Œé¢æœ‰æ²¡æœ‰è°ƒç”¨åˆå§‹åŒ–çš„å‡½æ•°å¦‚ AppRegistry.registerComponent(&#39;Your project name&#39;, () =&gt; indexComponents);https://github.com/facebook/react-native/issues/4968github é‡Œé¢åˆ—ä¸¾äº†æˆªæ­¢ç¼–å†™ 300+ æ¡è¯„è®ºã€‚å¯ä»¥æœï¼Œ ä¸è¿‡åŽŸå› åº”è¯¥æ˜¯æŸä¸ªnode_module å‡çº§ä¾èµ–é€ æˆçš„ï¼Œ æ‰€ä»¥æ²¡äº‹ä¸è¦ä¹±å‡çº§å•Šã€‚ TypeError: Network request failedios ä¸‹è¯·æ±‚è€æ˜¯å¤±è´¥ï¼ŒèŽ«åå…¶å¦™çš„å¤±è´¥ã€‚ åŽé¢å‘çŽ°è¯´æ˜¯å› ä¸ºä¹‹å‰ clean projectã€‚ æ²¡æœ‰é‡æ–°è®¾ç½® ios çš„è¯·æ±‚ http æƒé™ã€‚ æ‰“å¼€xCode æ‰¾åˆ° Info.plist åœ¨ Information Property List ä¸‹æ–°å¢ž NSAppTransportSecurity è¿™æ—¶å€™ä¼šæç¤ºä½ å·²ç»æœ‰äº† NSAppTransportSecurity æ˜¯å¦è¦ä¿®æ”¹ï¼Œ ç‚¹å‡»æ˜¯ æ­¤æ—¶ä½ ä¼šå‘çŽ° NSAppTransportSecurity å·²ç»æ”¹åä¸º App Transport Security Settingsã€‚ æœ¬æœºxCode ç‰ˆæœ¬ä¸º 8.3.2; ç‚¹å‡» App Transport Security Settings å³è¾¹çš„åŠ å· æ·»åŠ NSAllowsArbitraryLoads(8.3.2ç‰ˆæœ¬ä¸º Allow Arbitrary Loads) åŽé¢çš„å€¼æ”¹ä¸º YESã€‚ é‡å¯é¡¹ç›®å³å¯ å…·ä½“å¯è§https://stackoverflow.com/questions/31254725/transport-security-has-blocked-a-cleartext-http react-native-image-picker é—®é¢˜é€‰æ‹©å›¾ç‰‡æ—¶å¥”æºƒé”™è¯¯å…¶å®žæ˜¯å› ä¸ºå®‰è£… react-native-image-picker ä¸å¤Ÿç»†å¿ƒï¼Œåªçœ‹åˆ°è‡ªåŠ¨å®‰è£…çš„æ—¶å€™å†™ç€ 1react-native link æ²¡çœ‹åˆ°è¿˜è¦æ‰‹åŠ¨åœ¨ Info.plist ä¸Šæ·»åŠ ä¸€äº›ä¿¡æ¯ï¼Œç”¨äºŽå¤‡æ³¨éœ€è¦ è®¿é—®ç…§ç‰‡æƒé™ï¼Œéº¦å…‹é£Žæƒé™ï¼ˆå½•åƒéœ€è¦ï¼‰ï¼Œ ç›¸æœºæƒé™ç­‰ã€‚ æ‰€ä»¥ç¨‹åºä¼šæŠ¥ä¸€ä¸ª SIGABRT çš„é”™è¯¯. Cannot read property â€˜showImagePickerâ€™ of undefindeå¦‚æžœé‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæ˜¯å› ä¸ºä½ å®‰è£…è¯¥ç»„ä»¶åŽæ²¡æœ‰é‡çŽ°ç¼–è¯‘iosä»£ç ï¼Œé‡æ–°ç¼–è¯‘ä¸€æ¬¡å³å¯ã€‚ å¦‚æžœè¿˜ä¸èµ·ä½œç”¨å¯ä»¥æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦å®‰è£…æ­£ç¡®ï¼Œå†è·‘å‘½ä»¤ rm -rf ios/build &amp;&amp; react-native run-ios React-Native å‘çœŸçš„æ˜¯é‡è¿‡æœ€å¤šçš„ä¸€ä¸ª]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[imooc React-Native æ–‡å­—å°æ¸¸æˆ]]></title>
    <url>%2F2017%2F05%2Fimooc-React-Native-%E6%96%87%E5%AD%97%E5%B0%8F%E6%B8%B8%E6%88%8F%2F</url>
    <content type="text"><![CDATA[æ–‡å­—å°æ¸¸æˆéœ€æ±‚ï¼š è€å­ &amp;&amp; å„¿å­ -è€å­æ‰“å„¿å­ï¼š - å¯ä»¥æ‰“ä¸€æ¬¡ è®°ä»‡æ¬¡æ•°+1 - å¯ä»¥æ‰“ä¸‰æ¬¡ è®°ä»‡æ¬¡æ•°+3 - å¯ä»¥ç»™ä¸ªç³– è®°ä»‡æ¬¡æ•°æ¸…é›¶ å„¿å­åé©³è€å­ï¼š å„¿å­ä¸æœ è€å­æ‰“ä¸€æ¬¡ å„¿å­éª‚è€å­ è€å­æ‰“ä¸‰æ¬¡ å„¿å­ä¹°å•¤é…’ç»™è€å­ è®°ä»‡æ¬¡æ•°æ¸…é›¶]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>github</tag>
        <tag>imooc</tag>
        <tag>React-Native</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[setTimeout && setInterval å­¦ä¹ ]]></title>
    <url>%2F2017%2F05%2FsetTimeout-setInterval-%E5%AD%A6%E4%B9%A0%2F</url>
    <content type="text"><![CDATA[å®šæ—¶å™¨å¤§å®¶å¹³æ—¶åšjså¼€å‘éƒ½ä¸é™Œç”Ÿäº† æœ€å¸¸è§çš„åº”ç”¨åº”è¯¥å°±æ˜¯éªŒè¯ç çš„å€’è®¡æ—¶ æˆ– æŸæ®µå‡½æ•°çš„å¼‚æ­¥æ‰§è¡Œäº†ã€‚ æ¦‚è¿°jsçš„å®šæ—¶å™¨ä¸»è¦æœ‰ setTimeout å’Œ setInterval. è¿™ä¸¤ä¸ªå‡½æ•°æ‰§è¡ŒåŽï¼Œéƒ½ä¼šè¿”å›žä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå®šæ—¶å™¨çš„ç¼–å·ï¼ŒåŽé¢å¯ä»¥é€šè¿‡clearTimeout æˆ– clearIntervalæ¥æ¸…é™¤è¯¥å®šæ—¶å™¨ã€‚ setTimeoutå’ŒsetIntervalçš„è¿è¡Œæœºåˆ¶éƒ½æ˜¯ å°†ä»£ç ç§»é™¤æœ¬æ¬¡æ‰§è¡Œï¼Œç­‰å¾…ä¸‹ä¸€è½®çš„ Event Loopå†æ£€æŸ¥æ˜¯å¦åˆ°æ‰§è¡Œçš„æ—¶é—´ã€‚æ‰€ä»¥å¯ä»¥ç”¨ setTimeout(()=&gt; {}, 0) æ¥æ¨¡æ‹Ÿæ‰§è¡Œå¼‚æ­¥æ“ä½œã€‚ setTimeoutæ‰§è¡Œå‡½æ•°setTimeout æ˜¯ç”¨æ¥åˆ¶å®šæŸæ®µå‡½æ•°æˆ–ä»£ç ï¼Œåœ¨å¤šå°‘æ¯«ç§’å»¶è¿ŸåŽæ‰§è¡Œã€‚å¦‚æžœä¼ å…¥çš„æ˜¯ä¸€æ®µä»£ç ï¼Œå¿…é¡»æ˜¯å­—ç¬¦ä¸²ç±»åž‹çš„ã€‚è¿™æ—¶å€™jsä¼šè°ƒç”¨evalæ¥æ‰§è¡Œè¯¥ä»£ç ï¼Œ å‡ºäºŽå®‰å…¨ä¸Žæ€§èƒ½è€ƒè™‘ å»ºè®®ç›´æŽ¥ä¼ å…¥ä¸€ä¸ªå‡½æ•°çš„å½¢å¼æ¥æ‰§è¡Œã€‚delay ä¸ºå»¶è¿Ÿçš„æ—¶é—´ï¼Œå•ä½æ˜¯ms1var timerId = setTimeout(func|code, delay); å‚æ•°setTimeoutå¯ä»¥æœ‰å¤šä¸ªå‚æ•°ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°å¼€å§‹ä¸ºä¼ å…¥è¿è¡Œæ–¹æ³•çš„å‚æ•°ã€‚å¾ˆç»å…¸çš„é—­åŒ…é¢è¯•é¢˜å°±å¯ä»¥ç”¨setTimeoutä¼ å‚æ¥è§£å†³12for (var i = 0; i&lt; 10; i++) &#123; setTimeout(function() &#123; console.log(i)&#125; ,0) &#125; // è¿è¡Œç»“æžœæ˜¯è¾“å‡º10ä¸ª10for (var i = 0; i&lt; 10; i++) &#123; setTimeout(function(i) &#123; console.log(i)&#125; ,0, i) &#125; // è¿è¡Œç»“æžœæ˜¯è¾“å‡º0-9 è¿è¡ŒçŽ¯å¢ƒsetTimeoutçš„è¿è¡ŒçŽ¯å¢ƒæ˜¯å…¨å±€(eval)ã€‚demo1123456789var x = 1;var o = &#123; x: 2, y: function() &#123; console.log(this.x); &#125;&#125;setTimeout(o.y, 0); // æ­¤æ—¶è¾“å‡ºçš„æ˜¯1ï¼Œå› ä¸ºå…¨å±€(window)ä¸Šçš„xå±žæ€§æ˜¯1 demo2123456789function User(login) &#123; this.login = login; this.sayHi = function() &#123; console.log(this.login); &#125;&#125;var user = new User('John');setTimeout(user.sayHi, 0); // undefined å› ä¸ºæ‰§è¡Œçš„æ—¶å€™ å…¨å±€å¯¹è±¡æ²¡æœ‰ loginè¿™ä¸ªå±žæ€§ è§£å†³æ–¹æ³•ä¸€ï¼š æ”¾åˆ°ä¸€ä¸ªåŒ¿åå‡½æ•°é‡Œé¢æ‰§è¡Œæ–¹æ³•1123setTimeout(function() &#123; user.sayHi();&#125;); è§£å†³æ–¹æ³•äºŒï¼š ç¼“å­˜å½“å‰çš„thiså˜é‡æ–¹æ³•2123456document.body.addEventListener('click', function() &#123; var _this = this; setTimeout(function() &#123; _this.value = 'ok'; &#125;)&#125;, false); è§£å†³æ–¹æ³•ä¸‰ï¼š ç›®å‰é¡¹ç›®ä¸­æœ€å¸¸ç”¨ï¼Œ ç”¨es6çš„ç®­å¤´å‡½æ•°æ–¹æ³•31setTimeout(()=&gt; user.sayHi(), 0); setIntervalsetIntervalçš„ä½¿ç”¨æ–¹æ³•ä¸Žå‚æ•°å’ŒsetTimeoutä¸€è‡´ã€‚ ä¸è¿‡setIntervalæ˜¯é—´éš” Xms æ‰§è¡Œä¸€æ¬¡è¯¥å‡½æ•°ã€‚ä½†å®žé™…ä¸Š å‡½æ•°æ‰§è¡Œéœ€è¦æ—¶é—´ï¼Œæ‰€ä»¥ä¸¤æ¬¡æ‰§è¡Œå‡½æ•°ä¹‹é—´çš„é—´éš”ä¼šå°äºŽ setIntervalæŒ‡å®šçš„æ—¶é—´. setInterval æ‰§è¡Œæ—¶é—´å‡å®šsetIntervalæŒ‡å®šæ¯100msæ‰§è¡Œä¸€æ¬¡ï¼Œæ¯æ¬¡æ‰§è¡Œçš„å‡½æ•°è€—æ—¶ä¸º 5ms, é‚£ä¹ˆç¬¬ä¸€æ¬¡æ‰§è¡Œç»“æŸåŽçš„ 95ms åŽä¼šæ‰§è¡Œç¬¬äºŒæ®µå‡½æ•°ã€‚å¦‚æžœæŸæ¬¡æ‰§è¡Œç‰¹åˆ«è€—æ—¶ å¦‚ 105ms, é‚£ä¹ˆ å½“å®ƒç»“æŸåŽï¼Œä¼šç«‹å³æ‰§è¡Œä¸‹ä¸€æ¬¡çš„å‡½æ•°ã€‚ æ­¤æ®µä¸ºæŸåšå®¢çœ‹åˆ°çš„ï¼Œä¸ªäººå®žè·µå¾—å‡ºæ‰§è¡Œæ—¶é—´æœ‰å¿«ä¸Žæ…¢çš„åå·®æ²¡æœ‰ç»å¯¹æå‰æ‰§è¡Œ ä¸‹é¢çœ‹ä»£ç ä¾‹å­demo31234567891011121314151617function init() &#123; // è€—æ—¶ 5ms çš„æŸä¸ªæ“ä½œ handleMouseClick(); // è€—æ—¶ 5ms çš„æŸä¸ªæ“ä½œ setInterval(timerTask, 10); // è€—æ—¶ 5ms çš„æŸä¸ªæ“ä½œ&#125;function handleMouseClick() &#123; // è€—æ—¶ 8ms çš„æŸä¸ªæ“ä½œ&#125;function timerTask() &#123; // è€—æ—¶ 2ms çš„æŸä¸ªæ“ä½œ&#125;init(); ç½‘ä¸Šåšå®¢è¯´æ³•ï¼ˆæ­¤å¤„ä¿ç•™æ„è§ï¼‰ï¼š0-15ms: è¿è¡Œinit15-23ms: è¿è¡ŒhandleMouseClickå‡½æ•°ã€‚è¯·æ³¨æ„ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯åœ¨5msæ—¶è§¦å‘çš„ï¼Œåº”è¯¥åœ¨é‚£ä¸ªæ—¶å€™å°±ç«‹å³è¿è¡Œï¼Œä½†æ˜¯ç”±äºŽå•çº¿ç¨‹çš„å…³ç³»ï¼Œå¿…é¡»ç­‰åˆ°initå‡½æ•°å®Œæˆä¹‹åŽå†è¿è¡Œã€‚23-25ms: è¿è¡ŒtimerTaskå‡½æ•°ã€‚ è§„å®šæ¯10msè¿è¡Œä¸€æ¬¡ï¼Œæ—¢åœ¨20msï¼Œ 30msï¼Œ 40msä¼šè¿è¡Œã€‚ä½†æ˜¯ç”±äºŽå½“å‰è¿˜æœ‰ä»»åŠ¡åœ¨è¿è¡Œï¼Œå› æ­¤å¿…é¡»å»¶è¿Ÿåˆ°å‰é¢ä»»åŠ¡å®ŒæˆåŽå†è¿è¡Œ30-32ms: è¿è¡ŒtimerTask40-42ms: è¿è¡ŒtimerTask ç”±äºŽå¹³æ—¶debugè°ƒè¯•æ—¶ï¼Œåœ¨handleMouseClickåº”è¯¥ä¸ä¼šç­‰åˆ°initè¿è¡ŒåŽå†æ‰§è¡Œã€‚äºŽæ˜¯æŠ±ç€å­¦ä¹ çš„æ€åº¦è‡ªå·±å†™äº†ä¸€æ®µä»£ç demo412function _init() &#123; demo(10);console.log(1); demo(10); handle(); demo(10);console.log(2); setInterval(()=&gt; console.log('setInterval'), 1000); console.log(3) &#125;; function handle() &#123;demo(15); console.log('handle')&#125;;function demo(i) &#123;var sum = 0; for (var j = 0; j &lt; i * 1000000; j++) &#123;sum += j;&#125;&#125;;_init(); åˆ©ç”¨forå¾ªçŽ¯æ¥é€ æˆè¿è¡Œå®žè·µçš„å»¶é•¿è¿è¡Œ _init() ç»“æžœæ˜¯ï¼šâ‘  è¾“å‡º1 éš”26msåŽ è¾“å‡ºhandle éš”10msåŽ è¾“å‡º2 åŒä¸€æ—¶é—´è¾“å‡º3(æ­¤å¤„å¯ä»¥ç†è§£æˆæ‰§è¡Œçš„æ—¶é—´å°äºŽ1ms)ã€‚æ­¤æ—¶ _init()æ‰§è¡Œç»“æŸ ç”±äºŽæ²¡æœ‰è¿”å›žå€¼ï¼Œæ‰€ä»¥ä¼šé»˜è®¤è¿”å›ž undefinedâ‘¡ _init()æ‰§è¡Œç»“æŸä¹‹åŽ å†åŽ»è·‘ setIntervalå®šæ—¶å™¨ æ‰€ä»¥ éš” 1000ms(å®žé™…æ˜¯1005ms) åŽè¾“å‡ºç¬¬ä¸€ä¸ªsetIntervalã€‚é—´éš” 999msåŽè¾“å‡ºç¬¬äºŒä¸ªsetInterval é—´éš” 997msåŽè¾“å‡ºç¬¬ä¸‰ä¸ª setIntervalæ‰€ä»¥è§‰å¾—è¯´setIntervalæ˜¯å½“å‰æ‰€æœ‰å‡½æ•°è¿è¡ŒåŽæ‰å¼€å¯å®šæ—¶çš„ï¼Œè€Œä¸æ˜¯æ‰§è¡Œåˆ°setIntervalçš„æ—¶å€™å¼€å§‹è®¡æ—¶ã€‚è€Œä¸”è¿è¡Œçš„é—´éš”ä¸æ˜¯å›ºå®šåå¤šæˆ–åå°‘ æœ€åŽå†ç»™å‡ºä¸€ä¸ªä¾‹å­ç†è§£setTimeoutçš„å¼‚æ­¥æ‰§è¡Œæœºåˆ¶demo512345678910111213141516171819setTimeout(function() &#123; console.log("Timeout");&#125;, 0);function a(x) &#123; console.log("a() å¼€å§‹è¿è¡Œ"); b(x); console.log("a() ç»“æŸè¿è¡Œ");&#125;function b(y) &#123; console.log("b() å¼€å§‹è¿è¡Œ"); console.log("ä¼ å…¥çš„å€¼ä¸º" + y); console.log("b() ç»“æŸè¿è¡Œ");&#125;console.log("å½“å‰ä»»åŠ¡å¼€å§‹");a(42);console.log("å½“å‰ä»»åŠ¡ç»“æŸ"); è¿è¡Œç»“æžœä¸ºå½“å‰ä»»åŠ¡å¼€å§‹a() å¼€å§‹è¿è¡Œb() å¼€å§‹è¿è¡Œä¼ å…¥çš„å€¼æ˜¯ 42b() è¿è¡Œç»“æŸa() è¿è¡Œç»“æŸå½“å‰ä»»åŠ¡ç»“æŸtimeout åŽè®°æ— ã€‚]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>github</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[webstorm å¿«æ·é”®æ•´ç†]]></title>
    <url>%2F2017%2F05%2Fwebstorm%2F</url>
    <content type="text"><![CDATA[alt =&gt; optioncommand =&gt; å¼€å§‹control =&gt; ctrlbutton 1 click é¼ æ ‡å·¦é”®button 2 click é¼ æ ‡å³é”®æ–œä½“ ä¸ºä¸å¸¸ç”¨ç²—ä½“ ä¸ºå¸¸ç”¨ Editor Actions Add or Remove Caret =&gt; ç±»ä¼¼sublimeçš„å¤šè¡Œç¼–è¾‘åŠŸèƒ½ =&gt; alt + button1 Click Add Rectangular selection on mouse drag =&gt; é¼ æ ‡çŸ©å½¢é€‰æ‹© =&gt; remove keyMap æ²¡å•¥åµç”¨ Backspace =&gt; é€€æ ¼ï¼ˆæ—¢åˆ é™¤ï¼‰=&gt; Backspace é”®ç›˜ä¸Šçš„é€€æ ¼é”®ï¼Œæ²¡ä»€ä¹ˆå¯è¯´çš„ Move Caret Backward a Paragraph =&gt; ç§»åŠ¨å…‰æ ‡åˆ°ä¸Šä¸€ä¸ªæ®µè½ï¼ˆæ—¢ä¸Šä¸€ä¸ªç©ºè¡Œå¤„ï¼‰ =&gt; é»˜è®¤æ—  Choose lookup item =&gt; Enter =&gt; æ—¢é€‰æ‹©å½“å‰æ™ºèƒ½æç¤ºçš„é¡¹ Choose Lookup Item and Invoke Complete Statement =&gt; ä¸çŸ¥é“æœ‰ä»€ä¹ˆç”¨ Choose Lookup Item and Insert Dot =&gt; é€‰æ‹©å½“å‰é¡¹å¹¶å†æœ€åŽåŠ å…¥. æ—¢è‡ªåŠ¨å®ŒæˆEnter + . Choose Lookup Item Replace =&gt; ä¸çŸ¥é“æœ‰ä»€ä¹ˆç”¨ Clone Caret Above =&gt; åœ¨å½“å‰è¡Œä¸Šåˆ›å»ºå¤šä¸€ä¸ªå…‰æ ‡ï¼Œä¸å¸¸ç”¨ Clone Caret Below =&gt; åœ¨å½“å‰è¡Œä¸‹åˆ›å»ºå¤šä¸€ä¸ªå…‰æ ‡ï¼Œä¸å¸¸ç”¨ Move Caret to Code Block End =&gt; å°†å…‰æ ‡ç§»è‡³å—ä»£ç ç»“æŸ =&gt; command + ] || alt + ] Move Caret to Code Block Start =&gt; å°†å…‰æ ‡ç§»è‡³å—ä»£ç å¼€å§‹ =&gt; command + [ || atl + [ Move Caret to Code Block End with Selection =&gt; å°†å…‰æ ‡ç§»è‡³å—ä»£ç ç»“æŸå¹¶é€‰æ‹©, ä¸å¸¸ç”¨ Move Caret to Code Block Start with Selection =&gt; å°†å…‰æ ‡ç§»è‡³å—ä»£ç å¼€å§‹å¹¶é€‰æ‹©, ä¸å¸¸ç”¨ Complete Current Statement =&gt; å®Œæˆå½“å‰å£°æ˜Žï¼ˆè¯­å¥ï¼‰ï¼Œæ—¢å¦‚æžœè¯¥è¡Œç»“æŸåˆ™åŠ ; å¦‚æžœæ˜¯ if (a = 10) åˆ™å¼€ä¸€ä¸ª{} å¹¶å°†å…‰æ ‡ç§»è‡³èŠ±æ‹¬å·å†… =&gt; é»˜è®¤ ctrl + shift + enter ä¸å¸¸ç”¨ Create Rectangular Selection =&gt; åˆ›å»ºçŸ©å½¢é€‰æ‹© =&gt; alt+shift+button2 click Cut Line Backward =&gt; ä»Žå½“å‰å…‰æ ‡å‘å‰é€‰æ‹©å¹¶å‰ªåˆ‡ Cut up to Line End =&gt; ä»Žå½“å‰å…‰æ ‡å‘åŽé€‰æ‹©å¹¶å‰ªåˆ‡ Decrease Font Size =&gt; ç¼©å°å­—ä½“ Delete =&gt; åˆ é™¤ (å’ŒBackspaceç”¨èµ·æ¥æ•ˆæžœä¸€è‡´) =&gt; é€€æ ¼é”® Delete Line =&gt; åˆ é™¤æ•´è¡Œ ä¸€èˆ¬æˆ‘éƒ½ä¼šç”¨ command + x || ctrl + x ä»£æ›¿ï¼Œæ—¢ç›´æŽ¥å‰ªåˆ‡æ•´è¡Œ Delete to Line End =&gt; å½“å‰å…‰æ ‡åˆ é™¤åˆ°è¡Œå°¾ï¼Œä¸€èˆ¬æˆ‘ç”¨command + ç®­å¤´ + shifté€‰ä¸­åŽå†åˆ é™¤ Delete to Line Start åŒä¸Š Delete to word end &amp;&amp; Delete to word start ç­‰åŒç†ä¸èµ˜è¿° Down with Selection å‘ä¸‹å¹¶é€‰æ‹© Shift + å‘ä¸‹ç®­å¤´ Duplicate Line or Selection å¤åˆ¶è¯¥è¡Œ =&gt; é»˜è®¤ä¸ºctrl + dï¼Œ ä½†æˆ‘ç§»é™¤äº† Move caret forward a Paragraph åŒä¸Š Hungry Backspace ä¸çŸ¥é“æœ‰ä»€ä¹ˆç”¨ Increase Font Size æ”¾å¤§å­—ä½“ Join Lines =&gt; æŠŠä¸‹ä¸€è¡Œæ·»åŠ åˆ°æœ¬è¡Œï¼Œæ—¢åˆ é™¤æ¢è¡Œç¬¦ä¸Žç©ºæ ¼ =&gt; ctrl + shift + j Kill selected regionï¼ŒSave to Kill Ring ï¼Œkill the word end, kill the word start ä¸çŸ¥é“æœ‰ä»€ä¹ˆç”¨ Move Caret to Line End =&gt; å°†å…‰æ ‡ç§»è‡³è¡Œå°¾ï¼Œç±»ä¼¼winä¸Šçš„end =&gt; command + â†’ TODO: window ä¸Šä¿®æ”¹æˆä¸€è‡´ Move Caret to Line End with Selection ç§»åŠ¨å…‰æ ‡è‡³è¡Œå°¾å¹¶é€‰ä¸­ =&gt; command + shift + â†’ TODO: windowä¸Šä¿®æ”¹ä¸€è‡´ Move Caret to Matching Brace å°†å…‰æ ‡ç§»è‡³å½“å‰åŒ¹é…çš„æ‹¬å· =&gt; control + m TODO: window ä¸Šçš„ç¡®å®š Move Caret to Page Bottom å°†å…‰æ ‡ç§»è‡³é¡µé¢åº•éƒ¨ =&gt; command + ä¸‹ç®­å¤´ Move Caret to Page Top with Selection å°†å…‰æ ‡ç§»è‡³é¡µé¦–å¹¶é€‰ä¸­ Move Caret to Next Word ç§»åŠ¨å…‰æ ‡åˆ°ä¸‹ä¸€ä¸ªå•è¯ =&gt; alt + â†’ TODO: windowç¡®å®š Move Caret to Prev Word ç­‰åŒç† Move Cartet to Next Word with Selection ç§»åŠ¨å…‰æ ‡åˆ°ä¸‹ä¸ªå•è¯å¹¶é€‰ä¸­ =&gt; alt + shift + â†’ Page Down é¡µé¢å‘ä¸‹æ»šåŠ¨ä¸€å± fn + ä¸‹ç®­å¤´ TODO: window Page Down with Selection é¡µé¢å‘ä¸‹æ»šåŠ¨ä¸€å±å¹¶é€‰ä¸­è¯¥å± =&gt; fn + shift + ä¸‹ç®­å¤´ TODO: window Page Up &amp;&amp; Page Up with Selection åŒç† Paste from X clipboard ä¸çŸ¥é“æœ‰ä»€ä¹ˆç”¨ Paste Simple ä¸çŸ¥é“æœ‰ä»€ä¹ˆç”¨ Reset Font Size é‡ç½®å­—ä½“å¤§å° Right Left Down Up ç­‰â€¦. Scroll To Bottom, Scroll Down â€¦ç­‰ç­‰ éƒ½æ˜¯æ»šåŠ¨æ–¹å‘ Duplicate Line or Selection å¤åˆ¶æ•´è¡Œæˆ–é€‰ä¸­çš„åŒºåŸŸ ä¸€èˆ¬éƒ½ä¼šæ‰‹åŠ¨é€‰æ‹©æ•´è¡ŒåŽ»å¤åˆ¶ Duplicate Entire Lines Extend Selection æ‰©å±•é€‰æ‹© alt + ä¸Šç®­å¤´ è§£é™¤ Split Line å…‰æ ‡ä¸‹æ·»åŠ å¤šä¸€è¡Œ =&gt; command + enter TODO: window Start New Line å¼€å¯æ–°çš„ä¸€è¡Œ ç›¸å½“äºŽå…‰æ ‡ç§»è‡³è¡Œå°¾ï¼Œå›žè½¦ =&gt; shift + enter TODO: window Start New Line Before Current åœ¨å½“å‰è¡Œçš„ä¸Šä¸€è¡Œæ–°å»ºä¸€è¡Œå¹¶å°†å…‰æ ‡ç§»è‡³æ­¤å¤„ ç›¸å½“äºŽå…‰æ ‡ç§»åˆ°ä¸Šè¡Œå°¾å†å›žè½¦ Swap selection boundaries äº¤æ¢é€‰æ‹©è¾¹ç•Œ Tab tab Move Caret to Text End, Move Caret To Text Start ç­‰ Toggle Case å…‰æ ‡åœ¨å¤§å°å†™åˆ‡æ¢ Toggle Insert/Overwrite =&gt; åˆ‡æ¢æ’å…¥/æ›¿æ¢ window ä¸Šçš„ insert åŠŸèƒ½ shrink Selection ç¼©å°é€‰æ‹© =&gt; shift + ä¸‹ç®­å¤´ ä¸çŸ¥é“æœ‰ä»€ä¹ˆç”¨ â€‹Emacs tab, Fill Paragraph, Expand Live Template / Emmet Abbreviation, Next Paramete, Prev Paramete ä¸çŸ¥é“ä»€ä¹ˆç”¨ Main menuåˆ—ä¸¾å¹³æ—¥ç”¨å¾—åˆ°çš„ ##### new =&gt; æ–°å»ºæ–‡ä»¶ =&gt; command + N new Scratch File æ–°å»ºä¸´æ—¶æ–‡ä»¶ï¼Œæ¯”å¦‚å¯ä»¥æ–°å»ºä¸€ä¸ªes6è¯­æ³•çš„ä¸´æ—¶æ–‡ä»¶ï¼Œé‡Œé¢å†™å®Œå†å¤åˆ¶åˆ°æŸäº›åœ°æ–¹ æä¾›è¯­æ³•æ”¯æŒ =&gt; shift + command + n Preferences æ‰“å¼€è®¾ç½® =&gt; command + , window: alt + ctrl + s Synchronize é‡æ–°åŠ è½½ç£ç›˜æ–‡ä»¶å¹¶åŒæ­¥ =&gt; alt + command + y Navigate Fileâ€¦ =&gt; æŒ‰æ–‡ä»¶åæŸ¥æ‰¾æ–‡ä»¶ =&gt; command + shift + O æ”¹ command + p å’Œsublime Textä¿æŒä¸€è‡´ Edit Undo =&gt; æ’¤é”€ =&gt; command + z Redo =&gt; æ’¤é”€çš„åæ–¹å‘ =&gt; shift + command + z Cut =&gt; å‰ªåˆ‡ =&gt; command + x Copy =&gt; å¤åˆ¶ =&gt; command + c Copy Paths =&gt; å¤åˆ¶è·¯å¾„ =&gt; command + c + shift Paste =&gt; é»è´´ =&gt; command + vâ€” Paste from History =&gt; æ‰“å¼€é»è´´æ¿åŽ†å² =&gt; command + shift + v Findâ€¦ =&gt; æŸ¥æ‰¾ =&gt; command + f Replaceâ€¦ =&gt; æ›¿æ¢ =&gt; Command + r Add Selection for Next Occurrence =&gt; é€‰ä¸­ç›¸åŒçš„è¯ =&gt; é»˜è®¤ ctrl + g æ”¹ ctrl + d Select All =&gt; é€‰æ‹©æ‰€æœ‰ =&gt; command + A è‡ªå·±ä¿®æ”¹çš„æ¯”è¾ƒå¸¸è§çš„ Select Inâ€¦ =&gt; alt 1 then 1 å®šä½åˆ°å½“å‰æ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶ï¼Œè¿™ä¸ªåŠŸèƒ½vscode è‡ªåŠ¨å®Œæˆçš„ è¿˜æ˜¯æ¯”è¾ƒå¸¸ç”¨ ä»¥å‰å¾ˆå–œæ¬¢ç”¨webstorm, åŽé¢åœ¨macä¸Šé¢ä¸ä¹ æƒ¯å¿«æ·é”®å°±æ”¾å¼ƒè½¬æˆ˜å…¶ä»– atomç­‰ã€‚ è¿™æ¬¡ç‰¹åœ°ä¸‹æ¥å›žæ¥ï¼Œè®¾ç½®äº†å¿«æ·é”®ä½†æœ€åŽ è¿˜æ˜¯ç”¨å›žäº†vs codeã€‚æœ€åŽé™„ä¸Šé…ç½®Mac]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>editor</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç®€å•çš„ç½‘é¡µç‚¹å‡»çƒ­åŠ›å›¾]]></title>
    <url>%2F2017%2F05%2F%E7%AE%80%E5%8D%95%E7%9A%84%E7%BD%91%E9%A1%B5%E7%82%B9%E5%87%BB%E7%83%AD%E5%8A%9B%E5%9B%BE%2F</url>
    <content type="text"><![CDATA[å‰ä¸¤å¤©è€å¤§çªç„¶å–Šæˆ‘å’Œä¸€å°ä¼™å­å‡ºåŽ»å¼€ä¼šï¼Œè¯´æœ‰ä¸ªå¥½çŽ©çš„ä¸œè¥¿ç»™ä½ ä»¬çŽ©ã€‚ æƒ³ç»™ç½‘ç«™åšä¸ªç®€å•çš„çƒ­åŠ›å›¾ï¼Œ è®°å½•ç”¨æˆ·ç‚¹å‡»äº†ä»€ä¹ˆä½ç½®ã€‚è¦æ±‚æ˜¯ï¼Œæ€Žä¹ˆç®€å•æ€Žä¹ˆå®žçŽ° å…ˆåšä¸€ç‰ˆå‡ºæ¥ åŽé¢å†æ…¢æ…¢è¿­ä»£ä¼˜åŒ–ï¼Œ å®šçš„å·¥ä½œé‡å¤§æ¦‚æ˜¯ä¸¤äººä¸€å¤©ã€‚ã€‚ã€‚ã€‚ ä¹‹å‰æ²¡æŽ¥è§¦è¿‡å›¾è¡¨ï¼Œè™½ç„¶æœ‰æŽ¥è§¦è¿‡åŸ‹ç‚¹ç»Ÿè®¡/talkingData ä¸è¿‡å¯¹äºŽè¿™ç§éƒ½æ˜¯ä¸€çŸ¥åŠè§£ã€‚å…·ä½“æœ‰ä¸¤ä¸ªæ­¥éª¤ï¼Œä¸€ä¸ªæ˜¯æ•°æ®çš„è®°å½•ï¼ˆå…¥åº“ï¼‰ï¼Œä¸€ä¸ªæ˜¯å±•ç¤ºæ¨¡å¼ï¼ˆè¯»å–ï¼‰ã€‚ äºŽæ˜¯ä¸‹ç­å›žåˆ°å®¶åŽæ²¡äº‹å°±å…ˆæŸ¥äº†èµ„æ–™ï¼Œæƒ³å¤§æ¦‚å†™ä¸ªèƒ½å®šä½ç½®çš„å‡ºæ¥çœ‹ç€å…ˆã€‚ éœ€æ±‚åˆ†æž éœ€è¦ä¼ é€’ç»™åŽå°ä¿å­˜çš„æ•°æ® url å½“å‰é¡µé¢url(åŒ…ä¸åŒ…æ‹¬search, hash ç­‰) screenHeight å±å¹•é«˜åº¦ screenWidth å±å¹•é«˜åº¦ list å…·ä½“åæ ‡çš„æ•°ç»„ {x: é¼ æ ‡ç›¸å¯¹äºŽå±å¹•xè½´åæ ‡, y: é¼ æ ‡ç›¸å¯¹äºŽå±å¹•yè½´åæ ‡, pageX: é¼ æ ‡ç›¸å¯¹äºŽdomæ–‡æ¡£çš„xè½´åæ ‡, pageY: é¼ æ ‡ç›¸å¯¹äºŽdomæ–‡æ¡£çš„yè½´åæ ‡} ä»£è¡¨ç”¨æˆ·çš„ä¸€ä¸ªcode ä¸èƒ½æ¯æ¬¡ç‚¹å‡»éƒ½å‘é€ï¼Œé—´éš”10ç§’å‘é€ä¸€æ¬¡ åŽå°è¿˜æ²¡åšå…ˆåœ¨æœ¬åœ°sessionLocationåšæ¨¡æ‹Ÿæµ‹è¯• å…·ä½“å®žçŽ°é¼ æ ‡ç‚¹å‡»å¯¹è±¡å±žæ€§ç‰¹åˆ«æŽ¨è Mozilla å¼€å‘è€…å¹³å°ï¼ŒçŽ°åœ¨åŸºæœ¬ä¸Šjs htmlç­‰ä¸œè¥¿æƒ³äº†è§£å…·ä½“æˆ–è¯¦ç»†çš„å±žæ€§éƒ½ä¼šä¸Šè¿™ä¸ªç½‘ç«™æŸ¥è¯¢https://developer.mozilla.org/zh-CN/å¤§éƒ¨åˆ†æœ‰å¤šè¯­è¨€æ ‡ç­¾ã€‚ å¯ä»¥å…ˆåˆ°è¿™é‡ŒæŸ¥çœ‹é¼ æ ‡çš„å…·ä½“å±žæ€§è§£æždeveloper.mozilla 12345678ä»¥ä¸‹ä¸¤ä¸ªæŒ‡çš„éƒ½æ˜¯å·²å¯è§†åŒºåŸŸå·¦ä¸Šè§’ä¸ºåŽŸç‚¹(0, 0) å‘å³ å‘ä¸‹æ­£åæ ‡MouseEvent.clientX clientXå±žæ€§ä»£è¡¨ç‚¹å‡»åœ¨å…ƒç´ ä¸Šçš„é¼ æ ‡æŒ‡é’ˆçš„Xåæ ‡ï¼›MouseEvent.clientY clientYå±žæ€§ä»£è¡¨ç‚¹å‡»åœ¨å…ƒç´ ä¸Šçš„é¼ æ ‡æŒ‡é’ˆçš„Yåæ ‡ï¼›ä»¥ä¸‹ä¸¤ä¸ªæŒ‡çš„éƒ½æ˜¯ç‰©ç†å±å¹•ä»¥å·¦ä¸Šè§’ä¸ºåŽŸç‚¹ï¼ˆ0ï¼Œ 0ï¼‰ å‘å³ å‘ä¸‹æ­£åæ ‡MouseEvent.screenXMouseEvent.screenY è¿™é‡Œä¼ é€’ç»™åŽå°çš„ x é‡‡ç”¨çš„æ˜¯ MouseEvent.clientX; y å–çš„æ˜¯ MouseEvent.clientY; pageX å–çš„æ˜¯ é¡µé¢æ»šåŠ¨å®½åº¦ + x; PageY å–çš„æ˜¯ é¡µé¢æ»šåŠ¨é«˜åº¦ + y 12é¡µé¢æ»šåŠ¨é«˜åº¦: document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop || 0é¡µé¢æ»šåŠ¨å®½åº¦: document.documentElement.scrollLeft || window.pageXOffset || document.body.scrollLeft || 0 å…·ä½“é¡µé¢æ»šåŠ¨é«˜åº¦ä¸Žå®½åº¦çš„å…¼å®¹é—®é¢˜å¯ä»¥æŸ¥çœ‹ http://www.cnblogs.com/xwgli/p/3490466.html å±å¹•é«˜åº¦å®½åº¦å±å¹•é«˜åº¦å®½åº¦ 1234window.screen.height, å±å¹•é«˜åº¦window.screen.width, å±å¹•å®½åº¦window.screen.availHeight, å±å¹•å¯ç”¨å·¥ä½œåŒºé«˜åº¦ï¼Œå¦‚macçš„é™¤åŽ»é¡¶éƒ¨å·¥å…·æ¡å¤–çš„é«˜åº¦window.screen.availWidth åŒä¸Š ç›‘å¬urlå˜åŒ–åŽæœŸä¼˜åŒ–éœ€æ±‚ï¼Œå› ä¸ºè¿˜ä¸ç¡®å®šæ˜¯è¦æ¯æ¡åŸºæœ¬location.namepathå½“æˆä¸€ä¸ªé¡µé¢è¿˜æ˜¯è¦æŠŠæ¯ä¸ªä¸åŒçš„ searchã€hashéƒ½å½“æˆä¸€ä¸ªç‹¬ç«‹çš„é¡µé¢ã€‚ ç»˜åˆ¶çƒ­åŠ›å›¾ç»˜åˆ¶çƒ­åŠ›å›¾æš‚æ—¶çš„å±•ç¤ºæ•ˆæžœåœ¨åŽŸé¡µé¢æ·»åŠ ä¸€ä¸ªæ–‡æ¡£å¤§å°çš„canvasï¼Œç„¶åŽé‡‡ç”¨ä¸€ä¸ªjs çƒ­åŠ›å›¾æ’ä»¶https://github.com/pa7/heatmap.jsä¼ é€’åæ ‡æ¥ç”Ÿæˆçƒ­åŠ›å›¾ã€‚ æºç å› ä¸ºåªæ˜¯æ™šä¸Šå›žå®¶ä¸´æ—¶å†™äº†ä¸€ä¸ªå¯ä»¥çœ‹æ•ˆæžœçš„ï¼Œæ‰€ä»¥æ²¡æœ‰ä»£ç åˆ†ç¦» è„æ•°æ®æ£€æŸ¥ ç­‰åŠŸèƒ½app.js123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215// style Util Fnconst styleFn = (el, styleObj = &#123;&#125;) =&gt; &#123; if (!el) throw new Error(el); for (let [key, value] of Object.entries(styleObj)) &#123; el.style[key] = value; &#125; return el;&#125;;/** * éœ€è¦å‘é€åˆ°åŽå°çš„æ•°æ® */class HeatCollect &#123; constructor(opts = &#123;&#125;) &#123; this.initProps(opts); // åˆå§‹åŒ–å±žæ€§ this.setDataForServer(); // å¯åŠ¨å®šæ—¶å™¨ å®šæ—¶å‘é€æ•°æ®ç»™æœåŠ¡å™¨ return this; &#125; initProps(opts) &#123; this.list = []; this.url = location.href; this.screenHeight = window.screen.height; this.screenWidth = window.screen.width; this.serverCode = '1001'; this.index = 0; this.timer = null; this.time = opts.time || 10; // é»˜è®¤10ç§’ this.maxLength = opts.maxLength || 100; // é»˜è®¤æœ€å¤šå¯ä»¥å­˜100ä¸ªåæ ‡ this.Time = 0; this.queue = []; // é˜Ÿåˆ— æš‚å­˜è¯·æ±‚çš„åæ ‡ &#125; // å‘å½“å‰ç±»æ·»åŠ åæ ‡ push(obj) &#123; obj.index = ++this.index; this.list.push(obj); this.list = this.list.splice(0, 100); // é˜²æ­¢æ¶æ„è¿‡é•¿ return this.list; &#125; // èŽ·å–å‘æœåŠ¡å™¨ä¼ é€’çš„æ•°æ®æ ¼å¼ getServerData() &#123; return &#123; list: this.queue, url: this.url, screenHeight: this.screenHeight, screenWidth: this.screenWidth, serverCode: this.serverCode, timestamp: Date.now(), &#125; &#125; // å‘é€æ•°æ®åˆ°æœåŠ¡å™¨ setDataForServer() &#123; clearTimeout(this.timer); this.timer = setTimeout(() =&gt; &#123; this.queue = this.list.splice(0, Math.min(this.list.length, 100)); if (!this.queue.length) return this.setDataForServer(); Server.setData(this.getServerData()).then((&#123; code &#125;) =&gt; &#123; if (code === 0) &#123; this.queue = []; &#125; else &#123; this.list = this.queue.concat(this.list); &#125; &#125;, () =&gt; &#123; this.list = this.queue.concat(this.list); &#125;).then(() =&gt; &#123; this.setDataForServer(); &#125;); &#125;, this.time * 1000) &#125;&#125;/** * ç»˜åˆ¶å‡½æ•° */class Draw &#123; constructor() &#123; this.initCanvas(); return this; &#125; // åˆå§‹åŒ–å±•ç¤ºçš„dom initDom() &#123; let dom = document.createElement('div'), domParent = document.createElement('div'); dom.id = 'heatmapContainer'; domParent.id = 'heatmapContainerWrapper'; domParent.appendChild(dom); domParent.style.height = document.documentElement.offsetHeight + 'px'; domParent.style.width = document.documentElement.offsetWidth + 'px' ; document.body.appendChild(domParent); &#125; // åˆå§‹åŒ–å±•ç¤ºçš„canvas initCanvas() &#123; this.initDom(); this.heatmap = h337.create(&#123; container: document.getElementById('heatmapContainer'), maxOpacity: .6, radius: 50, blur: .90, backgroundColor: 'rgba(0, 0, 0, 0)' &#125;); &#125; // éåŽ†ç»˜åˆ¶canvasä¸Šçš„çƒ­ç‚¹ draw(list) &#123; for (let i = 0; i &lt; list.length; i++) &#123; this.heatmap.addData(this.getDrawData(list[i])); &#125; &#125; // èŽ·å–è¦ç»˜åˆ¶çš„æ•°æ®æ ¼å¼ getDrawData(data) &#123; return &#123; x: data.pageX, y: data.pageY, value: 1 &#125; &#125;&#125;/** * å¤„ç†å…¼å®¹ç­‰å·¥å…·ç±» */const Util = &#123; // èŽ·å–é¼ æ ‡åæ ‡ getMouseInfo(e) &#123; let &#123; officeX, officeY &#125; = this.getPageOffice(), &#123; clientX: x, clientY: y &#125; = e; return &#123; pageX: officeX + x, pageY: officeY + y, x, y, &#125; &#125;, // èŽ·å–é¡µé¢é«˜å®½ getPageOffice() &#123; let officeY = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop || 0, officeX = document.documentElement.scrollLeft || window.pageXOffset || document.body.scrollLeft || 0; return &#123; officeX, officeY &#125; &#125;,&#125;;/** * å…¥å£å‡½æ•° */const Main = &#123; init() &#123; this.infoData = new HeatCollect(); this.draw = new Draw(); document.documentElement.addEventListener('click', (e) =&gt; this.mouseEvent(e)); &#125;, mouseEvent(e) &#123; let _mouseData = Util.getMouseInfo(e); this.infoData.push(_mouseData); &#125;, drawFn() &#123; let list = JSON.parse(sessionStorage.getItem('test') || '&#123;&#125;').list || []; this.draw.draw(list); &#125;&#125;;Main.init();Main.drawFn();// æ¨¡æ‹Ÿå‘é€è¯·æ±‚const Server = &#123; setData(data) &#123; return new Promise((res, rej) =&gt; &#123; setTimeout(() =&gt; &#123; let isSuccess = Math.random() &lt; .95; if (isSuccess) &#123; let oldData = sessionStorage.getItem('test'); if (oldData) &#123; oldData = JSON.parse(oldData); oldData.list = oldData.list.concat(data.list); &#125; else &#123; oldData = data; &#125; sessionStorage.setItem('test', JSON.stringify(oldData)); console.log('success', oldData.list); res(&#123; code: 0, data &#125;) &#125; else &#123; rej(&#123; code: 5000 &#125;) &#125; &#125;, 2000); &#125;); &#125;&#125;; index.html1234567891011121314151617181920212223242526&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;style&gt; body, html &#123; height: 3000px; width: 2000px; &#125; #heatMap &#123; height: 100%; width: 100%; position: relative; border:1px solid red; &#125; #heatmapContainer &#123; width:100%; height:100%; &#125; #heatmapContainerWrapper &#123; position:absolute; left: 0; right: 0; top: 0; bottom: 0;&#125;&lt;/style&gt;&lt;script src="heatmap.js"&gt;&lt;/script&gt;&lt;script src="app.js"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; htmlä¸­å¼•å…¥çš„çƒ­åŠ›å›¾ åŽè¯æ•ˆæžœå›¾è‡³æ­¤ ç®€å•çš„çƒ­åŠ›å›¾å®žçŽ°å®Œæˆï¼Œ éš”å¤©å›žåˆ°å…¬å¸ï¼Œè€å¤§è¯´ å…¬å¸å·²ç»å’Œç¬¬ä¸‰æ–¹æœåŠ¡å¹³å°è´­ä¹°äº†ç»Ÿè®¡ä¹‹ç±»çš„æœåŠ¡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚äºŽæ˜¯ä¹Žå½“åšæ˜¯è‡ªå·±é¥­åŽæ— èŠå†™ç‚¹ä»£ç æ¶ˆé£æ¶ˆé£ã€‚ä¸è¿‡çƒ­åŠ›å›¾å¾ˆå¤šä¸œè¥¿éœ€è¦å¤„ç†ï¼Œä¸æ˜¯ä¸€ä¸¤ä¸ªäººçŸ­æ—¶é—´å¯ä»¥å®Œæˆçš„ã€‚æœ€åŽé™„ä¸Šæ•ˆæžœä¸Žé¡¹ç›®ç›®å½•]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>github</tag>
        <tag>JavaScript</tag>
        <tag>work</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[imooc-react-nativeå®žæˆ˜ é¡¹ç›®å…¥é—¨çŸ¥è¯†å­¦ä¹ ]]></title>
    <url>%2F2017%2F05%2Fimooc-react-native%E5%AE%9E%E6%88%98-%E9%A1%B9%E7%9B%AE%E5%85%A5%E9%97%A8%E7%9F%A5%E8%AF%86%E5%AD%A6%E4%B9%A0%2F</url>
    <content type="text"><![CDATA[é€‰ç”¨çš„ç‰ˆæœ¬çš„ v0.22.2 ç»„ä»¶ç”Ÿå‘½å‘¨æœŸåˆå§‹åŒ–å¼€å§‹ =&gt; getDefaultProps =&gt; getInitialState =&gt; componentWillMount =&gt; render =&gt; componentDidMount =&gt; ç»„ä»¶è¿è¡Œä¸­ï¼Œ stateçŠ¶æ€æ”¹å˜ =&gt; shouldComponentUpdate åˆ¤æ–­æ˜¯å¦è¦æ›´æ–° return true =&gt; componentWillUpdate =&gt; render ç»§ç»­å¾ªçŽ¯ =&gt; å¤–éƒ¨propsæ”¹å˜ =&gt; componentWillReceiveProps =&gt; unmount å¸è½½ç»„ä»¶ =&gt; componentWillUnmount ç­‰ç­‰]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>github</tag>
        <tag>JavaScript</tag>
        <tag>imooc</tag>
        <tag>React-Native</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iosç½‘ç»œæ“ä½œåŸºç¡€æ•™ç¨‹]]></title>
    <url>%2F2017%2F05%2Fios%E7%BD%91%E7%BB%9C%E6%93%8D%E4%BD%9C%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[demoæºç  ç½‘ç»œè§£æžä¸Žç½‘ç»œè¯·æ±‚æœ‰å…³çš„ç±» NSURL: å®¢æˆ·ç«¯è®¿é—®å“ªå°æœåŠ¡å™¨çš„åˆ¶å®šèµ„æº NSURLRequest: å®¢æˆ·ç«¯å‘èµ·çš„ç½‘ç»œè¯·æ±‚å†…å®¹ : å®¢æˆ·ç«¯æœåŠ¡å™¨å»ºç«‹çš„ç½‘ç»œè¿žæŽ¥ NSURLResponse: æœåŠ¡ç«¯ç»™äºˆå®¢æˆ·ç«¯çš„å“åº”ç»“æžœ å‘èµ·ç¬¬ä¸€ä¸ªç½‘ç»œè¯·æ±‚AppDelegate.m123456789101112131415161718192021- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions &#123; // Override point for customization after application launch. // åˆ›å»ºä¸€ä¸ªurlå¯¹è±¡ ç”¨æ¥è¡¨ç¤ºè®¿é—®çš„æœåŠ¡å™¨ NSURL *url = [NSURL URLWithString:@"http://www.imooc.com"]; // å®¢æˆ·ç«¯å‘èµ·çš„ç½‘ç»œè¯·æ±‚çš„è¯·æ±‚å†…å®¹ NSURLRequest *request = [NSURLRequest requestWithURL: url]; NSURLConnection *connection = [[NSURLConnection alloc] initWithRequest:request delegate:self]; // å¯åŠ¨ç½‘ç»œè¯·æ±‚ [connection start]; return YES;&#125;- (void) connection: (NSURLConnection *) connection didReceiveResponse: (NSURLResponse * )response &#123; // æœåŠ¡å™¨ç»™å®¢æˆ·ç«¯çš„å“åº”ç»“æžœ NSLog(@"response: %@", response);&#125; é”®å…¥ä»¥ä¸Šä»£ç åŽæŒ‰cmd+rè¿è¡Œä¸€ä¸‹ï¼Œæ­¤æ—¶æŽ§åˆ¶å°å¹¶æ²¡æœ‰è¾“å‡ºæˆ‘ä»¬æƒ³è¦çš„ç»“æžœï¼Œè€Œæ˜¯è¾“å‡ºäº†1App Transport Security has blocked a cleartext HTTP (http://) resource load since it is insecure. Temporary exceptions can be configured via your app&apos;s Info.plist file. æç¤ºæˆ‘ä»¬å·²ç»é˜»æ­¢äº†æ˜Žæ–‡httpè¯·æ±‚ï¼Œå› ä¸ºä»–æ˜¯ä¸å®‰å…¨çš„ï¼Œå¯ä»¥é€šè¿‡Info.plisté…ç½®è§£é™¤è¯·æ±‚ã€‚åœ¨é¡¹ç›®æ ¹ç›®å½•é‡Œæ‰“å¼€Info.plistï¼Œ æ·»åŠ  App Transport Security Settings å¹¶åœ¨App Transport Security Settingsä¸‹æ·»åŠ Allow Arbitrary Loadså€¼ä¸ºYESã€‚ ç„¶åŽé‡æ–°è¿è¡Œå°±å¥½äº† ä½¿ç”¨Getæ–¹å¼å‘é€è¯·æ±‚æ­å»ºç”¨æˆ·ä¿¡æ¯ç•Œé¢apiæŽ¥å£å·²ç»è¿”å›žçš„å‚æ•°æ ¼å¼ç»“æž„ æ–°å»ºé¡¹ç›®æ–°å»ºcocoa Class=&gt;UserInfoViewControllerç»§æ‰¿UIViewControlleræ–°å»ºcocoa Class=&gt;KeyValueViewç»§æ‰¿UIViewå¦‚å›¾ å…ˆåœ¨KeyValueView.h å£°æ˜Žæ‰€éœ€çš„å˜é‡å·²ç»æ–¹æ³•KeyValueView.h12345678@interface KeyValueView : UIView@property (nonatomic, strong) UILabel *keyLabel;@property (nonatomic, strong) UILabel *valueLabel;- (void) setupKey: (NSString *)key value:(NSString *)value;@end å¹¶åœ¨KeyValueView.må®žçŽ°KeyValueView.m1234567891011121314151617181920212223242526272829303132333435363738394041424344454647#import "KeyValueView.h"@implementation KeyValueView-(id) initWithFrame:(CGRect)frame&#123; self = [super initWithFrame:frame]; if (self) &#123; // æ·»åŠ keyLabel // å¦‚æžœå­˜åœ¨çˆ¶çº§ï¼Œåˆ™åˆ›å»ºä¸€ä¸ª UILabel x:0, y:0, å®½ï¼šçˆ¶çº§å®½åº¦1/3, é«˜: çˆ¶çº§é«˜åº¦ _keyLabel = [[UILabel alloc] initWithFrame: CGRectMake(0, 0, CGRectGetWidth(self.frame) /3, CGRectGetHeight(self.frame))]; // è®¾ç½®èƒŒæ™¯è‰²ä¸ºé€æ˜Ž _keyLabel.backgroundColor = [UIColor clearColor]; // æ–‡å­—å±…å·¦å¯¹é½ _keyLabel.textAlignment = NSTextAlignmentLeft; // è®¾ç½®å­—ä½“å¤§å° _keyLabel.font = [UIFont systemFontOfSize: 16]; // è®¾ç½®å­—ä½“é¢œè‰² _keyLabel.textColor = [UIColor blackColor]; // æ·»åŠ åˆ°çˆ¶çº§ [self addSubview: _keyLabel]; // æ·»åŠ valueLabel // å¦‚æžœå­˜åœ¨çˆ¶çº§ï¼Œåˆ™åˆ›å»ºä¸€ä¸ª UILabel x:0, y:0, å®½ï¼šçˆ¶çº§å®½åº¦1/3, é«˜: çˆ¶çº§é«˜åº¦ _valueLabel = [[UILabel alloc] initWithFrame: CGRectMake(CGRectGetWidth(self.frame) /3, 0, CGRectGetWidth(self.frame) * 2 /3, CGRectGetHeight(self.frame))]; // è®¾ç½®èƒŒæ™¯è‰²ä¸ºé€æ˜Ž _valueLabel.backgroundColor = [UIColor clearColor]; // æ–‡å­—å±…å·¦å¯¹é½ _valueLabel.textAlignment = NSTextAlignmentLeft; // è®¾ç½®å­—ä½“å¤§å° _valueLabel.font = [UIFont systemFontOfSize: 16]; // è®¾ç½®å­—ä½“é¢œè‰² _valueLabel.textColor = [UIColor blackColor]; // æ·»åŠ åˆ°çˆ¶çº§ [self addSubview: _valueLabel]; &#125; return self;&#125;-(void)setupKey:(NSString *)key value:(NSString *)value&#123; // ç»™keyLabel &amp;&amp; valueLabel èµ‹å€¼çš„æ–¹æ³• [_keyLabel setText:key]; [_valueLabel setText:value];&#125; æŽ¥ç€æˆ‘ä»¬è¦åœ¨UserInfoViewControlleråŽ»è°ƒç”¨keyValueViewçš„UIViewç±»UserInfoViewController.h1234567891011121314#import &lt;UIKit/UIKit.h&gt;// å¼•å…¥keyvalue#import "KeyValueView.h"@interface UserInfoViewController : UIViewController// æŠŠæ‰€æœ‰ä¸ªäººä¿¡æ¯å½•åˆ°è¿™é‡Œ ( å£°æ˜Ž )@property (nonatomic, strong) KeyValueView *userNameView; // ç”¨æˆ·åä¿¡æ¯@property (nonatomic, strong) KeyValueView *userSexView; // ç”¨æˆ·æ€§åˆ«@property (nonatomic, strong) KeyValueView *birthdayView; // ç”Ÿæ—¥@property (nonatomic, strong) KeyValueView *emailView; // email@property (nonatomic, strong) KeyValueView *phoneView; // æ‰‹æœºå·@end UserInfoViewController.m1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071#import "UserInfoViewController.h"//å®šä¹‰ä¸¤ä¸ªå® å±å¹•å®½åº¦ä¸Žé«˜åº¦ï¼Œä¸€èˆ¬é¡¹ç›®éƒ½ä¼šå®šä¹‰æ–¹ä¾¿ä½¿ç”¨#define KScreenWidth [[UIScreen mainScreen] bounds].size.width#define KScreenHeight [[UIScreen mainScreen] bounds].size.height@interface UserInfoViewController ()@end@implementation UserInfoViewController- (void)viewDidLoad &#123; [super viewDidLoad]; // Do any additional setup after loading the view. // ç»™çˆ¶çº§åŠ èƒŒæ™¯è‰² [self.view setBackgroundColor: [UIColor whiteColor]]; // æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªæ ‡é¢˜ UILabel *titleLable = [[UILabel alloc] initWithFrame:CGRectMake(0, 40, KScreenWidth, 20)]; // è®¾ç½®æ ‡é¢˜ä¿¡æ¯ [titleLable setText:@"ä¸ªäººç”¨æˆ·ä¿¡æ¯"]; titleLable.textAlignment = NSTextAlignmentCenter; titleLable.font = [UIFont systemFontOfSize:18]; titleLable.backgroundColor = [UIColor clearColor]; [self.view addSubview: titleLable]; // åˆ›å»ºä¸€ä¸ªç”¨æˆ·åæŽ§ä»¶ _userNameView = [[KeyValueView alloc] initWithFrame:CGRectMake(100, 70, KScreenWidth - 100 * 2, 30)]; _userNameView.backgroundColor = [UIColor clearColor]; [self.view addSubview:_userNameView]; // åˆ›å»ºä¸€ä¸ªç”¨æˆ·æ€§åˆ«æŽ§ä»¶ _userSexView = [[KeyValueView alloc] initWithFrame:CGRectMake(100, 70 + 30, KScreenWidth - 100 * 2, 30)]; _userSexView.backgroundColor = [UIColor clearColor]; [self.view addSubview:_userSexView]; // åˆ›å»ºä¸€ä¸ªç”¨æˆ·ç”Ÿæ—¥æŽ§ä»¶ _birthdayView = [[KeyValueView alloc] initWithFrame:CGRectMake(100, 70+30*2, KScreenWidth - 100 * 2, 30)]; _birthdayView.backgroundColor = [UIColor clearColor]; [self.view addSubview:_birthdayView]; // åˆ›å»ºä¸€ä¸ªç”¨æˆ·é‚®ç®±æŽ§ä»¶ _emailView = [[KeyValueView alloc] initWithFrame:CGRectMake(100, 70 + 30*3, KScreenWidth - 100 * 2, 30)]; _emailView.backgroundColor = [UIColor clearColor]; [self.view addSubview:_emailView]; // åˆ›å»ºä¸€ä¸ªç”¨æˆ·æ‰‹æœºå·æŽ§ä»¶ _phoneView = [[KeyValueView alloc] initWithFrame:CGRectMake(100, 70 + 30*4, KScreenWidth - 100 * 2, 30)]; _phoneView.backgroundColor = [UIColor clearColor]; [self.view addSubview:_phoneView];&#125;- (void)didReceiveMemoryWarning &#123; [super didReceiveMemoryWarning]; // Dispose of any resources that can be recreated.&#125;/*#pragma mark - Navigation// In a storyboard-based application, you will often want to do a little preparation before navigation- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender &#123; // Get the new view controller using [segue destinationViewController]. // Pass the selected object to the new view controller.&#125;*/@end view &amp;&amp; controlleréƒ½å†™å¥½ä¹‹åŽï¼Œæˆ‘ä»¬åŽ»ä¿®æ”¹ä¸€ä¸‹AppDelegateï¼Œå› ä¸ºé»˜è®¤ä¸»viewä¸ºé¡¹ç›®æ ¹ç›®å½•çš„ViewControllï¼Œæ‰€ä»¥å¦‚æžœæˆ‘ä»¬æ²¡æœ‰æŠŠviewè®¾ç½®ä¸ºæˆ‘ä»¬çš„UserInfoViewController è¿è¡Œæ˜¯æ²¡æœ‰ä»»ä½•æ•ˆæžœçš„ã€‚ AppDelegate.m1234567- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions &#123; // ç¬¬äºŒèŠ‚ getè¯·æ±‚ UserInfoViewController *userInfoVC = [[UserInfoViewController alloc] init]; self.window.rootViewController = userInfoVC; [self.window makeKeyAndVisible]; return YES;&#125; ä¿®æ”¹å®ŒæˆåŽå†æ¬¡è¿è¡Œçœ‹æ•ˆæžœã€‚æ­¤æ—¶åªå‡ºçŽ°äº†æ ‡é¢˜ã€‚ è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥æ‰“å¼€è°ƒè¯•çœ‹ä¸€ä¸‹ä¸ºä»€ä¹ˆæˆ‘ä»¬åªå‡ºçŽ°æ ‡é¢˜ï¼Œæ²¡æœ‰å‡ºçŽ°KeyValueViewå‘¢ä¾æ¬¡æ‰“å¼€xCodeèœå•Debug=&gt;View Debugging=&gt;Show View Framesè¿™æ—¶å€™å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„labelViewå…¶å®žæ˜¯æœ‰è¢«åŠ åˆ°viewä¸­ï¼Œåªæ˜¯æ²¡æœ‰æ•°æ®å±•ç¤º æ‰€ä»¥çœ‹ä¸å‡ºæ¥ï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬æ­£å¼å¼€å§‹å‘èµ·ç½‘ç»œè¯·æ±‚æ•°æ®å¡«å……view å‘èµ·ç½‘ç»œè¯·æ±‚æ•°æ®http://www.imooc.com/video/11982 imooc iosç½‘ç»œæ“ä½œå­¦ä¹ æŒ‡å—]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>Objective-C</tag>
        <tag>ios</tag>
        <tag>imooc</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSåŸºç¡€æ•™ç¨‹ä¹‹ç•Œé¢åˆä½“éªŒ]]></title>
    <url>%2F2017%2F04%2FiOS%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B%E4%B9%8B%E7%95%8C%E9%9D%A2%E5%88%9D%E4%BD%93%E9%AA%8C%2F</url>
    <content type="text"><![CDATA[demoæºç  å¦‚æžœæ‰¾ä¸åˆ°ï¼Œåˆ™åˆ°finishæ–‡ä»¶ä¸‹æ‰¾ åˆ›å»ºé¡¹ç›®å› ä¸ºè¦å­¦çš„æ˜¯ UIwindowï¼Œ æ‰€ä»¥åˆ›å»ºçš„ä¸å†æ˜¯ä¹‹å‰çš„Command Line Toolã€‚ é€‰æ‹©iOS=&gt;Single View Application.è¯­è¨€é€‰æ‹©ObjectiveC, é¡¹ç›®åæ ¹æ®è‡ªå·±å–œæ¬¢çš„å–ã€‚ Hello UIwindowmain.m å…¥é—¨æ–‡ä»¶ä¸å†å‡ºçŽ°åœ¨æ ¹ç›®å½•ä¸Šï¼Œè€Œæ˜¯åœ¨Supporting Filesä¸‹ã€‚é»˜è®¤å¼•ç”¨äº† &lt;UIKit/UIKit.h&gt; å’Œ &quot;AppDelegate.h&quot; ç‚¹å‡»é¡¹ç›®æ–‡ä»¶ åˆ é™¤ Main Interfaceçš„é»˜è®¤å€¼Main ç„¶åŽæ‰“å¼€AppDelegate.m å¼€å§‹æ¥æ‰‹åŠ¨æ¥è®¾ç½®ä¸€ä¸‹mainInterfacez AppDelegate.m123456789101112- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions &#123; // Override point for customization after application launch. // è®¾ç½®å¤§å°å’Œä½ç½® `UIScreen mainScreen` å¯ä»¥å¾—åˆ°æ‰‹æœºä¸»å±å¹• `bounds`æ˜¯èŽ·å¾—å¤§å° _window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]]; // è®¾ç½®é¢œè‰²ä¸ºçº¢è‰² _window.backgroundColor = [UIColor redColor]; // è®¾ç½®æ ¹è§†é¢‘æŽ§åˆ¶å™¨ _window.rootViewController = [[UIViewController alloc] init]; // å°†windowè®¾ç½®ä¸ºæˆ‘ä»¬çš„ä¸»window [_window makeKeyAndVisible]; return YES;&#125; ä¿®æ”¹åŽæŒ‰ cmd(âŒ˜)+Ræˆ–æŒ‰å·¦ä¸Šè§’çš„ä¸‰è§’å½¢æŒ‰é’®æ¥ run appã€‚éªšç­‰ç‰‡åˆ»å°±å¯ä»¥çœ‹åˆ° ä¸€ä¸ªå…¨å±çº¢è‰²çš„æ¨¡æ‹Ÿå™¨.; UIViewæ–°å»ºä¸€ä¸ªé¡¹ç›®ã€‚ UIçš„åŸºç±»ï¼Œ åŸºç¡€ UIViewçš„å±žæ€§ UIViewçš„æ–¹æ³• UIViewçš„è‡ªé€‚åº” ViewController.m123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129//// ViewController.m// UIwindow//// Created by Jsonz on 2017/4/27.// Copyright Â© 2017å¹´ Jsonz. All rights reserved.//#import "ViewController.h"@interface ViewController ()@end@implementation ViewController- (void)viewDidLoad &#123; NSLog(@"bilibili"); [super viewDidLoad]; // Do any additional setup after loading the view, typically from a nib. // è§†å›¾ UIView *view1 = [[UIView alloc] init]; // å®žä¾‹åŒ–view // çŠ¶æ€æ é«˜åº¦ä¸º20px æ‰€ä»¥å†™viewçš„æ—¶å€™ä¸€èˆ¬ä¼šè®©å‡º20px view1.frame = CGRectMake(10, 30, 375-20, 667-20); // èƒŒæ™¯é¢œè‰² view1.backgroundColor = [UIColor redColor]; // å°†è§†å›¾åŠ å…¥åˆ°çˆ¶è§†å›¾ä¸­ [self.view addSubview: view1]; // self.view æ˜¯view1çš„çˆ¶è§†å›¾ NSLog(@"frame = x:%f y:%f w:%f h:%f", view1.frame.origin.x, view1.frame.origin.y, view1.frame.size.width, view1.frame.size.height); // ä¸€èˆ¬å«è¾¹æ¡†å¤§å°ï¼Œ x &amp;&amp; y æ°¸è¿œä¸º0 w&amp;&amp;h ä¸€è‡´ NSLog(@"bounds = x:%f y:%f w:%f h:%f", view1.bounds.origin.x, view1.bounds.origin.y, view1.bounds.size.width, view1.bounds.size.height); // center - ä¸­å¿ƒç‚¹ NSLog(@"center - x:%f y:%f", view1.center.x, view1.center.y); // å›¾ç‰‡ 1.png // å¦‚æžœæ˜¯äºŒå€è§†ç½‘è†œå±å¹• å‡†å¤‡ 1@2x.png // åŒç†è¿˜æœ‰ 1@3x.png NSLog(@"w:%f h:%f",[[UIScreen mainScreen] bounds].size.width, [[UIScreen mainScreen] bounds].size.height); // çˆ¶è§†å›¾ åªä¼šæœ‰ä¸€ä¸ª UIView *superView = view1.superview; superView.backgroundColor = [UIColor greenColor]; UIView *view2 = [[UIView alloc] init]; view2.frame = CGRectMake(10, 100, 300, 300); // åæ ‡å…¨æ˜¯æ ¹æ®è‡ªèº«çˆ¶è§†å›¾æ¥è®¾ç½®çš„ï¼Œä¸ä¼šè·¨å±‚ // ç»™viewè®¾ç½®å”¯ä¸€æ ‡è¯†ï¼Œæ–¹ä¾¿çˆ¶çº§è§†å›¾èŽ·å–è¾¨è®¤ view2.tag = 2; view2.backgroundColor = [UIColor blackColor]; [view1 addSubview:view2]; UIView *view3 = [[UIView alloc] init]; view3.frame = CGRectMake(20, 50, 100, 100); view3.tag = 3; view3.backgroundColor = [UIColor purpleColor]; [view1 addSubview:view3]; // å­è§†å›¾ ä¼šæœ‰å¤šä¸ª NSArray *subViewsArray = view1.subviews; for (UIView *view in subViewsArray) &#123; if (view.tag == 2) view.backgroundColor = [UIColor whiteColor]; // view2å˜ç™½è‰² &#125; // å¦‚æžœçŸ¥é“å­è§†å›¾çš„tag å¯ä»¥é€šè¿‡tagå¾—åˆ°å¯¹åº”çš„å­è§†å›¾ UIView *subView = [view1 viewWithTag:3]; subView.backgroundColor = [UIColor greenColor]; // ä¿®æ”¹å±‚çº§ ç±»ä¼¼css çš„ zIndex // å½“å±‚äº¤æ¢ä¹‹åŽï¼Œ å¯¹åº”çš„å­è§†å›¾çš„æ•°ç»„ä¸‹æ ‡ä¹Ÿä¼šè¿›è¡Œæ”¹å˜ // åŒä¸€ä¸ªçˆ¶è§†å›¾ä¸­ï¼Œå…ˆåŠ å…¥çš„viewå±‚çº§ä¼šæ¯”è¾ƒä½Ž UIView *view4 = [[UIView alloc] init]; view4.frame = CGRectMake(0, 100, 300, 300); view4.backgroundColor = [UIColor yellowColor]; [self.view insertSubview:view4 atIndex:0]; // è¿™æ—¶å€™ view4ä¼šç›–ä½view1çš„æ‰€æœ‰ç•Œé¢ // äº¤æ¢ä¸¤ä¸ªå±‚çš„è§†å›¾ [superView exchangeSubviewAtIndex:0 withSubviewAtIndex:1]; //æ’å…¥ä¸€ä¸ªè§†å›¾åˆ°æŒ‡å®šå±‚ UIView *view5 = [[UIView alloc] init]; view5.frame = CGRectMake(7, 80, 200, 200); view5.backgroundColor = [UIColor blackColor]; [view1 insertSubview:view5 atIndex:1]; // å°†ä¸€ä¸ªview æ”¾æœ€é¡¶å±‚æˆ–æœ€åº•å±‚ [view1 bringSubviewToFront:view2]; // é¡¶å±‚ [view1 sendSubviewToBack: view2]; // åº•å±‚ // è‡ªé€‚åº” UIView *backView = [[UIView alloc] init]; backView.frame = CGRectMake([UIScreen mainScreen].bounds.size.width / 2 - 25, [UIScreen mainScreen].bounds.size.height /2 - 25, 50, 50); // è‡ªé€‚åº”åˆ°å±å¹•ä¸­éƒ¨ backView.backgroundColor = [UIColor orangeColor]; backView.tag = 1001; // å‡†è®¸å­è§†å›¾è‡ªé€‚åº” backView.autoresizesSubviews = YES; [self.view addSubview: backView]; UIView *topView = [[UIView alloc] init]; topView.frame = CGRectMake(10, 10, 30, 30); topView.backgroundColor = [UIColor greenColor]; // å†è®¾ç½®å­è§†å›¾çš„é€‚åº”æ–¹å¼ å·¦ä¾§é€‚åº” topView.autoresizingMask = UIViewAutoresizingFlexibleRightMargin | UIViewAutoresizingFlexibleLeftMargin | UIViewAutoresizingFlexibleTopMargin | UIViewAutoresizingFlexibleBottomMargin | UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight; // å³ï¼Œ å·¦ï¼Œ ä¸Šï¼Œ ä¸‹ï¼Œ å®½ï¼Œ é«˜ è·Ÿéšçˆ¶çº§è‡ªé€‚åº” [backView addSubview: topView]; // æŒ‰é’® ä¸‹èŠ‚è¯¾ä¼šè®²åˆ° UIButton *btn = [UIButton buttonWithType: UIButtonTypeSystem]; btn.frame = CGRectMake(10, 550, 355, 30); btn.backgroundColor = [UIColor brownColor]; [btn addTarget:self action:@selector(btnClick) forControlEvents:UIControlEventTouchUpInside]; [self.view addSubview: btn];&#125;-(void)btnClick&#123; UIView *view = [self.view viewWithTag:1001]; view.frame = CGRectMake(view.frame.origin.x - 5, view.frame.origin.y -5, view.frame.size.width + 10, view.frame.size.height + 10);&#125;- (void)didReceiveMemoryWarning &#123; [super didReceiveMemoryWarning]; // Dispose of any resources that can be recreated.&#125;@end UILabel æ–‡æœ¬æ ‡ç­¾ UIColor é¢œè‰²ç±» æ–°å»ºä¸€ä¸ªé¡¹ç›® ViewController12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758- (void)viewDidLoad &#123; [super viewDidLoad]; // Do any additional setup after loading the view, typically from a nib. // æ–‡æœ¬æ ‡ç­¾ UILabel *label = [[UILabel alloc] init]; label.frame = CGRectMake(10, 100, 300, 30); label.backgroundColor = [UIColor yellowColor]; // æ–‡æœ¬ label.text = @"æˆ‘æ˜¯ä¸€ä¸ªIOS FONT"; // æ–‡å­—å¸ƒå±€ NSTextAlignmentCenter NSTextAlignmentLeft NSTextAlignmentRight ç­‰ç­‰ label.textAlignment = NSTextAlignmentCenter; // æ–‡å­—é¢œè‰² // clearColoré€æ˜Žè‰² // colorWithRed green blue alpha ç±»ä¼¼cssçš„rgba label.textColor = [UIColor colorWithRed:.1 green:.8 blue:.2 alpha:1]; // labelçš„é€æ˜Žåº¦ label.alpha = .9; // å­—ä½“è®¾ç½® label.fonté‡Œé¢ label.font = [UIFont systemFontOfSize: 25]; // å­—å· // åŠ ç²—æˆ–å€¾æ–œ label.font = [UIFont boldSystemFontOfSize:25];// åŠ ç²—å’Œ25å·å­—ï¼Œä¼šè¦†ç›–å‰é¢è®¾ç½® label.font = [UIFont italicSystemFontOfSize:25]; // å€¾æ–œ // çœ‹ç³»ç»Ÿæœ‰å“ªäº›å­—ä½“ for (NSString *name in [UIFont familyNames]) &#123; NSLog(@"font = %@", name); &#125; // è®¾ç½®å­—ä½“ label.font = [UIFont fontWithName:@"Bodoni 72 Smallcaps" size:25]; // æ–‡å­—é˜´å½±// label.shadowColor = [UIColor redColor];// label.shadowOffset = CGSizeMake(1, 1); // å¤šæ–‡å­—å¤„ç† ä¼šè‡ªåŠ¨å‡ºçŽ°... label.text = @"topView.autoresizingMask = UIViewAutoresizingFlexibleRightMargin | UIViewAutoresizingFlexibleLeftMargin | UIViewAutoresizingFlexibleTopMargin | UIViewAutoresizingFlexibleBottomMargin | UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight; // å³ï¼Œ å·¦ï¼Œ ä¸Šï¼Œ ä¸‹ï¼Œ å®½ï¼Œ é«˜ è·Ÿéšçˆ¶çº§è‡ªé€‚åº”[backView addSubview: topView]"; // å¦‚æžœè¦æ¢è¡Œ // 1. é¦–å…ˆlabelè¦è¶³å¤Ÿå¤§ // 2. è®¾ç½®æ¢è¡Œæ¨¡å¼ // 3. è®¾ç½®æ˜¾ç¤ºè¡Œæ•° label.frame = CGRectMake(20, 20, [UIScreen mainScreen].bounds.size.width - 40, [UIScreen mainScreen].bounds.size.height - 40); label.lineBreakMode = NSLineBreakByCharWrapping; label.numberOfLines = 2; // å¦‚æžœè®¾ç½®åˆ°-1æˆ–0 å°±ä¸ä¼šé™åˆ¶è¡Œæ•°ï¼Œèƒ½æ˜¾ç¤ºå¤šå°‘è¡Œå°±æ˜¾ç¤ºå¤šå°‘è¡Œ [self.view addSubview:label]; &#125;- (void)didReceiveMemoryWarning &#123; [super didReceiveMemoryWarning]; // Dispose of any resources that can be recreated.&#125; UIImageView å›¾ç‰‡viewæ–°å»ºä¸€ä¸ªé¡¹ç›®,æ·»åŠ è‡ªå·±å–œæ¬¢çš„ç…§ç‰‡åˆ°é¡¹ç›®é‡Œã€‚ æ¯”å¦‚æˆ‘ è‚¯å®šæ˜¯æ·»åŠ GAKKIçš„ ViewController.m12345678910111213141516171819202122232425262728293031323334353637383940- (void)viewDidLoad &#123; [super viewDidLoad]; // Do any additional setup after loading the view, typically from a nib. // é¦–å…ˆ éšä¾¿åŠ è½½å‡ å¼ å›¾ç‰‡åˆ°é¡¹ç›®ä¸­ // èŽ·å–å›¾ç‰‡è·¯å¾„ NSString *path = [[NSBundle mainBundle] resourcePath]; // å·¥ç¨‹ç›®å½• NSString *imgPath = [NSString stringWithFormat: @"%@/2.jpg", path]; // æ‹¼æŽ¥å›¾ç‰‡è·¯å¾„ // åŽé¢å‚æ•°ä¸ºå›¾ç‰‡è·¯å¾„ UIImage *image = [[UIImage alloc] initWithContentsOfFile: imgPath]; // åŠ è½½å®Œä¼šé‡Šæ”¾ï¼Œä¸ä¼šå­˜åœ¨å†…å­˜ä¸­ï¼Œä¸è¿‡æ¯æ¬¡éƒ½ä¼šåŽ»åŠ è½½// image = [UIImage alloc] initWithData:&lt;#(nonnull NSData *)#&gt; 2è¿›åˆ¶æ ¼å¼å›¾ç‰‡åŠ è½½// UIImage *image1 = [UIImage imageNamed:@"2"]; // è¿™ç§ç›´æŽ¥å†™æ–‡ä»¶åï¼Œå¦‚æžœæ˜¯pngæ ¼å¼çš„ï¼Œå¯ä»¥çœç•¥åŽç¼€å è¿™ç§æ–¹å¼ç›´æŽ¥æŠŠå›¾ç‰‡æ”¾åˆ°å†…å­˜ä¸­ï¼Œå ç”¨å†…å­˜ä½†æ˜¯ä¸‹æ¬¡è°ƒç”¨ä¼šå¾ˆå¿«ã€‚ æ¯”å¦‚qqè¡¨æƒ…ï¼Œå¯ä»¥æ”¾åˆ°ç¼“å­˜ï¼ˆå†…å­˜ï¼‰ä¸­ // å›¾ç‰‡æ˜¾ç¤ºå¿…é¡»è¦æœ‰è½½ä½“ UIImageView *imageView = [[UIImageView alloc] initWithImage: image]; // image.size.width image.size.height imageView.frame = CGRectMake(10, 100, 400, 400); // å†…å®¹æ¨¡å¼ å±…ä¸­ï¼š UIViewContentModeCenter // é»˜è®¤ä¸ºUIViewContentModeScaleToFill æ‹‰ä¼¸å……æ»¡æ•´ä¸ªè½½ä½“ // UIViewContentModeScaleAspectFit æ‹‰ä¼¸ä½†ä¸æ”¹å˜æ¯”ä¾‹ï¼Œå……æ»¡å°çš„è¾¹æ¡† // UIViewContentModeScaleAspectFill æ‹‰ä¼¸ä½†ä¸æ”¹å˜æ¯”ä¾‹ï¼Œå……æ»¡å¤§çš„è¾¹æ¡† // å­¦è¿‡cssçš„ åº”è¯¥éƒ½å¾ˆå®¹æ˜“ç†è§£ background-sizeæ¨¡å¼ imageView.contentMode = UIViewContentModeScaleAspectFit; // UIImageView åŠ¨ç”» - æ’­æ”¾åºåˆ—å›¾ ç•¥! // å›¾ç‰‡æ˜¾ç¤ºåœ¨å±å¹•ä¸Šçš„å¤§å°æ˜¯è½½ä½“æ¥æŽ§åˆ¶çš„ [self.view addSubview: imageView]; &#125;- (void)didReceiveMemoryWarning &#123; [super didReceiveMemoryWarning]; // Dispose of any resources that can be recreated.&#125;]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>Objective-C</tag>
        <tag>ios</tag>
        <tag>imooc</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Foundation å…¥é—¨]]></title>
    <url>%2F2017%2F04%2FFoundation-%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"><![CDATA[Foundation(åŸºç¡€æ¡†æž¶) è¯¾ç¨‹çŸ¥è¯†æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥åŽé¢ä¼šæ¯ä¸ªå­¦ä¹ å†…å®¹æ–°å»ºä¸€ä¸ªç±»åŽ»å†™ã€‚ æ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œ æ–‡ç« æºç ,æ‰¾ä¸åˆ°åˆ™åˆ°finishé‡Œé¢æ‰¾ Stringæ–°å»ºä¸€ä¸ªStringç±»String.h12345#import &lt;Foundation/Foundation.h&gt;@interface String : NSObject-(void) stringBaseFn; // å£°æ˜Žä¸€ä¸ªå‡½æ•°ï¼ŒåŽé¢æœ‰å…³çš„å­—ç¬¦ä¸²å‡½æ•°çŸ¥è¯†éƒ½å†™åœ¨è¯¥æ–¹æ³•å†…@end main.m123456789101112// å¼•å…¥å¹¶è°ƒç”¨è¯¥æ–¹æ³•ï¼Œä¸»è¦æ˜¯ä¸€äº›å­—ç¬¦ä¸²çš„æ–¹æ³• ä»¥åŠè¾“å‡º#import &lt;Foundation/Foundation.h&gt;#import "String.h"int main(int argc, const char * argv[]) &#123; @autoreleasepool &#123; String *str = [[String alloc] init]; [str stringBaseFn]; &#125; return 0;&#125; String.m123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132//// String.m// foundation//// Created by Jsonz on 2017/4/23.// Copyright Â© 2017å¹´ Jsonz. All rights reserved.//#import "String.h"@implementation String-(void) stringBaseFn&#123; char *s = "Hello C"; // cè¯­è¨€å­—ç¬¦ä¸² char ç±»åž‹ *å·ä»£è¡¨å¯¹è±¡ // OC ä¸­@ä»£è¡¨å¯¹è±¡ NSString *str = @"Hello ObjectiveC"; // OC å­—ç¬¦ä¸² NSString ç±»åž‹ *å·ä»£è¡¨å¯¹è±¡ // OC ä¸Ž Cå­—ç¬¦ä¸²çš„ç±»åž‹è½¬æ¢ // C -&gt; OC NSString *str1 = [NSString stringWithUTF8String:s]; NSLog(@"str1 = %@", str1); // OC -&gt; C NSLog(@"str2 = %s", [str UTF8String]); // è¿™æ ·åˆ›å»ºå­—ç¬¦ä¸²ï¼Œä¸éœ€è¦è‡ªå·±æ‰‹åŠ¨åŽ»é‡Šæ”¾å†…å­˜ç­‰ NSString *str3 = @"IOS"; // è¿™ç§éœ€è¦æ‰‹åŠ¨é‡Šæ”¾å†…å­˜ NSString *str4 = [[NSString alloc] init]; str4 = @"ios"; // **æ ¼å¼åŒ–å­—ç¬¦ä¸²** é‡è¦ int a = 10; NSString *str5 = [NSString stringWithFormat:@"a = %d str3 = %@", a, str3]; NSLog(@"str5 ä¸º %@", str5); // æ‹¼æŽ¥å­—ç¬¦ä¸² NSString *str6 = [str5 stringByAppendingString: [NSString stringWithUTF8String: s]]; NSLog(@"str6 = %@", str6); // å¤§å°å†™çš„è½¬æ¢é—®é¢˜ NSString *str7 = @"HELLO JSONZ"; NSString *str8 = [str7 lowercaseString]; NSLog(@"str8 = %@", str8); // è½¬æ¢å¤§å†™ NSString *str9 = [str8 uppercaseString]; NSLog(@"str9 = %@", str9); // å‰ç¼€å’ŒåŽç¼€çš„åˆ¤æ–­ NSString *str10 = @"www.imooc.com"; // åˆ¤æ–­å‰ç¼€ BOOL hasPreFix = [str10 hasPrefix:@"www."]; if (hasPreFix) NSLog(@"æœ‰å¯¹åº”å‰ç¼€"); else NSLog(@"æ²¡æœ‰å¯¹åº”å‰ç¼€"); // åŽç¼€ BOOL hasSuffix = [str10 hasSuffix:@".com"]; if (hasSuffix) NSLog(@"æœ‰å¯¹åº”åŽç¼€"); else NSLog(@"æ²¡æœ‰å¯¹åº”åŽç¼€"); // åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ç›¸åŒ NSString *str11 = @"Hello"; NSString *str12 = @"Hello"; if ([str11 isEqualToString:str12]) NSLog(@"str11 ä¸Ž str12 ä¸€è‡´"); else NSLog(@"ä¸ä¸€è‡´"); // åˆ†å‰²å­—ç¬¦ä¸² // 1. æŒ‰ç…§æŒ‡å®šå­—ç¬¦åˆ†å‰²å­—ç¬¦ä¸² è¿”å›žæ•°ç»„ NSString *str13 = @"a,b,c,d,e,f,g"; NSArray *strArray = [str13 componentsSeparatedByString:@","]; for (NSString *str in strArray) &#123; NSLog(@"str = %@", str); &#125; // 2. æŒ‰ç…§èŒƒå›´æˆªå–å­—ç¬¦ä¸² NSRange range = NSMakeRange(1, 5); NSString *str14 = [str13 substringWithRange:range]; NSLog(@"str14 = %@", str14); // 3. ä»ŽæŸä¸€ä½å¼€å§‹æˆªå–åˆ°ç»“æŸ NSString *str15 = [str13 substringFromIndex:2]; NSLog(@"str15 = %@", str15); // 4.ä»Žå¼€å¤´åˆ°æŸä¸€ä½ NSString *str16 = [str13 substringToIndex:7]; NSLog(@"str16 = %@", str16); // 5.å°†å­—ç¬¦ä¸²æ‹†åˆ†ä¸ºæ¯ä¸€ä¸ªå­—ç¬¦, ä»Žå­—ç¬¦ä¸²å–å‡ºæŸä¸€ä½ for (int i = 0; i &lt; [str13 length]; i++) &#123; NSLog(@"%c", [str13 characterAtIndex:i]); &#125; // æŸ¥æ‰¾ NSString *str17 = @"ab cd ef gh ij ab"; // æŸ¥æ‰¾æŒ‡å®šå­—ç¬¦ä¸²çš„ä½ç½® æ­£å‘æŸ¥æ‰¾ NSRange range1 = [str17 rangeOfString:@"ab"]; NSLog(@"range1.location: %ld range1.length: %ld", range1.location, range1.length); // æ›¿æ¢ NSString *str18 = @"Hello ios, Hello imooc"; // æ›¿æ¢æŸä¸€ä¸ªèŒƒå›´çš„å†…å®¹ NSString *str19 = [str18 stringByReplacingCharactersInRange:NSMakeRange(0, 5) withString:@"ä½ å¥½"]; NSLog(@"str19 = %@", str19); // ç”¨æŒ‡å®šå­—ç¬¦ä¸²æ›¿æ¢åŽŸå­—ç¬¦ä¸² NSString *str20 = [str18 stringByReplacingOccurrencesOfString:@"Hello ios" withString: @"ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæºå­—ç¬¦ä¸²ä¸­è¦è¢«æ›¿æ¢çš„å†…å®¹ï¼Œ ç¬¬äºŒä¸ªä¸ºæ›¿æ¢æˆçš„å­—ç¬¦ä¸²"]; NSLog(@"str20 = %@", str20); // è¯»å–æ–‡ä»¶ // 1. æœ¬åœ°æ–‡ä»¶ï¼› 2.ç½‘ç»œæ–‡ä»¶ // è·¯å¾„ç±» NSString *str21 = @"www.baidu.com"; // ç½‘ç»œè·¯å¾„ NSURL *httpURL = [NSURL URLWithString:str21]; //æœ¬åœ°è·¯å¾„// NSString *fileURL = [NSURL fileURLWithPath:str21]; // è¯»å–ç½‘ç»œæ–‡ä»¶ NSString *httpStr = [NSString stringWithContentsOfURL:httpURL encoding:NSUTF8StringEncoding error:nil]; NSLog(@"httpStr = %@", httpStr); // è¯»å–æœ¬åœ°æ–‡ä»¶ NSString *fileStr = [NSString stringWithContentsOfFile: @"/Users/jsonz/Documents/learn/Objective-c/foundation/foundation/app.txt" encoding:NSUTF8StringEncoding error: nil]; NSLog(@"fileStr = %@", fileStr); // å†™å…¥æ–‡ä»¶ NSString *str22 = @"Hello JSer"; BOOL isOk = [str22 writeToFile:@"/Users/jsonz/Documents/learn/Objective-c/foundation/foundation/app.js" atomically:YES encoding:NSUTF8StringEncoding error:nil]; if (isOk) NSLog(@"æ–‡ä»¶å†™å…¥æˆåŠŸ"); else NSLog(@"æ–‡ä»¶å†™å…¥å¤±è´¥");&#125;@end NSMutableString å¯å˜å­—ç¬¦ä¸²æ–°å»ºä¸€ä¸ª NSMutableStringClass ç±»ã€‚ NSMutableStringæ˜¯å­—ç¬¦ä¸²çš„å­ç±» NSMutableString.h12345678910111213//// NSStringClass.h// foundation//// Created by Jsonz on 2017/4/25.// Copyright Â© 2017å¹´ Jsonz. All rights reserved.//#import &lt;Foundation/Foundation.h&gt;@interface NSMutableStringClass : NSObject-(void) ShowNSMutableString;@end NSMutableString.m123456789101112131415161718192021222324252627282930313233343536373839404142//// NSStringClass.m// foundation//// Created by Jsonz on 2017/4/25.// Copyright Â© 2017å¹´ Jsonz. All rights reserved.//#import "NSMutableStringClass.h"@implementation NSMutableStringClass-(void) ShowNSMutableString&#123; // å¯å˜å­—ç¬¦ä¸²çš„ç®€å•æ–¹æ³• // å¯å˜å­—ç¬¦ä¸²æ˜¯å­—ç¬¦ä¸²çš„å­ç±» // å®žä¾‹åŒ– NSMutableString *str = [[NSMutableString alloc] initWithCapacity:10]; // åˆ†ç±»é•¿åº¦ä¸å¯ä»¥è¶…è¿‡10ï¼Œ æ€§èƒ½ä¼˜åŒ–ã€‚ä¸è¿‡è¶…è¿‡10 ä¹Ÿä¸ä¼šæŠ¥é”™ [str setString:@"hello "]; // 1.è¿½åŠ å­—ç¬¦ä¸² [str appendString:@"ObjectiveC"]; NSLog(@"str = %@", str); // è¿½åŠ æ ¼å¼åŒ–å­—ç¬¦ä¸² int a = 10; [str appendFormat:@" - %d", a]; NSLog(@"str = %@", str); // 2.æ›¿æ¢å­—ç¬¦ä¸² NSRange range = [str rangeOfString:@"ObjectiveC"]; [str replaceCharactersInRange:range withString:@"IOS"]; NSLog(@"str = %@", str); // 3. æ’å…¥å­—ç¬¦ä¸² [str insertString:@"A" atIndex: 4]; NSLog(@"str = %@", str); // 4. åˆ é™¤å­—ç¬¦ä¸² NSRange range1 = [str rangeOfString:@"IOS"]; [str deleteCharactersInRange:range1]; NSLog(@"str = %@", str);&#125;@end main.m è°ƒç”¨å‰è®°å¾—å¼•å…¥ç±»12NSMutableStringClass *_NSMutableString = [[NSMutableStringClass alloc] init];[_NSMutableString ShowNSMutableString]; NSArray ä¸å¯å˜æ•°ç»„æ–°å»ºä¸€ä¸ªarrç±» Arr.m123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657//// Arr.m// foundation//// Created by Jsonz on 2017/4/26.// Copyright Â© 2017å¹´ Jsonz. All rights reserved.//#import "Arr.h"@implementation Arr-(void) showArrFn&#123; NSLog(@"ä¸å¯å˜æ•°ç»„"); // OCæ•°ç»„ã€‚ å¯ä»¥å­˜å‚¨ä¸åŒç±»åž‹å¯¹è±¡,åªèƒ½å­˜å‚¨å¯¹è±¡.(int, char)ä¸å¯ä»¥ // åªå­˜å¯¹è±¡æŒ‡é’ˆï¼ˆjsä¸€æ ·) NSArray *arr1 = [[NSArray alloc] initWithObjects:@"1", @"2", @"3", @"4", @"5", nil]; // æ•°ç»„é•¿åº¦ int count = (int)arr1.count; NSLog(@"count = %d", count); // åˆ¤æ–­æ˜¯å¦æœ‰è¯¥å¯¹è±¡ BOOL isHave = [arr1 containsObject: @"2"]; if (isHave) NSLog(@"å­˜åœ¨"); else NSLog(@"ä¸å­˜åœ¨"); // å–å¾—æ•°ç»„ä¸­æ‰€éœ€å…ƒç´  NSString *str = [arr1 lastObject]; NSLog(@"æœ€åŽä¸€ä¸ªå¯¹è±¡ä¸º %@", str); str = [arr1 firstObject]; NSLog(@"ç¬¬ä¸€ä¸ªå¯¹è±¡ä¸º %@", str); str = [arr1 objectAtIndex: 3]; NSLog(@"ç¬¬ä¸‰ä¸ªå…ƒç´ ä¸º %@", str); // æŸ¥æ‰¾æŸä¸ªå¯¹è±¡ä¸ºç¬¬å‡ ä¸ªä¸‹æ ‡, ä¸å­˜åœ¨åˆ™ -1 int index = (int)[arr1 indexOfObject:@"3"]; NSLog(@"æŸ¥æ‰¾æŸä¸ªå¯¹è±¡ä¸ºç¬¬å‡ ä¸ªä¸‹æ ‡ %d", index); // æ•°ç»„çš„éåŽ† 1.for; 2. for in; 3.æžšä¸¾è¿­ä»£ // for å¾ªçŽ¯ æ³¨æ„ç±»åž‹é—®é¢˜ for (int i = 0; i &lt; arr1.count; i++) &#123; NSString *str1 = [arr1 objectAtIndex:i]; NSLog(@"for str1 = %@", str1); &#125; // å¿«é€Ÿæžšä¸¾ æ•°ç»„çš„å…ƒç´ ç±»åž‹è¦ä¿æŒä¸€è‡´ for (NSString *str2 in arr1) &#123; NSLog(@"for in str2 = %@", str2); &#125; // è¿­ä»£æžšä¸¾(æ…•è¯¾æ²¡æœ‰è¯¥ç‚¹è§†é¢‘) [arr1 enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop) &#123; NSLog(@"id= %@", obj); &#125;];&#125;@end NSMutableArr å¯å˜æ•°ç»„ä¸Žå¯å˜å­—ç¬¦ä¸²ä¸€æ ·ï¼Œæ•°ç»„ä¹Ÿæœ‰å¯å˜çš„ã€‚ä¸€èˆ¬é¡¹ç›®ä¸­å¦‚æžœæœ‰ä¿®æ”¹æ•°ç»„çš„å°±ç”¨è¿™ä¸ªï¼Œå¦‚æžœä¸å¸Œæœ›æ•°ç»„è¢«ä¿®æ”¹åˆ™ç”¨ä¸å¯å˜æ•°ç»„ NSMutableArrClass.m123456789101112131415161718192021222324252627282930313233343536373839404142434445//// NSMutableArrClass.m// foundation//// Created by Jsonz on 2017/4/26.// Copyright Â© 2017å¹´ Jsonz. All rights reserved.//#import "NSMutableArrClass.h"@implementation NSMutableArrClass-(void)showArrFn&#123; NSMutableArray *array = [[NSMutableArray alloc] init]; NSString *str1 = @"bili"; // æ·»åŠ å…ƒç´  [array addObject: str1]; NSArray *arr1 = [[NSArray alloc] initWithObjects:@"1", @"2", @"3", @"4", @"5", nil]; [array addObject:arr1]; NSLog(@"array = %@", array); // åˆ é™¤æ‰€æœ‰å…ƒç´  [array removeAllObjects]; NSLog(@"åˆ é™¤åŽçš„ array = %@", array); [array addObject:arr1]; [array addObject: str1]; // åˆ é™¤æœ€åŽä¸€ä¸ªå…ƒç´  [array removeLastObject]; NSLog(@"åˆ é™¤åŽçš„ array = %@", array); [array addObject: str1]; // åˆ é™¤æŒ‡å®šå…ƒç´  [array removeObject:@"bili"]; NSLog(@"åˆ é™¤åŽçš„ array = %@", array); // åˆ é™¤æŒ‡å®šindexçš„å…ƒç´  [array removeObjectAtIndex:0]; NSLog(@"åˆ é™¤åŽçš„ array = %@", array); [array addObject:arr1]; [array addObject: str1]; // äº¤æ¢å…ƒç´ ä½ç½® [array exchangeObjectAtIndex:1 withObjectAtIndex:0]; NSLog(@"äº¤æ¢åŽ %@", array);&#125;@end å­—å…¸ NSDictionaryç›¸å½“äºŽjs é‡Œçš„å¯¹è±¡{}. æ–°å»ºä¸€ä¸ªç±»NSDic NSDictionary.h12345678910111213//// NSDictionary.h// foundation//// Created by Jsonz on 2017/4/26.// Copyright Â© 2017å¹´ Jsonz. All rights reserved.//#import &lt;Foundation/Foundation.h&gt;@interface NSDic : NSObject-(void) showNSDictionaryFn;@end NSDictionary.m12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970//// NSDictionary.m// foundation//// Created by Jsonz on 2017/4/26.// Copyright Â© 2017å¹´ Jsonz. All rights reserved.//#import "NSDic.h"@implementation NSDic-(void) showNSDictionaryFn&#123; NSLog(@"test");// å­—å…¸ï¼š ç›¸å½“äºŽjsçš„å¯¹è±¡~ pyçš„å­—å…¸ã€‚ // å£°æ˜ŽåŽä¸å¯ä»¥æ”¹ NSDictionary *dict1 = [NSDictionary dictionaryWithObject:@"1" forKey:@"a"]; NSLog(@"dict1 = %@", dict1); // å¤šä¸ªé”®å€¼å¯¹ NSDictionary *dict2 = [NSDictionary dictionaryWithObjects:[NSArray arrayWithObjects:@"1", @"2", @"3", nil] forKeys:[NSArray arrayWithObjects:@"a", @"b", @"c", nil]]; NSLog(@"dict2 %@", dict2); // ç®€ä¾¿å†™æ³• NSDictionary *dict3 = @&#123; @"1": @"a", @"2": @"b" &#125;; NSLog(@"dict3 %@", dict3); // é•¿åº¦ int count = (int)[dict2 count]; NSLog(@"count %d", count); // èŽ·å–å¯¹åº”keyçš„ value NSString *value = [dict2 valueForKey: @"b"]; NSLog(@"value = %@", value); NSString *value2 = [dict2 objectForKey: @"b"]; NSLog(@"value2 = %@", value2); // æ•°ç»„ å­—å…¸æ‰€æœ‰çš„å€¼ NSArray *allValues = [dict2 allValues]; NSLog(@"allValues = %@", allValues); // æ•°ç»„ æ‰€æœ‰çš„key NSArray *allKeys = [dict2 allKeys]; NSLog(@"allKeys = %@", allKeys); // éåŽ† NSArray *array = [dict2 objectsForKeys:[NSArray arrayWithObjects: @"a", @"b", @"d", nil] notFoundMarker:@"Not Fount"]; NSLog(@"array = %@", array); // éåŽ†å­—å…¸ for (NSString *key in dict2) &#123; NSLog(@"%@ = %@", key, [dict2 objectForKey:key]); &#125; // æžšä¸¾å™¨ NSEnumerator *en = [dict2 keyEnumerator]; id key = nil; while (key = [en nextObject]) &#123; NSLog(@"key = %@", key); &#125; [dict2 enumerateKeysAndObjectsUsingBlock:^(id key, id obj, BOOL *stop) &#123; NSLog(@"id = %@, obj = %@", key, obj); &#125;]; &#125;@end å¯å˜å­—æ®µ NSMutableDictionaryNSDic2.h12345678910111213//// NSDic2.h// foundation//// Created by Jsonz on 2017/4/26.// Copyright Â© 2017å¹´ Jsonz. All rights reserved.//#import &lt;Foundation/Foundation.h&gt;@interface NSDic2 : NSObject-(void) showFn;@end NSDic2.m1234567891011121314151617181920212223242526272829303132333435//// NSDic2.m// foundation//// Created by Jsonz on 2017/4/26.// Copyright Â© 2017å¹´ Jsonz. All rights reserved.//#import "NSDic2.h"@implementation NSDic2// å¯å˜å­—å…¸-(void) showFn&#123; NSMutableDictionary *dict = [[NSMutableDictionary alloc] init]; // æ·»åŠ é”®å€¼å¯¹ [dict setObject:@"1" forKey: @"a"]; [dict setObject: @"2" forKey: @"b"]; // åˆ é™¤é”®å€¼å¯¹ [dict removeObjectForKey:@"a"]; NSLog(@"dict åˆ é™¤forKey %@", dict); // åˆ é™¤æ‰€æœ‰ [dict removeAllObjects]; NSLog(@"dict åˆ é™¤æ‰€æœ‰ %@", dict); [dict setObject:@"1" forKey: @"a"]; [dict setObject: @"2" forKey: @"b"]; [dict setObject: @"3" forKey: @"c"]; [dict removeObjectsForKeys: [NSArray arrayWithObjects:@"a", @"b", nil]]; NSLog(@"dict æ‰¹é‡åˆ é™¤ %@", dict); &#125;@end]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>Objective-C</tag>
        <tag>ios</tag>
        <tag>imooc</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Objective-C é¢å‘å¯¹è±¡åˆä½“éªŒ]]></title>
    <url>%2F2017%2F04%2FObjective-C-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%88%9D%E4%BD%93%E9%AA%8C%2F</url>
    <content type="text"><![CDATA[é¢å‘å¯¹è±¡ç®€ä»‹è¯­è¨€çš„é¢å‘å¯¹è±¡éƒ½æ˜¯æ¢æ±¤ä¸æ¢è¯ æ¥æ¥åŽ»åŽ»é‚£å‡ ä¸ªæ¦‚å¿µ OOPï¼ˆObject Oriented Programming) åŸºæœ¬æ¦‚å¿µ å¯¹è±¡ ï¼ˆç”·äººï¼Œå¥³äººï¼Œç¨‹åºå‘˜ï¼‰ æŠ½è±¡ - ç±»ï¼ˆäººï¼‰ ç±»å’Œå¯¹è±¡çš„å…³ç³» åˆ›å»ºç±»(äºº)ã€å¾—åˆ°å¯¹è±¡ï¼ˆç¨‹åºå‘˜ï¼‰ æˆå‘˜å˜é‡ï¼š å†…éƒ¨ä½¿ç”¨ï¼Œæ¯”å¦‚ å¤§è„‘ çœ¼ç› å˜´ å±žæ€§ï¼š ç»™å¤–éƒ¨ä½¿ç”¨ æ¯”å¦‚ èŒä¸š ç±»çš„å®žä¾‹ä¸ºå¯¹è±¡ åˆ›å»ºdemo åŒå¾æˆ˜Objective-Cä¸€æ · åˆ›å»ºä¸€ä¸ªCommand Line Tool å†™ç¤ºä¾‹ä»£ç  åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œç±»åž‹ä¸ºCocoa Class,name: People, Subclass of: NSObject, language: Objective-C ã€‚ç‚¹å‡»Nextä¹‹åŽä¼šç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ People.h,People.mã€‚ å¼•å…¥ä¸Žå®žä¾‹åŒ–åœ¨ main.m é‡Œé¢å¼•å…¥æ–‡ä»¶å¹¶å®žä¾‹åŒ–å¯¹è±¡, åŽé¢å¦‚æžœæ²¡æœ‰ç‰¹åˆ«è¯´æ˜Žï¼Œ éƒ½æ˜¯åœ¨ main @autoreleasepool é‡Œé¢å†™ä»£ç main.m12345678910111213141516171819#import &lt;Foundation/Foundation.h&gt;#import "People.h" // å¼•å…¥ç±»int main(int argc, const char * argv[]) &#123; @autoreleasepool &#123; // å®žä¾‹åŒ–å¯¹è±¡ // ç±»å å¯¹è±¡å(æ˜Ÿå·ä»£è¡¨æ˜¯æŒ‡é’ˆç±»åž‹) = [[ç±»å/å¯¹è±¡å] æ–¹æ³•å] // People p1/p2 = [[People alloc] init] // alloc - ä¸ºå¯¹è±¡åˆ†é…å†…å­˜ç©ºé—´ // init - è¿›è¡Œåˆå§‹åŒ–æ“ä½œ People *p1 = [[People alloc] init]; People *p2 = [[People alloc] init]; People *p3 = [People new]; // new åœ¨Objective-C ç”¨å¾—å°‘ NSLog(@"p1 - %p", p1); NSLog(@"p2 - %p", p2); NSLog(@"p3 - %p", p3); &#125; return 0;&#125; åˆ›å»ºæˆå‘˜å˜é‡ä¸Žå±žæ€§People.h12345678910// å§“åï¼Œå¹´é¾„ï¼Œæ€§åˆ«// ç±»å†…ä½¿ç”¨æˆå‘˜å˜é‡(m)ï¼Œ ç±»å¤–ä½¿ç”¨å±žæ€§(h)@interface People : NSObject&#123;&#125;// å£°æ˜Žç±»çš„å±žæ€§ å£°æ˜ŽåŽ main.m å°±å¯ä»¥é€šè¿‡ p1.peopleName = @"Jsonz"; è®¿é—®ä¿®æ”¹å±žæ€§// å±žæ€§å°±æ˜¯æˆå‘˜å˜é‡çš„å¤–éƒ¨æŽ¥å£ h æ–‡ä»¶å†™ã€‚å¤–éƒ¨ä½¿ç”¨//è®¾ç½®ä¸ŽèŽ·å–Name@property(nonatomic, strong)NSString *peopleName;@end People.m1234567891011121314151617#import "People.h"// æˆå‘˜å˜é‡ m æ–‡ä»¶å®šä¹‰ å†…éƒ¨ä½¿ç”¨@implementation People&#123; int _peopleAge; int _peopleSex;&#125;- (instancetype) init&#123; self = [super init]; if (self) &#123; _peopleName = @"å¼ ä¸‰"; // æˆå‘˜å˜é‡ ç±»å†…ä½¿ç”¨ &#125; return self;&#125;@end æ­¤æ—¶main.m å¯ä»¥ä½¿ç”¨peopleNameå±žæ€§ main.m12345// å±žæ€§çš„ä½¿ç”¨p1.peopleName = @"jsonz";p2.peopleName = @"æŽå››";NSLog(@"p1.peopleName - %@", p1.peopleName);NSLog(@"p2.peopleName - %@", p2.peopleName); å‡½æ•°åŠ å·æ–¹æ³• å‡å·æ–¹æ³• çš„å£°æ˜Žä¸Žè°ƒç”¨åœ¨People.h å£°æ˜Žæ–¹æ³•People.h123456789/** * - ã€+ (å‡å·ä»£è¡¨å¯¹è±¡æ–¹æ³•ï¼ŒåŠ å·ä»£è¡¨ç±»æ–¹æ³•) * å¯¹è±¡æ–¹æ³•æ—¢æ˜¯åœ¨å®žä¾‹ä¸Šè°ƒç”¨ï¼Œè€Œç±»æ–¹æ³•åˆ™æ˜¯åœ¨ç±»ä¸Šé¢è°ƒç”¨ï¼Œå¦‚: People *p1 = [[People alloc] init] * æ­¤æ—¶ Peopleæ˜¯ç±»ï¼Œ p1æ˜¯å¯¹è±¡ * h æ–‡ä»¶è¿›è¡Œå£°æ˜Žï¼Œ m è¿›è¡Œå®žçŽ° */-(void) report; // å‡å·æ–¹æ³•+(void) report1; // void ä»£è¡¨ä¸ç”¨è¿”å›žï¼Œ +å·æ–¹æ³•-(int) returnInt; // æ”¹å˜è¿”å›žå€¼çš„å‡½æ•° åœ¨People.må®žçŽ°è¯¥æ–¹æ³•People.m1234567891011121314151617181920- (void) report&#123; NSLog(@"å‡å· Report"); // å¦‚ä½•åœ¨å‡å·æ–¹æ³•è°ƒåŠ å·æ–¹æ³• // [People report1]; &#125;static NSString *_peopleName1; // é™æ€å˜é‡ï¼Œä¾›åŠ å·æ–¹æ³•å†…è°ƒç”¨+(void) report1&#123; NSLog(@"åŠ å· Report"); _peopleName1 = @"å¼ ä¸‰"; // è°ƒç”¨é™æ€å˜é‡ ä¸èƒ½è°ƒç”¨æˆå‘˜å˜é‡ // å¦‚ä½•åœ¨åŠ å·æ–¹æ³•è°ƒå‡å·æ–¹æ³• // [[People alloc] report]&#125;-(int) returnInt&#123; // å‰é¢æ˜¯intï¼Œæ‰€ä»¥è¯¥å‡½æ•°å¿…é¡»è¿”å›žä¸€ä¸ªintç±»åž‹ return 0;&#125; è°ƒç”¨main.m123456People *p1 = [[People alloc] init][p1 report]; // å‡å·æ–¹æ³•[People report1]; // åŠ å·æ–¹æ³•// [[People alloc] init]// [People alloc]ä¼šè¿”å›žä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ—¶å€™æ‰èƒ½è°ƒç”¨ init æ‰€ä»¥ allocæ˜¯åŠ å·æ–¹æ³•ï¼Œ initæ˜¯å‡å·æ–¹æ³• å‡½æ•°å‚æ•°ç±»åž‹People.h å£°æ˜Ž123// å‡½æ•°å‚æ•°é—®é¢˜-(int)showWithA: (int) a; // æœ‰ä¸€ä¸ªintç±»åž‹å‚æ•° å‡½æ•°åä¸º `showWithA:`-(int)showWithA: (int)a andB:(int)b; // æœ‰ä¸¤ä¸ªintç±»åž‹å‚æ•° å‡½æ•°åä¸º `showWithA: andB:` People.m å®žçŽ°123456789//å‚æ•°é—®é¢˜-(int)showWithA:(int)a&#123; return a;&#125;-(int)showWithA:(int)a andB:(int)b&#123; return a + b;&#125; main.m è°ƒç”¨12345// å‡½æ•°çš„å‚æ•°ä½¿ç”¨int a1 = [p1 showWithA:10];int a2 = [p1 showWithA:20 andB:30];NSLog(@"a1 = %d", a1);NSLog(@"a2 = %d", a2); åˆå§‹åŒ–æ–¹æ³•å¹³æ—¶è°ƒç”¨ä¸€ä¸ªç±»çš„å¯¹è±¡æ–¹æ³•éƒ½æ˜¯è¿™ä¹ˆè°ƒç”¨çš„ People *p1 = [[People alloc] init]ï¼Œ ä½†æ­¤æ—¶è¿™ä¸ªinitå…·ä½“åšäº†ä»€ä¹ˆäº‹æƒ…ï¼Œæˆ‘ä»¬å¹¶ä¸çŸ¥é“ã€‚ æˆ‘ä»¬å¯ä»¥åœ¨ç±»é‡Œé¢é‡å†™æŽ‰è¿™ä¸ªinit æ–¹æ³•; People.h1234// å¯¹äºŽåˆå§‹åŒ–æ–¹æ³•æ¥è¯´ id || instancetype æ²¡æœ‰åŒºåˆ«ï¼Œå¯¹äºŽå…¶ä»–æ–¹æ³•ï¼Œä¸€èˆ¬ instancetype æ¯” idç”¨çš„å¤š// -(id)init; // ä¸‡èƒ½ç±»åž‹ï¼Œå¯ä»¥è¿”å›žå„ç§ç±»åž‹å¯¹è±¡-(instancetype)init; // å½“å‰ç±»çš„ç±»åž‹ï¼Œæ¯”å¦‚å½“å‰ç±»æ˜¯Peopleç±»åž‹ï¼Œé‚£ä¹ˆinstancetypeå°±æ˜¯Peopleç±»åž‹-(void) showPeopleProperty; // å®šä¹‰ä¸€ä¸ªæ–¹æ³•æ¥è¾“å‡ºç±»çš„å±žæ€§ People.m é‡å†™init123456789101112131415161718192021// å¦‚æžœæ­¤æ—¶æç¤º Duplicate declaration of method â€˜init' åˆ™ä»£è¡¨ä½ ä¸Šé¢æœ¬æ¥å°±å£°æ˜Žäº†ä¸€ä¸ªinit æ­¤æ—¶åˆ é™¤è¯¥init æˆ–è€…æŠŠé€»è¾‘ç§»åˆ°é‚£ä¸ªå‡½æ•°å†…å³å¯// init å›ºæœ‰çš„æ¨¡å¼- (instancetype) init&#123; self = [super init]; // è‡ªå·±ç»§æ‰¿çˆ¶çº§çš„ init æ­¤å¤„æ˜¯ NSObject // å†…éƒ¨è¿›è¡Œä¸€äº›åˆå§‹åŒ–çš„è®¾å®š if (self) &#123; _peopleName = @"Jsonz"; // æˆå‘˜å˜é‡ ç±»å†…ä½¿ç”¨ _peopleAge = 30; _peopleSex = 1; &#125; return self; // è¿”å›žè‡ªèº«&#125;// è¾“å‡ºPeopleçš„å¯¹è±¡åˆå§‹åŒ–å€¼-(void) showPeopleProperty&#123; NSLog(@"peopleName = %@", _peopleName); NSLog(@"peopleAge = %d", _peopleAge); NSLog(@"peopleAge = %d", _peopleSex);&#125; æŽ¥ä¸‹æ¥æˆ‘ä»¬æ¥è‡ªå®šä¹‰ä¸€ä¸ªåˆå§‹åŒ–çš„æ–¹æ³•People.h1-(instancetype)initWithPeopleName:(NSString *) peopleName andPeopleAge:(int)peopleAge People.m123456789101112// æ—¢ç„¶æˆ‘ä»¬æ˜¯è‡ªå®šä¹‰ä¸€ä¸ªåˆå§‹åŒ–æ–¹æ³•ï¼Œé‚£ä¹Ÿè¦æŒ‰ç…§åˆå§‹åŒ–æ–¹æ³•çš„å†™æ³•ï¼ŒæŠŠä¸€äº›ç»“æž„ç»™åŠ ä¸Š-(instancetupe)initWithPeopleName:(NSString *)peopleName andPeopleAge:(int)peopleAge&#123; // åˆå§‹åŒ–æ–¹æ³•çš„ç»“æž„ self = [super init]; if (self) &#123; _peopleName = peopleName; _peopleAge = peopleAge; &#125; return self;&#125; main.m1234// è‡ªå·±å®žçŽ°çš„åˆå§‹åŒ–æ–¹æ³•People *pSelf = [[People alloc] initWithPeopleName:@"Jsonz" andPeopleAge: 23];NSLog(@"è‡ªå·±å®žçŽ°çš„init çš„å±žæ€§æœ‰å“ªäº›: ---- ");[pSelf showPeopleProperty]; é¢å‘å¯¹è±¡ä¸‰éƒ¨æ›²æ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œé¿å…å­¦ä¹ å¤ªæ··ä¹± å°è£…æ–°å»ºä¸€ä¸ªç±»ï¼Œå«MyClassMyClass.h1234567891011121314151617181920#import &lt;Foundation/Foundation.h&gt;@interface MyClass : NSObject&#123; // æˆå‘˜å˜é‡è®¿é—®ä¿®é¥°ç¬¦çš„é—®é¢˜ // é»˜è®¤ä¸º protected å—ä¿æŠ¤çš„ @public // å…¬æœ‰ - åœ¨ç±»å†… ç±»å¤–éƒ½å¯ä»¥ä½¿ç”¨ï¼Œå¹¶ä¸”å¯ä»¥è¢«ç»§æ‰¿ int _classInt; @private // ç§æœ‰ - åœ¨ç±»å†…å¯ä»¥ä½¿ç”¨ï¼Œ ç±»å¤–æ— æ³•è°ƒç”¨ å¹¶ä¸”æ— æ³•è¢«ç»§æ‰¿ @protected // å—ä¿æŠ¤ - é»˜è®¤çš„ åœ¨ç±»å†…å¯ä»¥ä½¿ç”¨ï¼Œç±»å¤–æ— æ³•è°ƒç”¨ å¹¶ä¸”å¯ä»¥è¢«ç»§æ‰¿ NSString *_classStr; @package // æ¡†æž¶æƒé™ - åœ¨æ¡†æž¶å†…ç›¸å½“äºŽå—ä¿æŠ¤(å¯è¢«è°ƒç”¨ä¸Žç»§æ‰¿)ï¼Œ åœ¨æ¡†æž¶å¤–ç›¸å½“äºŽç§æœ‰(ç±»å¤–æ— æ³•ä½¿ç”¨ä¸Žç»§æ‰¿)&#125;@property(nonatomic, strong)NSString *className;// æ–¹æ³•æ˜¯æ²¡æœ‰è®¿é—®ä¿®é¥°ç¬¦çš„ï¼Œ åŒCè¯­è¨€ä¸€æ ·ã€‚// å¦‚æžœæƒ³è¦ä¸€ä¸ªæ–¹æ³•å¯ä»¥åœ¨ç±»å¤–å¯ä»¥ä½¿ç”¨ï¼Œåˆ™è¦åœ¨hå£°æ˜Žï¼Œmå®žçŽ°ã€‚// å¦‚æžœä¸æƒ³åœ¨ç±»å¤–ä½¿ç”¨ï¼Œ ç›´æŽ¥åœ¨må†™å®žçŽ°ï¼Œ h ä¸å†™å£°æ˜Žã€‚-(void) report;@end MyClass.m12345678910#import "MyClass.h"@implementation MyClass-(void)report&#123; _classStr = @"ClassStr bilibilii"; NSLog(@"ClassName - %@", _className); NSLog(@"classInt - %d", _classInt);&#125;@end main.m12345678910111213141516#import &lt;Foundation/Foundation.h&gt;#import "MyClass.h"int main(int argc, const char * argv[]) &#123; @autoreleasepool &#123; MyClass *mc = [[MyClass alloc] init]; mc.className = @"æˆ‘çš„ç±»"; // ç±»å¤–ä½¿ç”¨ public æˆå‘˜å˜é‡ mc-&gt;_classInt = 1001; // ä½¿ç”¨æŒ‡å‘æ¥è°ƒç”¨ç±»ä¸­çš„å…¬æœ‰æˆå‘˜å˜é‡ [mc report]; &#125; return 0;&#125; ç»§æ‰¿åˆ›å»ºä¸¤ä¸ªç±» çˆ¶ç±» ParentClass å­ç±» ChildClass, åˆ›å»ºçš„æ—¶å€™è®°å¾—é€‰ä¸Šç»§æ‰¿ ParentClassï¼Œ å¦‚æžœå¿˜äº†é€‰ä¹Ÿæ²¡å…³ç³» åŽé¢æ‰‹åŠ¨ä¿®æ”¹ä¸€ä¸‹å°±å¯ä»¥ ParentClass.h12345678910111213141516#import &lt;Foundation/Foundation.h&gt;// NSObject - åŸºç±» æ­¤å¤„çš„:(å†’å·)æ˜¯ä»£è¡¨ç»§æ‰¿å…³ç³»@interface ParentClass : NSObject&#123; // å—ä¿æŠ¤å˜é‡ å¯ç»§æ‰¿ ä¸å¯å¤–éƒ¨è°ƒç”¨ int _classInt; // ç§æœ‰å˜é‡ @private NSString *_classStr; &#125;@property(nonatomic, strong)NSString *className;-(void)report; // å¦‚æžœæ­¤å¤„ä¸å£°æ˜Žï¼Œåˆ™ç±»å¤–ä¸èƒ½è°ƒã€‚ å­ç±»ä¹Ÿä¸ç»§æ‰¿@end ParentClass.m123456789101112#import "ParentClass.h"@implementation ParentClass-(void)report&#123; _classInt = 1002; _classStr = @"Jsonz's ç§æœ‰å˜é‡"; NSLog(@"ClassName - %@", _className); NSLog(@"classInt - %d", _classInt); NSLog(@"classStr - %@", _classStr); // æ­¤å¤„åœ¨ ChildClass ä¸­ä¹Ÿä¼šè¢«æ‰“å°å‡ºæ¥ï¼Œå› ä¸ºç»§æ‰¿äº†è¯¥æ–¹æ³•ï¼Œæ‰€ä»¥ä¼šè¢«æ‰“å°&#125;@end ChildClass.h12345#import "ParentClass.h"@interface ChildClass : ParentClass-(void)show;@end ChildClass.m12345678910#import "ChildClass.h"@implementation ChildClass-(void)show&#123; _classInt = 1003; NSLog(@"show æ­¤å¤„_classInt å˜åŒ–äº† - %d", _classInt);// NSLog(@"show æ‰“å°çˆ¶ç±»çš„ç§æœ‰æ–¹æ³•NSString %@", _classStr); æ­¤å¤„å› ä¸ºæ˜¯çˆ¶çº§çš„ç§æœ‰å˜é‡ï¼Œæ‰€ä»¥å¤–éƒ¨æ— æ³•è®¿é—®&#125;@end main.m1234567891011// è°ƒç”¨// çˆ¶ç±»ParentClass *pc = [[ParentClass alloc] init];pc.className = @"parentClass ClassName";[pc report];// å­ç±»ChildClass *cc = [[ChildClass alloc] init];cc.className = @"ChildClass ClassName"; // æ­¤å¤„ä¸ºçˆ¶ç±»ç»§æ‰¿è¿‡æ¥çš„å±žæ€§[cc show];[cc report]; // æ­¤å¤„è¿˜æ˜¯1002 å› ä¸º ccä¸­çš„ report ç»§æ‰¿ pc çš„reportï¼Œæ­¤å¤„é‡æ–°å¤åˆ¶äº†å¹¶æ‰“å°ã€‚æ‰€ä»¥æ˜¯1002 å¤šæ€ æ–¹æ³•é‡å†™ åŸºäºŽçˆ¶ç±»æ–¹æ³•ç»§æ‰¿é‡å†™ï¼Œè¿”å›žå€¼ï¼Œå‡½æ•°åï¼Œå‚æ•°ç­‰éƒ½ä¸€è‡´ æ–¹æ³•é‡è½½ (OC ä¸æ”¯æŒ) å‡½æ•°åä¸€è‡´ï¼Œè¿”å›žå€¼ å‚æ•° å‚æ•°ç±»åž‹ç­‰éƒ½ä¸ä¸€è‡´ åˆ›å»ºä¸€ä¸ªç±»ColorPrint ç”¨äºŽæ¼”ç¤ºå¤šæ€ï¼ŒåŽé¢ä¼šåŸºäºŽ ParentClass, ChildClass ä¸ŽColorPrint æ¥è¯´æ˜Žå¤šæ€ã€‚ çˆ¶ç±»å®žçŽ°ä¸€ä¸ªæ‰“å°æœºæ–¹æ³•ParentClass.h1-(void) print; ParentClass.m1234-(void) print&#123; NSLog(@"æ™®é€šæ‰“å°æœº");&#125; å­ç±»é‡å†™ä¸éœ€è¦å£°æ˜Žï¼Œç›´æŽ¥åœ¨mæ–‡ä»¶åŽ»é‡å†™å®žçŽ°å³å¯ChildClass.m1234-(void)print&#123; NSLog(@"æˆ‘æ˜¯é»‘ç™½æ‰“å°æœº");&#125; ColorPrinter.m12345678-(void)print&#123; // å¦‚æžœæ­¤å¤„è¦è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•å¯ä»¥è¿™ä¹ˆå†™ï¼š [super print]; // è°ƒç”¨å½“å‰ç±»çš„æ–¹æ³•å¯ä»¥ç”¨ self çˆ¶ç±»å¯ä»¥ç”¨ super // [self print]; NSLog(@"æˆ‘æ˜¯å½©è‰²æ‰“å°æœº");&#125; main.m12345678910// è°ƒç”¨ChildClass *cc = [[ChilClass alloc] init];[cc print]; // é»‘ç™½ColorPrinter *cc2 = [[ColorPrinter alloc] init];[cc2 print]; // å½©è‰²æ‰“å°æœº// å¦‚æžœå·²ç»å¼•å…¥äº†å­ç±»çš„å¤´æ–‡ä»¶ï¼Œé»˜è®¤çˆ¶ç±»hæ–‡ä»¶ï¼ˆå­ç±»å¤´æ–‡ä»¶æ‰€å¼•å…¥çš„å¤´æ–‡ä»¶ï¼‰ä¹Ÿä¼šè¢«å¼•å…¥äº†ã€‚// å¯ä»¥è¿™ä¹ˆå†™ParentClass *color = [[ColorPrinter alloc] init];[color print]; // æ­¤å¤„ä¹Ÿæ˜¯æ‰æ˜¯æ‰“å°æœº demo]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>Objective-C</tag>
        <tag>imooc</tag>
        <tag>learn - ios</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¾æˆ˜Objective-C]]></title>
    <url>%2F2017%2F04%2F%E5%BE%81%E6%88%98Objective-C%2F</url>
    <content type="text"><![CDATA[Objective-C ä¸‹é¢ç®€ç§°OC æºä»£ç æ–‡ä»¶æ‰©å±•åå¯¹æ¯”ä¸€èˆ¬æ¥è¯´ï¼Œå¤´æ–‡ä»¶æ˜¯æ”¾å£°æ˜Žï¼Œ å®žçŽ°æ–‡ä»¶æ”¾å®žçŽ°çš„ä»£ç  å¤´æ–‡ä»¶ å®žçŽ°æ–‡ä»¶ cè¯­è¨€ .h .c c++è¯­è¨€ .h .cpp ocè¯­è¨€ .h .m oc&amp;c++ .h .mm é¢å‘å¯¹è±¡æ¦‚è§ˆç±»çš„å®šä¹‰123// å½“å‰çš„SimpleClass ç»§æ‰¿ NSObject ç±»@interface SimpleClass: NSObject@end ç±»çš„å±žæ€§ç”³æ˜Ž12345678910111213141516@interface Person:NSObject@property NSString*firstName;@property NSString*lastName;@property NSNumber *yearOfBirth;@property int yearOfBirth;@property (readonly) NSString *firstName;@end å‡å·æ–¹æ³•ï¼ˆæ™®é€šæ–¹æ³•åˆç§°å¯¹è±¡æ–¹æ³•ï¼‰å£°æ˜Ž12345@interface Person: NSObject- (void) someMethod;- (void) someMethodWithValue: (SomeType)value;- (void) someMethodWithFirstValue: (SomeType)info1 secondValue: (AnotherType)info2;@end åŠ å·æ–¹æ³• (ç±»æ–¹æ³•ï¼Œ åˆç§°é™æ€æ–¹æ³•) å£°æ˜Ž123456789@interface NSString: NSObject+(id)string;+(id)stringWithString:(NSString *)aString;+(id)stringWithFormat:(NSString *)format, ..;+(id)stringWithContentsOfFile: (NSString *)pathencoding: (NSStringEncoding)enc error:(NSError **)error;+(id)stringWithCString: (const char *)cStringencoding: (NSStringEncoding)enc;@end ç±»çš„å®žçŽ°123#import 'XYZPerson.h'@implementation XYZPerson@end å®Œæˆçš„ä¾‹å­XYZPerson.h æ–‡ä»¶123@interface XYZPerson: NSObject-(void)sayHello;@end XYZPerson.m æ–‡ä»¶1234567#import "XYZPerson.h"@implementation XYZPerson-(void)sayHello &#123; NSLog(@"Hello, World!");&#125;@end Hello Worldé¦–å…ˆåŽ»app store ä¸‹è½½xCode. æ‰“å¼€xCode é€‰æ‹©å·¦ä¾§ Create a new Xcode project=&gt;macOS=&gt; Command Line Tool ï¼Œé€‰æ‹©ä¿å­˜é¡¹ç›®çš„ä½ç½®ã€‚ è¿›å…¥é¡¹ç›®åŽç‚¹å‡»å·¦ä¸Šè§’ç®­å¤´è¿è¡Œï¼Œå¦‚æžœä¸‹é¢æŽ§åˆ¶å°æœ‰è¾“å‡º hello world åˆ™ä»£è¡¨è¿è¡ŒæˆåŠŸäº†ã€‚ 1234567#import &lt;Foundation/Foundation.h&gt;int main(int argc, const char * argv[]) &#123; @autoreleasepool &#123; // çœŸæ­£å¼€å§‹å†™ä»£ç çš„åœ°æ–¹ &#125; return 0;&#125; ObjectiveC å˜é‡ä¸Žè¡¨è¾¾å¼å£°æ˜Žå˜é‡ä¸Žç®€å•è¿ç®—12345int a = 0;int b = 1;b = 3;int c = a + b;NSLog(@"å˜é‡a+ bçš„å€¼ç­‰äºŽ: %d", c); // %d æ ¼å¼åŒ–è¾“å‡ºï¼ŒåŽé¢åŠ ä¸ªé€—å·å†åŠ å˜é‡ åŸºç¡€ç±»åž‹123456int int a = 0; æ•´æ•° å 32ä½2è¿›åˆ¶float float a = 1.0; æµ®ç‚¹æ•° å 32ä½2è¿›åˆ¶double double num; åŒç²¾åº¦ å 64ä½ å¯ä»¥ä¿å­˜æ›´å¤§çš„æ•°char char c = 'A'; å•å­—ç¬¦ä¸² å•å¼•å·NSString: @"Hello world" ä½¿ç”¨æ¯”è¾ƒå¤š åŒå¼•å· (é«˜çº§ç±»åž‹)Cè¯­è¨€å­—ç¬¦ä¸²ç±»åž‹ "hello world" ä½¿ç”¨æ¯”è¾ƒå°‘ é™å®šè¯12345long: long int a; æ¯”int æ›´å¤§çš„æ•´å½¢long long: long long int a; æ¯” long int æ›´å¤§ å…·ä½“åº”ç”¨æ‰ä¼šæ¶‰åŠ æ¯”å¦‚å¤§æ•°æ®ç­‰short: short int a; short a; å°äºŽæˆ–ç­‰äºŽæ•´å½¢ï¼Œ 16ä½ æ¯”è¾ƒçœç±»åž‹ï¼Œä½†æ˜¯æ¯”è¾ƒå°‘ç”¨è¿™äº›ï¼Œä¸€èˆ¬ç›´æŽ¥ç”¨ intunsigned: unsigned int a; æ— ç¬¦å·signed: signed int a; æœ‰ç¬¦å·(æ­£è´Ÿç±»åž‹) è¿ç®—12345678910int a = 1;a++;++a;a--;--a;ä¸€å…ƒ ++, --,äºŒå…ƒ +, -, *, /, %ä¸‰å…ƒ 2&gt;3?Yes:Noté€»è¾‘ç¬¦å· &lt;, &gt;, &gt;=, &lt;=, ==, != if12345678// å¦‚æžœæ˜¯çœŸçš„ä¼šè¿”å›ž 1ï¼Œå¦‚æžœæœªå‡è¿”å›ž 0;if (True) &#123; // is True&#125; else &#123; // do something&#125;// åªè¦éž0å°±æ˜¯çœŸçš„ã€‚if (1) NSLog(@"å¯¹"); else NSLog(@"é”™"); // å•è¡Œå¯ä»¥ä¸å†™æ‹¬å· gotoè¯­æ³•1234567 int i = 0;a: &#123; i++; NSLog(@"içš„å€¼ä¸º %d", i); // å…ˆè¾“å‡ºä¸€ä¸ª i = 0;&#125; if (i &lt; 5) goto a; // æ‰§è¡Œåˆ°è¿™é‡Œi &lt; 5 è·³è½¬åˆ°a åŽ»æ‰§è¡Œã€‚ ç›´åˆ° i == 5 // æœ€åŽè¾“å‡º 0, 1, 2, 3, 4 while å¾ªçŽ¯ æ¯”è¾ƒå¸¸ç”¨12345int a = 0;while ( a &lt; 5) &#123; a++; NSLog(@"açš„å˜é‡æ˜¯ %d", a);&#125; forå¾ªçŽ¯ æ¯”è¾ƒå¸¸ç”¨123for (int i= 0; i &lt; 10; i++) &#123; NSLog(@"i=%d", i);&#125; do while è‚¯å®šä¼šæ‰§è¡Œä¸€æ¬¡å†åˆ¤æ–­æ˜¯å¦å¾ªçŽ¯123do &#123; NSLog(@"hehe");&#125; while (0); break continue12break å¯ä»¥åœ¨ å¾ªçŽ¯ä¸­ é€€å‡ºå¾ªçŽ¯continue å¯ä»¥åœ¨ å¾ªçŽ¯ä¸­ è·³å‡ºå½“å‰å¾ªçŽ¯ï¼Œç»§ç»­ä¸‹ä¸€é¡¹å¾ªçŽ¯ switch12345678910111213141516int i = 10.0; // char int float switch (i) &#123; case 1: NSLog(@"i = 1"); break; case 2: NSLog(@"i = 2"); break; case 10: NSLog(@"i = 10"); break; default: NSLog(@"i = 10.0"); &#125; // æœ€åŽä¼šè¾“å‡ºä¸€ä¸ª 10ã€‚ å‡½æ•°123456789101112131415161718192021// æ±‚çŸ©å½¢é¢ç§¯çš„å‡½æ•° s = a * b;// è¿”å›žçš„ç±»åž‹ å‡½æ•°å ([(å‚æ•°ç±»åž‹ï¼Œ å‚æ•°å)ï¼Œ (å‚æ•°ç±»åž‹ï¼Œ å‚æ•°å)])double qiumianji(double a, double b) &#123; double s = a * b; return s;&#125;// è°ƒç”¨ main å‡½æ•°å†…ã€‚// ä¸€ä¸ªç›¸åŒç±»åž‹çš„å˜é‡æ¥æŽ¥æ”¶è¿”å›žå€¼double s = qiumianji(10.0, 5.0);NSLog(@"s çš„å€¼ä¸º %f", s); // %d è¾“å‡ºæ•´æ•°ï¼Œ %f è¾“å‡ºæµ®ç‚¹æ•°// å¦‚æžœæ²¡æœ‰è¿”å›žå€¼ï¼Œåˆ™è°ƒç”¨å‡½æ•°çš„æ—¶å€™ä¸ç”¨ä¸€ä¸ªå˜é‡åŽ»æŽ¥æ”¶void show() &#123; NSLog(@"this is a test !"); NSLog(@"this is a test2 !"); NSLog(@"this is a test3 !");&#125;// main å‡½æ•°å†…è°ƒç”¨show(); mainå‡½æ•°ä¸­çš„é»˜è®¤å‚æ•°12345NSLog(@"argc=%d", argc);// argv å‚æ•°ä¸º å‘½ä»¤è¡Œè¾“å…¥å‘½ä»¤è¿è¡Œçš„å‚æ•°å¦‚ï¼š les1 -h -c -a -l åˆ™æœ‰5ä¸ªå‚æ•°[les1, -h, -c, -a, -l]for (int i =0; i &lt; argc; i++) &#123; NSLog(@"%s", argv[i]);&#125; è¾“å‡ºç›®å‰é‡åˆ°çš„æ€»ç»“1234567NSLog(@"type %d", a); - %d int; - %s char *; - %f float;- %p æŒ‡é’ˆç±»åž‹- %@ NSString- %ld ç›®å‰é‡åˆ°è¿‡çš„æœ‰ NSRange.length || NSRange.location]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>Objective-C</tag>
        <tag>ios</tag>
        <tag>imooc</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç®€å•äº‹ä»¶ç³»ç»Ÿ]]></title>
    <url>%2F2017%2F04%2F%E7%AE%80%E5%8D%95%E4%BA%8B%E4%BB%B6%E7%B3%BB%E7%BB%9F%2F</url>
    <content type="text"><![CDATA[æœ€ç®€å•çš„äº‹ä»¶ç³»ç»Ÿ åº”è¯¥åŒ…å«å››ä¸ªæŽ¥å£ on, off, once, triggerã€‚ åˆå§‹åŒ–æ–¹æ³•1234567function E() &#123;&#125;E.prototype = &#123; on: function()&#123;&#125;, off: ..., trigger: ..., once: ...,&#125; on äº‹ä»¶ç»‘å®š12345678on: function(name, cb, ctx) &#123; var e = this.e || (this.e = &#123;&#125;); (e[name] || (e[name] = [])).push(&#123; fn: cb, ctx: ctx &#125;); return this;&#125;, off äº‹ä»¶è§£ç»‘1234567891011121314off: function(name, cb, ctx) &#123; var e = this.e || (this.e = &#123;&#125;); var evts = e[name]; var liveEvents = []; if (evts &amp;&amp; cb) &#123; for (var i= 0, len= evts.length; i&lt; len; i++) &#123; if (evts[i].fn !== cb &amp;&amp; evts[i].fn._ !== cb) liveEvents.push(evts[i]); &#125; &#125; (liveEvents.length) ? e[name] = liveEvents : delete e[name]; return this;&#125; once ç»‘å®šå•æ¬¡123456789once: function(name, cb, ctx) &#123; var self = this; function listener() &#123; self.off(name, listener); cb.apply(ctx, arguments); &#125; listener._ = cb; return this.on(name, listener, ctx);&#125; trigger äº‹ä»¶è§¦å‘12345678910trigger: function(name) &#123; var data = [].slice.call(arguments, 1); var evtArr = ((this.e || (this.e = &#123;&#125;))[name] || []).slice(); var i = 0; var len = evtArr.length; for (i; i&lt; len; i++) &#123; evtArr[i].fn.apply(evtArr[i].ctx, data); &#125; return this;&#125; ç®€å•çš„è°ƒç”¨12345678910111213141516171819&lt;script src="./e.js"&gt;&lt;/script&gt;&lt;script&gt;var e = new E();e.on('bilibili', function() &#123; console.log('on');&#125;).once('once', function() &#123; console.log('once')&#125;).on('off', function() &#123; console.log('off')&#125;);window.addEventListener('load', function() &#123; document.body.addEventListener('click', function() &#123; e.trigger('off') .off('off') .trigger('bilibili') .trigger('once'); &#125;);&#125;)&lt;/script&gt; æœ€åŽé™„ä¸Šæºç ]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>github</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¤åˆ¶é»è´´æ¿æ’ä»¶-CopyText]]></title>
    <url>%2F2017%2F04%2F%E5%A4%8D%E5%88%B6%E9%BB%8F%E8%B4%B4%E6%9D%BF%E6%8F%92%E4%BB%B6-CopyText%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘å…¬å¸æœ‰ä¸ªéœ€æ±‚æ˜¯è¦åœ¨ç§»åŠ¨ç«¯å®žçŽ°æ“ä½œé»è´´æ¿åŠŸèƒ½ï¼Œç®€å•æ¥è¯´å°±æ˜¯ç‚¹å‡»ä¸€ä¸ªä¸€ä¸ªè¯„è®ºå¼¹å‡ºèœå•ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå°±æ˜¯å¤åˆ¶çš„é€‰é¡¹ã€‚å…¶ä¸­å®‰å“å’Œiosä¸­çš„appè¿˜å¥½ï¼Œæœ‰åŽŸç”Ÿæä¾›æŽ¥å£ï¼Œwebç«¯å°±è¦è‡ªå·±åŽ»å®žçŽ°äº†ã€‚ å…¬å¸åŽŸæœ¬æœ‰ä¸€ä¸ªcopyçš„æ’ä»¶ï¼Œä½†æ˜¯äº²æµ‹æ²¡æ•ˆï¼Œæ‰¾åˆ°githubä¸Šé¢ä¸€äº›copyçš„æ’ä»¶ç”¨çš„startæœ€é«˜çš„æ˜¯clipboard æˆªæ­¢æ­¤æ–‡æœ‰16kä¸ªstartã€‚ å®˜æ–¹è¯´æ˜Žæ˜¯ Modern copy to clipboard. No Flash. Just 3kb gzipped. åªæœ‰3k!è€Œä¸”å®˜æ–¹æ’ä»¶æä¾›çš„æŽ¥å£ä¸æ˜¯æˆ‘æƒ³è¦çš„é‚£ç§ï¼Œé‚æœ‰äº†é€ ä¸ªè‡ªå·±ç”¨çš„å°è½®å­å¿µå¤´ã€‚ ç®€å•æ€è·¯åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿçš„textarea è®¾ç½®å¥½æ ·å¼è®©å…¶æ˜¾ç¤ºåœ¨ç”¨æˆ·çœ‹ä¸åˆ°çš„ç•Œé¢1234567891011121314151617181920212223selectFake() &#123; const isRTL = document.documentElement.getAttribute('dir'); this.removeFake(); this.fakeHandlerCallback = ()=&gt; this.removeFake(); this.fakeHandler = document.addEventListener('click', this.fakeHandlerCallback) || true; this.fakeEl = document.createElement('textarea'); let yPosition = window.pageYOffset || document.documentElement.scrollTo; styleFn(this.fakeEl, &#123; fontSize: '12pt', border: '0', margin: '0', padding: '0', position: 'absolute', [isRTL? 'right': 'left']: '-9999px', top: `$&#123;yPosition&#125;px`, &#125;); this.fakeEl.setAttribute('readonly', ''); this.fakeEl.value = this.text; document.body.appendChild(this.fakeEl); this.selectedText = this.selectDom(this.fakeEl); this.copyText(); &#125; é€‰æ‹©è¯¥domï¼Œæ—¢é€‰ä¸­textareaçš„æ–‡å­—åŒºåŸŸ1234567selectDom(el) &#123; let selectedText; el.select(); el.setSelectionRange(0, el.value.length); el.removeAttribute('readonly'); return el.value;&#125; æ‰§è¡Œcopyäº‹ä»¶123456789copyText() &#123; let succeeded; try &#123; succeeded = document.execCommand('copy'); &#125; catch(e) &#123; succeeded = fale; &#125; this.handleResult(succeeded); // äº‹ä»¶å›žè°ƒå¤„ç†&#125; æºç åŠ æ³¨é‡Š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106/** * Created by Jsonz@github.com/jsonz1993 on 17/04/16 * CopyText å°†æ–‡æœ¬copyåˆ°å‰ªåˆ‡æ¿ æ”¯æŒpc &amp;&amp; webã€‚ æœ‰å…¼å®¹é—®é¢˜ H5 å»ºè®®ç”¨åŽŸç”ŸcopyæŽ¥å£ * @param &#123;Object&#125; options é…ç½®å‚æ•° * @property &#123;String&#125; text è¦å¤åˆ¶çš„æ–‡æœ¬ * @property &#123;Function&#125; success æˆåŠŸå›žè°ƒ * @property &#123;Function&#125; error å¤±è´¥å›žè°ƒ * * CopyText.isSupported åˆ¤æ–­å½“å‰çŽ¯å¢ƒæ˜¯å¦æ”¯æŒcopyäº‹ä»¶ */export default class CopyText &#123; constructor(options) &#123; this.resolveOptions(options); this.init(); &#125; // é…ç½®å‚æ•° resolveOptions(options= &#123;&#125;) &#123; this.text = options.text; this.successCb = typeof options.success === 'function'? options.success: ()=&gt; &#123;&#125;; this.errorCb = typeof options.error === 'function'? options.error: ()=&gt; &#123;&#125;; &#125; // åˆå§‹åŒ–å‡½æ•° init() &#123; if (CopyText.isSupported()) this.selectFake(); else this.handleResult(false); &#125; // åˆ›å»ºè™šæ‹Ÿdom &amp;&amp; copy selectFake() &#123; const isRTL = document.documentElement.getAttribute('dir'); this.removeFake(); this.fakeHandlerCallback = ()=&gt; this.removeFake(); this.fakeHandler = document.addEventListener('click', this.fakeHandlerCallback) || true; this.fakeEl = document.createElement('textarea'); let yPosition = window.pageYOffset || document.documentElement.scrollTo; styleFn(this.fakeEl, &#123; fontSize: '12pt', border: '0', margin: '0', padding: '0', position: 'absolute', [isRTL? 'right': 'left']: '-9999px', top: `$&#123;yPosition&#125;px`, &#125;); this.fakeEl.setAttribute('readonly', ''); this.fakeEl.value = this.text; document.body.appendChild(this.fakeEl); this.selectedText = this.selectDom(this.fakeEl); this.copyText(); &#125; // ç§»é™¤è™šæ‹Ÿdom removeFake() &#123; if (this.fakeHandler) &#123; document.body.removeEventListener('click', this.fakeHandlerCallback); this.fakeHandler = null; this.fakeHandlerCallback = null; &#125; if (this.fakeEl) &#123; document.body.removeChild(this.fakeEl); this.fakeEl = null; &#125; &#125; // é€‰æ‹©dom selectDom(el) &#123; let selectedText; el.select(); el.setSelectionRange(0, el.value.length); el.removeAttribute('readonly'); return el.value; &#125; // copy copyText() &#123; let succeeded; try &#123; succeeded = document.execCommand('copy'); &#125; catch(e) &#123; succeeded = fale; &#125; this.handleResult(succeeded); // äº‹ä»¶å›žè°ƒå¤„ç† &#125; // å›žè°ƒ handleResult(succeeded) &#123; succeeded? this.successCb(): this.errorCb(); &#125; // åˆ¤æ–­æ˜¯å¦æ”¯æŒè¯¥äº‹ä»¶ static isSupported(action= 'copy') &#123; return !!document.queryCommandSupported &amp;&amp; !!document.queryCommandSupported(action); &#125;&#125;const styleFn = (el, opts)=&gt; &#123; if (typeof opts !== 'object' || !el.nodeType) return; for (let key in opts) &#123; el.style[key] = opts[key]; &#125; return el;&#125; ä½¿ç”¨æ–¹æ³•12345678import CopyText from './CopyText';new CopyText(&#123; text: 'æ–‡æœ¬å¤åˆ¶', success() &#123;&#125;, error() &#123;&#125;&#125;);// å¯ä»¥è‡ªè¡Œåˆ¤æ–­çŽ¯å¢ƒæ˜¯å¦æ”¯æŒcopyäº‹ä»¶CopyText.isSupported() // Boolean]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>github</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[sublime text 3 é…ç½®]]></title>
    <url>%2F2017%2F04%2Fsublime-text-3-%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[è¿™ç¯‡åšå®¢ä¸»è¦è®²æ€Žä¹ˆé…ç½®è‡ªå·±çš„sublime textï¼Œ å®‰è£…å¯ä»¥åŽ»å®˜ç½‘ä¸‹è½½è‡ªè¡Œå®‰è£…ã€‚ Package Controlä¹‹åŽæˆ‘ä»¬è¦å®‰è£…Package Control, æ—¢sublimeçš„åŒ…ç®¡ç†å·¥å…· åŽé¢æˆ‘ä»¬çš„åŒ…ä¸‹è½½å®‰è£…éƒ½ç”¨ä»–ã€‚ æŒ‰å¿«æ·é”®ctrl + ` è°ƒå‡ºæˆ–è€…èœå•view&gt; show Control è°ƒå‡ºcontrol å¤åˆ¶ä¸‹é¢ä»£ç åˆ°control sublime Text 31import urllib.request,os,hashlib; h = &apos;2915d1851351e5ee549c20394736b442&apos; + &apos;8bc59f460fa1548d1514676163dafc88&apos;; pf = &apos;Package Control.sublime-package&apos;; ipp = sublime.installed_packages_path(); urllib.request.install_opener( urllib.request.build_opener( urllib.request.ProxyHandler()) ); by = urllib.request.urlopen( &apos;http://packagecontrol.io/&apos; + pf.replace(&apos; &apos;, &apos;%20&apos;)).read(); dh = hashlib.sha256(by).hexdigest(); print(&apos;Error validating download (got %s instead of %s), please try manual install&apos; % (dh, h)) if dh != h else open(os.path.join( ipp, pf), &apos;wb&apos; ).write(by) sublime Text 21import urllib2,os,hashlib; h = &apos;df21e130d211cfc94d9b0905775a7c0f&apos; + &apos;1e3d39e33b79698005270310898eea76&apos;; pf = &apos;Package Control.sublime-package&apos;; ipp = sublime.installed_packages_path(); os.makedirs( ipp ) if not os.path.exists(ipp) else None; urllib2.install_opener( urllib2.build_opener( urllib2.ProxyHandler()) ); by = urllib2.urlopen( &apos;http://packagecontrol.io/&apos; + pf.replace(&apos; &apos;, &apos;%20&apos;)).read(); dh = hashlib.sha256(by).hexdigest(); open( os.path.join( ipp, pf), &apos;wb&apos; ).write(by) if dh == h else None; print(&apos;Error validating download (got %s instead of %s), please try manual install&apos; % (dh, h) if dh != h else &apos;Please restart Sublime Text to finish installation&apos;) å¤åˆ¶å®Œæ•²å›žè½¦å°±å¯ä»¥å®‰è£…ï¼Œç¨ç­‰ç‰‡åˆ»å‡ºçŽ°å³å¯ï¼Œå®‰è£…å®ŒæˆåŽåœ¨ Preferencesèœå•ä¸‹ä¼šå‡ºçŽ° Package Control é€‰é¡¹ è¯¦ç»†å®‰è£…å¯çœ‹Package Control æ’ä»¶æ‰“å¼€ Package Controlæˆ–æŒ‰å¿«æ·é”®cmd/ctrl + shift + pï¼Œ è¾“å…¥ install package é€‰ä¸­ç¬¬ä¸€ä¸ªé€‰é¡¹æ—¢è¿›å…¥å®‰è£…æ’ä»¶çš„åˆ—è¡¨ã€‚ è¿™æ—¶å€™å¯èƒ½éœ€è¦ç­‰ä¸€ä¼šåŠ è½½è¿œç¨‹ä»“åº“ï¼Œå…·ä½“åœ¨å·¦ä¸‹è§’ä¼šæœ‰ä¸€ä¸ªloadingæ ‡è¯†ï¼Œ åŠ è½½å®Œåœ¨å¼¹çª—è¾“å…¥è¦å®‰è£…çš„æ’ä»¶å³å¯ã€‚ æ‰€æœ‰çš„æ’ä»¶éƒ½å¯ä»¥åœ¨https://packagecontrol.io/ æ‰¾åˆ°ï¼Œä¸‹é¢åˆ—å‡ºæ¯”è¾ƒå¸¸ç”¨çš„å‡ ä¸ªæ’ä»¶ Themesublime ç¼–è¾‘å™¨è™½ç„¶è½»å·§å¼ºå¤§ï¼Œä½†æ˜¯é»˜è®¤çš„ä¸»é¢˜å®žåœ¨æœ‰ç‚¹çœ‹ä¸ä¸‹åŽ»ã€‚ä¸»é¢˜å¯ä»¥åœ¨https://packagecontrol.io/browse/labels/theme æ‰¾è‡ªå·±å–œæ¬¢çš„ã€‚ç›®å‰ä¸ªäººä½¿ç”¨çš„æ˜¯ Material Theme ã€‚ ç›´æŽ¥åœ¨install package å¼¹çª—è¾“å…¥ Material Theme é€‰ç¬¬ä¸€ä¸ªå³å¯ï¼ˆåŽé¢å®‰è£…æ–¹æ³•ç±»ä¼¼ï¼‰ã€‚ å®‰è£…å®ŒæˆåŽä¼šå¼¹å‡ºä¸€ä¸ªREADMEï¼Œæ ¹æ®æç¤ºä¿®æ”¹ä¸€ä¸‹é…ç½®ã€‚æ‰“å¼€Preferences &gt; settings &gt; Useræ·»åŠ ä»¥ä¸‹é…ç½®ï¼Œä¿å­˜å³å¯ç”Ÿæ•ˆ12&quot;color_scheme&quot;: &quot;Packages/Material Theme/schemes/Material-Theme.tmTheme&quot;,&quot;theme&quot;: &quot;Material-Theme.sublime-theme&quot;, Material Theme ä¸ªäººæ¯”è¾ƒå–œæ¬¢çš„ä¸»é¢˜è¿˜æœ‰ ayu Agila Theme Emmetå‰ç«¯å·¥ç¨‹å¸ˆä½¿ç”¨sublimeç¼–è¾‘çš„å¿…å¤‡æ’ä»¶ï¼Œå¯ä»¥æžå¤§æé«˜å¼€å‘æ•ˆçŽ‡ã€‚æœ€ç®€å•çš„åº”ç”¨å°±æ˜¯åœ¨ç©ºç™½çš„.htmlé¡µé¢è¾“å…¥!å†æŒ‰ tabé”®ä¼šè‡ªåŠ¨ç”Ÿæˆhtml5åŸºæœ¬é¡µé¢è§£æž„ã€‚è¿˜æœ‰åŸºæœ¬å¦‚ #div1&gt;span.child{è¿™æ˜¯å­çº§}*2+button.name[disabled]{æŒ‰é’®}å¿«æ·è¯­æ³•ç­‰å…·ä½“çœ‹emmet, Emmet-package SideBarEnhancementssublime è‡ªå¸¦çš„ä¾§è¾¹æ æ–‡ä»¶ï¼ˆå¤¹ï¼‰åŠŸèƒ½ç‰¹åˆ«å°‘ï¼Œè¿™ä¸ªæ’ä»¶å¯ä»¥ä¸ºå…¶æ·»åŠ å¾ˆå¤šå…¶ä»–åŠŸèƒ½ã€‚docs BracketHighlighterå‰åŽæ ‡ç­¾é«˜äº®çš„æ’ä»¶ï¼Œå¦‚[], (), {}, &quot;&quot;, &#39;&#39;, &lt;tag&gt;&lt;/tag&gt;ç­‰ï¼Œå¯ä»¥æ¯”è¾ƒæ–¹ä¾¿çœ‹æ¸…ä»£ç å—çš„èµ·å§‹ç‚¹ã€‚docs AutoFileNameæŒ‰ç…§è·¯å¾„æç¤ºè¯¥è·¯å¾„ç›®å½•ä¸‹çš„æ–‡ä»¶åï¼Œå¯¹äºŽå¼•å…¥æ–‡ä»¶èµ„æºç­‰å¾ˆæœ‰å¸®åŠ© All AutoCompleteè®©ä»£ç è‡ªåŠ¨å®Œæˆçš„åŒ¹é…ä»Žæ‰€æœ‰æ‰“å¼€çš„æ–‡ä»¶é‡ŒåŽ»åŒ¹é…ï¼Œè€Œä¸æ˜¯åªåœ¨å½“å‰æ–‡ä»¶é‡ŒåŒ¹é…ã€‚ HTML-CSS-JS Prettifyhtml, css, js &amp;&amp; Json çš„æ ¼å¼åŒ–æ’ä»¶ã€‚éœ€è¦æœ¬åœ°å®‰è£…äº†nodeã€‚é»˜è®¤æ ¼å¼åŒ–å¿«æ·é”®ä¸ºctrl+shift+h ENDåŸºæœ¬ä¸Šæ¯”è¾ƒé€šç”¨çš„æ’ä»¶å°±è¿™äº›ï¼Œå¯ä»¥å‘çŽ°è¿™äº›æ’ä»¶åŸºæœ¬ä¸Šéƒ½åœ¨package Controlå‰åä½ã€‚å­¦ä¼šä¸¾ä¸€åä¸‰ï¼Œå·¥ä½œä¸­ç”¨åˆ°çš„å¦ä¸€äº›æ’ä»¶å†ä¸Šhttps://packagecontrol.io/ æœç´¢å…³é”®å­—å®‰è£…å¦‚ git, less, vuejsç­‰ç­‰ã€‚ æœ€åŽé™„ä¸Šè‡ªå·±çš„é…ç½®12345678910111213141516&#123; "color_scheme": "Packages/Material Theme/schemes/Material-Theme-Lighter.tmTheme", "ignored_packages": [ "Vintage" ], "always_show_minimap_viewport": true, "theme": "Material-Theme-Lighter.sublime-theme", "word_wrap":true, "wrap_width": 120, "font_size": 10, "line_padding_bottom": 2, "line_padding_top": 2, "highlight_line":true, "font_face": "Monaco"&#125;]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>github</tag>
        <tag>editor</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[chromeæ’ä»¶å¼€å‘]]></title>
    <url>%2F2017%2F04%2Fchrome%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%2F</url>
    <content type="text"><![CDATA[å…ˆæ”¾ä¸Šå…¥é—¨çš„è‹±è¯­æ–‡æ¡£https://developer.chrome.com/extensions/getstarted åŽé¢çš„æ•™ç¨‹æ˜¯å‚ç…§æ–‡æ¡£å­¦ä¹ çš„ã€‚ æ–°å»ºé…ç½®æ–‡ä»¶é¦–å…ˆåˆ›å»ºä¸€ä¸ªmanifest.json ç”¨äºŽæ•´ä¸ªé¡¹ç›®çš„é…ç½®æ–‡ä»¶ï¼Œ ç±»ä¼¼å¹³æ—¶ js çš„ package.jsonã€‚ åŒ…å«äº†é¡¹ç›®çš„ç‰ˆæœ¬å·ï¼Œ é¡¹ç›®åï¼ˆæ‰©å±•æ’ä»¶åï¼‰ï¼Œ æè¿°ç­‰ã€‚ 12345678910111213141516171819202122232425262728293031&#123; "manifest_version": 2, "name": "Getting started example", "description": "This extension shows a Google Image search result for the current page", "version": "1.0", "browser_action": &#123; "default_icon": "icon.png", "default_popup": "popup.html" &#125;, "permissions": [ "activeTab", "https://ajax.googleapis.com/" ]&#125;&#123; "manifest_version": 2, // ç‰ˆæœ¬å· "name": "Getting started example", // é¡¹ç›®å "description": "This extension shows a Google Image search result for the current page", // æè¿° "version": "1.0", // é¡¹ç›®ç‰ˆæœ¬å· "browser_action": &#123; "default_icon": "icon.png", // é»˜è®¤icon "default_popup": "popup.html" // é»˜è®¤å¼¹çª— &#125;, "permissions": [ "activeTab", // "https://ajax.googleapis.com/" ]&#125; èµ„æºæ–‡ä»¶åœ¨é…ç½®æ–‡ä»¶ä¸­æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª default_icon å’Œ default_popupï¼Œ çŽ°åœ¨è®©æˆ‘ä»¬æ¥åˆ›å»ºä»–ä»¬ã€‚ default_icondefault_icon æŒ‡å‘çš„æ˜¯ç”¨äºŽæ˜¾ç¤ºåœ¨å·¥å…·æ çš„å›¾æ ‡ å¯ä»¥é€‰è‡ªå·±å–œæ¬¢çš„å›¾ç‰‡ï¼Œä¸è¿‡è¦é€‰å– 19px çš„ .pngæ–‡ä»¶ã€‚ å¯ä»¥ç”¨googleæä¾›çš„ä¾‹å­ icon.png popup.htmlpopup.htmlç”¨äºŽç”¨æˆ·ç‚¹å‡»æ—¶å¼¹å‡ºçš„ä¸€ä¸ªæ“ä½œæ¡†ã€‚ä¸ºhtml æ–‡ä»¶ æ‰€ä»¥ä½ å¯ä»¥è‡ªå·±æ£é¼“è‡ªå·±æƒ³æ˜¾ç¤ºçš„ä¸œè¥¿ã€‚ å¯ä»¥ç”¨googleæä¾›çš„ä¾‹å­ popup.html ä¸»è¦çš„é€»è¾‘ä»¥å¤–éƒ¨jsçš„æ ¼å¼ç‹¬ç«‹å†™åœ¨ä¸€ä¸ªjsæ–‡ä»¶é‡Œã€‚ popup.js çŽ°åœ¨ä½ çš„æ–‡ä»¶å¤¹é‡Œåº”è¯¥æœ‰å››ä¸ªæ–‡ä»¶: icon.png popup.html popup.js manifest.json è¿™äº›å®Œæˆä¹‹åŽï¼Œæˆ‘ä»¬æŽ¥ä¸‹æ¥å°±åœ¨chromeåŠ è½½æˆ‘ä»¬çš„æ’ä»¶ åŠ è½½æ’ä»¶è°ƒè¯•chrome è®¿é—® chrome://extensions æˆ–æ‰‹åŠ¨ä»Žèœå•è¿›å…¥ æ‰©å±•ç¨‹åº æ‰“å¼€å³ä¸Šè§’çš„å¼€å‘è€…æ¨¡å¼ å¦‚æžœç”µè„‘æ²¡æœ‰è£…chromeâ€¦.è¶æ—©è£…ä¸€ä¸ª ç‚¹å‡»åŠ è½½å·²åŽ‹ç¼©çš„æ‰©å±•ç¨‹åºï¼Œå³å¯çœ‹åˆ°è‡ªå·±ç¼–å†™çš„ç¬¬ä¸€ä¸ªHello Chrome æ‰©å±•æ’ä»¶æ­¤æ—¶åŒå‡»å®¡æŸ¥ä»£ç å¯ä»¥è°ƒè¯•å†™çš„æ’ä»¶ã€‚ é™„ä¸ŠåŽç»­å­¦ä¹ é“¾æŽ¥https://developer.chrome.com/extensions]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>chrome</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[animate-text]]></title>
    <url>%2F2017%2F04%2Fanimate-text%2F</url>
    <content type="text"><![CDATA[animate-textæ–‡å­—åŠ¨ç”»å’Œæ•°å­—åŠ¨ç”» animate textæŸ¥çœ‹DEMO gitä»“åº“ è½»å·§çš„æ–‡å­—åŠ¨ç”»åº“, ä½¿ç”¨ç®€å•, æ–‡ä»¶å¤§å°4kå¯ä»¥ç»™æ–‡å­—æ·»åŠ å‡ºçŽ°åŠ¨ç”», æ”¯æŒå­—ç¬¦ä¸²æ‰“å­—æ•ˆæžœå’Œæ•°å­—å˜åŒ–æ•ˆæžœ, æ”¯æŒç›‘å¬åŠ¨ç”»ç»“æŸäº‹ä»¶ é¡¹åŽŸé¡¹ç›®åœ°å€, è¿™é‡Œå¯¹å…¶ä»£ç æ”¹é€ ä¼˜åŒ–ã€‚ ä½¿ç”¨æ–¹æ³•12345678910111213141516import AnimateText from './animate-text'// æœ€ç®€å•çš„ä½¿ç”¨æ–¹æ³•new AnimateText('.text')// å¦‚æžœéœ€è¦å®šä¹‰åŠ¨ç”»æ—¶é—´å¯ä»¥è¿™æ ·åˆå§‹åŒ–new AnimateText('.text', 1000)// å¦‚æžœè¿˜æœ‰å…¶å®ƒè®¾ç½® è¯·è¿™æ ·å†™new AnimateText('.text', &#123; time: 1000, // åŠ¨ç”»æ—¶é•¿ isNumber: true, // æ˜¯å¦æ¸²æŸ“ä¸ºæ•°å­—åŠ¨ç”» startNumber: 0, // æ¸²æŸ“ä¸ºæ•°å­—åŠ¨ç”»æ—¶ åŠ¨ç”»çš„å¼€å§‹æ•°å­— changeCount: 32, // æ•°å­—åŠ¨ç”»æ•°å­—å˜åŒ–æ¬¡æ•° onAnimated: function () &#123;console.log('åŠ¨ç”»ç»“æŸ')&#125; // åŠ¨ç”»ç»“æŸäº‹ä»¶å›žè°ƒ&#125;) å‚æ•°è¯´æ˜ŽAnimateTextæŽ¥æ”¶ä¸¤ä¸ªå‚æ•°, ä¾‹å¦‚: new AnimateText(element, options) å‚æ•° ç±»åž‹ æ˜¯å¦å¿…å¡« æè¿° element String or Object æ˜¯ å¯ä»¥æ˜¯é€‰æ‹©å™¨æˆ–è€…domèŠ‚ç‚¹å¯¹è±¡(è¯·ä¿è¯è¿™ä¸ªèŠ‚ç‚¹å†…åªæœ‰æ–‡æœ¬è€Œæ²¡æœ‰å…¶å®ƒèŠ‚ç‚¹) options Number or Object å¦ å¦‚æžœç¬¬äºŒä¸ªå‚æ•°æ˜¯æ•°å­—, åˆ™å½“ä½œåŠ¨ç”»æ—¶é—´å¤„ç†, å¦‚æžœæœ‰å…¶ä»–å‚æ•°, ä»¥å¯¹è±¡æ ¼å¼ä¼ é€’, å…·ä½“æ¯ä¸ªå±žæ€§çš„æè¿°è¯·çœ‹ä¸‹æ–¹çš„ optionsè¯´æ˜Ž optionsè¯´æ˜Žç¬¬äºŒä¸ªå‚æ•°optionsè¯¦ç»†è¯´æ˜Ž å‚æ•° ç±»åž‹ é»˜è®¤å€¼ æ˜¯å¦å¿…å¡« æè¿° time Number 500 å¦ åŠ¨ç”»æŒç»­çš„æ—¶é—´ isNumber Boolean false å¦ æ˜¯å¦æ¸²æŸ“ä¸ºæ•°å­—åŠ¨ç”» startNumber Number 0 å¦ æ•°å­—åŠ¨ç”»çš„å¼€å§‹æ•°å­— changeCount Number 32 å¦ æ•°å­—åŠ¨ç”»å˜åŒ–æ¬¡æ•° ä¹Ÿå°±æ˜¯æ•°å­—ç»è¿‡å¤šå°‘æ¬¡è·³åŠ¨æ‰å˜ä¸ºæœ€ç»ˆæ•°å­— onAnimated Function null å¦ åŠ¨ç”»ç»“æŸç›‘å¬å‡½æ•° å®žä¾‹å¯¹è±¡æ–¹æ³•è¯´æ˜Ž1234567// å®žä¾‹åŒ–var animateText = new AnimateText('.text')// å®žä¾‹åŒ–å¯¹è±¡åŽ å¯¹è±¡æä¾›playæ–¹æ³•é‡æ–°æ’­æ”¾åŠ¨ç”»// æŽ¥å—å‚æ•°ä½œä¸ºåŠ¨ç”»æ—¶é—´// ä¸ä¼ é€’å‚æ•°åˆ™ä½¿ç”¨å®žä¾‹åŒ–çš„æ—¶é—´animateText.play(1000)]]></content>
      <categories>
        <category>technology</category>
      </categories>
      <tags>
        <tag>learn</tag>
        <tag>github</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo-ç¬¬ä¸‰æ–¹æœåŠ¡é›†æˆ]]></title>
    <url>%2F2017%2F04%2F%E7%AC%AC%E4%B8%89%E6%96%B9%E6%9C%8D%E5%8A%A1%E9%9B%86%E6%88%90%2F</url>
    <content type="text"><![CDATA[é™æ€ç«™ç‚¹æ‹¥æœ‰ä¸€å®šçš„å±€é™æ€§ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å€ŸåŠ©äºŽç¬¬ä¸‰æ–¹æœåŠ¡æ¥æ‰©å±•ç«™ç‚¹çš„åŠŸèƒ½ã€‚ ä»¥ä¸‹æ˜¯ NexT ç›®å‰æ”¯æŒçš„ç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œä½ å¯ä»¥æ ¹æ®ä½ çš„éœ€æ±‚é›†æˆä¸€äº›åŠŸèƒ½è¿›æ¥ã€‚ è¯„è®ºç³»ç»ŸNexT æ”¯æŒå¤šæ¬¾è¯„è®ºç³»ç»Ÿã€‚å¦‚éœ€å–æ¶ˆæŸä¸ª é¡µé¢/æ–‡ç«  çš„è¯„è®ºï¼Œåœ¨ md æ–‡ä»¶çš„ front-matter ä¸­å¢žåŠ  comments: false æš‚æ²¡å¼€è¯„è®ºï¼Œå¤šè¯´å‡†å¤‡ä¸‹æž¶ã€‚ ç«™å†…æœç´¢æœ¬ç«™ç”¨ Hexo æä¾›çš„ Local Searchï¼Œ åŽŸç†æ˜¯é€šè¿‡hexo-generator-searchæ’ä»¶åœ¨æœ¬åœ°ç”Ÿæˆä¸€ä¸ªsearch.xmlæ–‡ä»¶ï¼Œæœç´¢çš„æ—¶å€™ä»Žè¿™ä¸ªæ–‡ä»¶ä¸­æ ¹æ®å…³é”®å­—æ£€ç´¢å‡ºç›¸åº”çš„é“¾æŽ¥ã€‚ å®‰è£…å®‰è£… hexo-generator-search1$ npm install hexo-generator-search å®‰è£… hexo-generator-searchdb1$ npm install hexo-generator-searchdb --save ä¿®æ”¹ç«™ç‚¹é…ç½®ç¼–è¾‘ ç«™ç‚¹é…ç½® æ ¹ç›®å½•ä¸‹çš„_config.yml.12345search: path: search.xml field: post format: html limit: 10000 ç«™å†…æœç´¢åŽŸæ–‡æ•™ç¨‹-EZLippi-æµ®ç”Ÿå¿—]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[next-ä¸»é¢˜è®¾ç½®]]></title>
    <url>%2F2017%2F04%2Fnext-%E4%B8%BB%E9%A2%98%E8%AE%BE%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[ä¸‹é¢çš„ä¸»é¢˜é…ç½®æŒ‡çš„æ˜¯ themes&gt;Next&gt;_config.yml, ç«™ç‚¹é…ç½®æŒ‡çš„æ˜¯æ ¹ç›®å½•ä¸‹çš„_config.yml; æ·»åŠ [æ ‡ç­¾]é¡µé¢æ–°å»ºã€Œæ ‡ç­¾ã€é¡µé¢ï¼Œå¹¶åœ¨èœå•ä¸­æ˜¾ç¤ºã€Œæ ‡ç­¾ã€é“¾æŽ¥ã€‚ã€Œæ ‡ç­¾ã€é¡µé¢å°†å±•ç¤ºç«™ç‚¹çš„æ‰€æœ‰æ ‡ç­¾ï¼Œè‹¥ä½ çš„æ‰€æœ‰æ–‡ç« éƒ½æœªåŒ…å«æ ‡ç­¾ï¼Œæ­¤é¡µé¢å°†æ˜¯ç©ºçš„ã€‚ åº•ä¸‹ä»£ç æ˜¯ä¸€ç¯‡åŒ…å«æ ‡ç­¾çš„æ–‡ç« çš„ä¾‹å­ï¼š 12345title: æ ‡ç­¾æµ‹è¯•æ–‡ç« tags: - Testing - Another Tag--- æ–°å»ºtagsé¡µé¢ä½¿ç”¨hexo new page tags æ–°å»ºä¸€ä¸ªé¡µé¢ï¼Œå‘½åä¸ºtags:12$ cd you-hexo-site$ hexo new page tags è®¾ç½®æ–°å»ºçš„tagsé¡µé¢ç±»åž‹ï¼Œæ”¹ä¸ºtags123456---title: tagsdate: 2017-04-03 11:35:36type: "tags"comments: false # tagsé¡µé¢è‡ªå®šä¹‰æ˜¯å¦è¦å¼€å¯è¯„è®ºï¼ˆå‰æä½ å·²ç»é›†æˆäº†è¯„è®ºï¼‰--- ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼ŒæŠŠtagæ·»åŠ åˆ°menuä¸­1234menu: home: / archives: /archives tags: /tags æ·»åŠ [åˆ†ç±»]é¡µé¢æ–°å»ºã€Œåˆ†ç±»ã€é¡µé¢ï¼Œå¹¶åœ¨èœå•ä¸­æ˜¾ç¤ºã€Œåˆ†ç±»ã€é“¾æŽ¥ã€‚ã€Œåˆ†ç±»ã€é¡µé¢å°†å±•ç¤ºç«™ç‚¹çš„æ‰€æœ‰åˆ†ç±»ï¼Œè‹¥ä½ çš„æ‰€æœ‰æ–‡ç« éƒ½æœªåŒ…å«åˆ†ç±»ï¼Œæ­¤é¡µé¢å°†æ˜¯ç©ºçš„ã€‚ åº•ä¸‹ä»£ç æ˜¯ä¸€ç¯‡åŒ…å«åˆ†ç±»çš„æ–‡ç« çš„ä¾‹å­ï¼š 123title: åˆ†ç±»æµ‹è¯•æ–‡ç« categories: Testing--- åˆ†ç±»å’Œæ ‡ç­¾çš„åŒºåˆ«è¯¦è§Hexoçš„åˆ†ç±»ä¸Žæ ‡ç­¾æ–‡æ¡£ æ–°å»ºé¡µé¢åœ¨ç»ˆç«¯çª—å£ä¸‹ï¼Œå®šä½åˆ° Hexo ç«™ç‚¹ç›®å½•ä¸‹ã€‚ä½¿ç”¨ hexo new page æ–°å»ºä¸€ä¸ªé¡µé¢ï¼Œå‘½åä¸º categories ï¼š1234567891011$ cd your-hexo-site$ hexo new page categories``` #### è®¾ç½®é¡µé¢ç±»åž‹ç¼–è¾‘åˆšæ–°å»ºçš„é¡µé¢ï¼Œå°†é¡µé¢çš„ `type` è®¾ç½®ä¸º `categories` ï¼Œä¸»é¢˜å°†è‡ªåŠ¨ä¸ºè¿™ä¸ªé¡µé¢æ˜¾ç¤ºåˆ†ç±»ã€‚é¡µé¢å†…å®¹å¦‚ä¸‹ï¼š```ymltitle: åˆ†ç±»date: 2014-12-22 12:39:04type: "categories"--- ä¿®æ”¹èœå•åœ¨èœå•ä¸­æ·»åŠ é“¾æŽ¥ã€‚ç¼–è¾‘ ä¸»é¢˜é…ç½®æ–‡ä»¶ ï¼Œ æ·»åŠ  categories åˆ° menu ä¸­ï¼Œå¦‚ä¸‹:1234menu: home: / archives: /archives categories: /categories è®¾ç½®å­—ä½“Nextæä¾›äº†5ä¸ªç‰¹å®šèŒƒå›´çš„å­—ä½“è®¾å®š å…¨å±€å­—ä½“ï¼šå®šä¹‰çš„å­—ä½“å°†åœ¨å…¨ç«™èŒƒå›´ä½¿ç”¨ æ ‡é¢˜å­—ä½“ï¼šæ–‡ç« å†…æ ‡é¢˜çš„å­—ä½“ï¼ˆh1, h2, h3, h4, h5, h6ï¼‰ æ–‡ç« å­—ä½“ï¼šæ–‡ç« æ‰€ä½¿ç”¨çš„å­—ä½“ Logoå­—ä½“ï¼šLogo æ‰€ä½¿ç”¨çš„å­—ä½“ ä»£ç å­—ä½“ï¼š ä»£ç å—æ‰€ä½¿ç”¨çš„å­—ä½“ è¯¥é…ç½®ä¸­çš„ external å¯ä»¥ç”¨æ¥æŽ§åˆ¶æ˜¯å¦ä½¿ç”¨å¤–é“¾å­—ä½“åº“ã€‚ å¼€æ”¾æ­¤å±žæ€§æ–¹ä¾¿ä½ è®¾å®šé‚£äº›å·²ç»å®‰è£…åœ¨ç³»ç»Ÿä¸­çš„å­—ä½“ï¼Œå‡å°‘ä¸å¿…è¦çš„è¯·æ±‚ï¼ˆè¯·æ±‚å¤§å°ï¼‰ã€‚ è®¾ç½®ä»£ç é«˜äº®ä¸»é¢˜NexT ä½¿ç”¨ Tomorrow Theme ä½œä¸ºä»£ç é«˜äº®ï¼Œå…±æœ‰5æ¬¾ä¸»é¢˜ä¾›ä½ é€‰æ‹©ã€‚ NexT é»˜è®¤ä½¿ç”¨çš„æ˜¯ ç™½è‰²çš„ normal ä¸»é¢˜ï¼Œå¯é€‰çš„å€¼æœ‰ normalï¼Œnightï¼Œ night blueï¼Œ night brightï¼Œ night eightiesï¼šå¯ä»¥è‡ªè¡Œæ›´æ”¹ highlight_theme å­—æ®µï¼Œ è®¾ç½®æˆä½ è‡ªå·±å–œæ¬¢çš„é«˜äº®ä¸»é¢˜ã€‚ ä¾§è¾¹æ ç¤¾äº¤é“¾æŽ¥ä¾§æ ç¤¾äº¤é“¾æŽ¥çš„ä¿®æ”¹åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼Œç¬¬ä¸€æ˜¯é“¾æŽ¥ï¼Œç¬¬äºŒæ˜¯é“¾æŽ¥å›¾æ ‡ã€‚ ä¸¤è€…é…ç½®å‡åœ¨ ä¸»é¢˜é…ç½®æ–‡ä»¶ ä¸­ã€‚ è®¾ç½®é“¾æŽ¥åœ¨ ä¸»é¢˜é…ç½® ä¸­æ‰¾åˆ° socialå­—æ®µï¼Œ å…¶æ ¼å¼ä¸º æ˜¾ç¤ºæ–‡æœ¬: é“¾æŽ¥åœ°å€ã€‚ scoial123social: Github: https://github.com/jsonz1993 å¾®åš: http://weibo.com/u/1638841204 è®¾ç½®å›¾æ ‡åœ¨ ä¸»é¢˜é…ç½® ä¸­æ‰¾åˆ° social_iconså­—æ®µï¼Œ å…¶æ ¼å¼ä¸º åŒ¹é…é”®: Font Awesome å›¾æ ‡åç§°ã€‚enable ä¸ºæ˜¯å¦æ˜¾ç¤ºå›¾æ ‡æŽ§åˆ¶ã€‚ æ³¨æ„æ­¤æ—¶çš„åŒ¹é…å»ºè¦ä¸Ž socialçš„é”®ä¸€è‡´,å›¾æ ‡ä¾æ—§æ˜¯Font Awesomeå›¾æ ‡ ç«™ç‚¹å»ºç«‹æ—¶é—´è¿™ä¸ªæ—¶é—´å°†åœ¨ç«™ç‚¹çš„åº•éƒ¨æ˜¾ç¤ºï¼Œä¾‹å¦‚ Â© 2013 - 2015ã€‚ ç¼–è¾‘ ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæ–°å¢žå­—æ®µ sinceã€‚ 1since: 2013 è®¾ç½®ã€ŒåŠ¨ç”»æ•ˆæžœã€NexT é»˜è®¤å¼€å¯åŠ¨ç”»æ•ˆæžœï¼Œæ•ˆæžœä½¿ç”¨ JavaScript ç¼–å†™ï¼Œå› æ­¤éœ€è¦ç­‰å¾… JavaScript è„šæœ¬å®Œå…¨åŠ è½½å®Œæ¯•åŽæ‰ä¼šæ˜¾ç¤ºå†…å®¹ã€‚ å¦‚æžœæ‚¨æ¯”è¾ƒåœ¨ä¹Žé€Ÿåº¦ï¼Œå¯ä»¥å°†è®¾ç½®æ­¤å­—æ®µçš„å€¼ä¸º false æ¥å…³é—­åŠ¨ç”»ã€‚ç¼–è¾‘ ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œ æœç´¢ use_motionï¼Œæ ¹æ®æ‚¨çš„éœ€æ±‚è®¾ç½®å€¼ä¸º true æˆ–è€… false å³å¯ï¼š1use_motion: true # å¼€å¯åŠ¨ç”» è®¾ç½®ã€ŒèƒŒæ™¯åŠ¨ç”»ã€NexT è‡ªå¸¦ä¸¤ç§èƒŒæ™¯åŠ¨ç”»æ•ˆæžœ ç¼–è¾‘ ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œ æœç´¢ canvas_nest æˆ– three_wavesï¼Œæ ¹æ®æ‚¨çš„éœ€æ±‚è®¾ç½®å€¼ä¸º true æˆ–è€… false å³å¯ï¼šåªèƒ½åŒæ—¶å¼€å¯ä¸€ç§èƒŒæ™¯æ•ˆæžœï¼Œ å»ºè®®é…Œæƒ…å¼€å¯ï¼Œä¼šå½±å“ç”µè„‘ç½‘é¡µæ€§èƒ½(macbook proæˆ–ç¬”è®°æœ¬å®¹æ˜“å‡ºçŽ°è¿‡çƒ­çŽ°è±¡).12canvas_nest: false //å…³é—­åŠ¨ç”»three_waves: true //å¼€å¯åŠ¨ç”»]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hello next]]></title>
    <url>%2F2017%2F04%2Fhellp-next%2F</url>
    <content type="text"><![CDATA[next å…¥é—¨é…ç½® ä¸»é¢˜å®‰è£…ä¸‹é¢Nextä¸‹çš„_configç§°ä¸»é¢˜é…ç½®ï¼Œ æ ¹ç›®å½•Hexoçš„_configç§°ç«™ç‚¹é…ç½® å®‰è£…next åˆ°ç›®å½• themes/next:æ³¨æ„å®‰è£…å®Œthemesä¸‹åº”è¯¥æœ‰ä¸€ä¸ª next æ–‡ä»¶å¤¹1$ git clone https://github.com/iissnan/hexo-theme-next themes/next å¯åŠ¨ä¸»é¢˜ä¿®æ”¹ ç«™ç‚¹é…ç½®:1theme: next éªŒè¯ä¸»é¢˜å…ˆæ¸…é™¤ç¼“å­˜å†å¯åŠ¨æœåŠ¡ï¼Œå¯åŠ¨å®ŒæˆåŽæ‰“å¼€ http://localhost:4000/1$ hexo clean &amp;&amp; hexo s ä¸»é¢˜è®¾å®šé€‰æ‹©SchemeScheme æ˜¯ NexT æä¾›çš„ä¸€ç§ç‰¹æ€§ï¼Œå€ŸåŠ©äºŽ Schemeï¼ŒNexT ä¸ºä½ æä¾›å¤šç§ä¸åŒçš„å¤–è§‚ã€‚åŒæ—¶ï¼Œå‡ ä¹Žæ‰€æœ‰çš„é…ç½®éƒ½å¯ä»¥ åœ¨ Scheme ä¹‹é—´å…±ç”¨ã€‚åœ¨ä¸»é¢˜é…ç½®é…ç½®ä¸­çš„Schemeé€‰é¡¹ã€‚ç›®å‰æä¾›ä¸‰ç§æ–¹æ¡ˆï¼š Muse - é»˜è®¤ Schemeï¼Œè¿™æ˜¯ NexT æœ€åˆçš„ç‰ˆæœ¬ï¼Œé»‘ç™½ä¸»è°ƒï¼Œå¤§é‡ç•™ç™½ Mist - Muse çš„ç´§å‡‘ç‰ˆæœ¬ï¼Œæ•´æ´æœ‰åºçš„å•æ å¤–è§‚ Pisces - åŒæ  Schemeï¼Œå°å®¶ç¢§çŽ‰ä¼¼çš„æ¸…æ–° ç›®å‰ä½¿ç”¨çš„æ˜¯ scheme: Mistæ–¹æ¡ˆ è®¾ç½®è¯­è¨€åœ¨ç«™ç‚¹é…ç½® language ä¸­è®¾ç½® zh-Hans (ç®€ä½“ä¸­æ–‡)ã€‚æ”¯æŒçš„è¯­è¨€å¯åœ¨ themes/next/languages ä¸­æŸ¥çœ‹ è®¾ç½®èœå•èœå•æ ¼å¼ä¸º item name: linkæ­¤å¤„åªæ˜¯å°† urlæ˜ å°„åˆ°å¯¹åº” èœå•ä¸Šï¼Œè‹¥è¦å…·ä½“æ˜¾ç¤ºæ–‡æ¡ˆéœ€è¦åˆ°è¯­è¨€é…ç½®æ–‡ä»¶ä¿®æ”¹123456menu: home: / # ä¸»é¡µ categories: /categories # åˆ†ç±» archives: /archives # å½’æ¡£ tags: /tags # æ ‡ç­¾ about: /about # å…³äºŽæˆ‘ è®¾ç½®èœå•å›¾æ ‡å›¾æ ‡å¯ä»Žhttp://fontawesome.io/é€‰æ‹©123456789menu_icons: enable: true # æ˜¯å¦æ˜¾ç¤ºå›¾æ ‡ # Icon Mapping. home: home about: user categories: th tags: tags archives: archive commonweal: heartbeat è®¾ç½®ä¾§æ  è®¾ç½®ä¾§æ ä½ç½®ï¼šä¸»é¢˜é…ç½® ä¿®æ”¹ sidebar.position çš„å€¼ï¼Œæ”¯æŒ left &amp; rightä½†ç›®å‰åªæœ‰Pisces Schemeæ”¯æŒè¯¥è®¾ç½® è®¾ç½®ä¾§æ æ˜¾ç¤ºçš„æ—¶æœºä¸»é¢˜é…ç½® ä¿®æ”¹ sidebar.displayï¼Œç›®å‰æ”¯æŒçš„æœ‰ï¼š post é»˜è®¤è¡Œæ–‡ï¼Œæ–‡å±•é¡µé¢è‡ªåŠ¨å±•å¼€ é¦–é¡µç­‰ä¸è‡ªåŠ¨å±•å¼€ always æ‰€æœ‰é¡µé¢éƒ½è‡ªåŠ¨å±•å¼€ hide æ‰€æœ‰é¡µé¢éƒ½éšè—ï¼Œå¯ä»¥æ‰‹åŠ¨å±•å¼€ remove å®Œå…¨ç§»é™¤ è®¾ç½®å¤´åƒä¸»é¢˜é…ç½® ä¿®æ”¹ avatarå­—æ®µã€‚æ”¯æŒäº’è”ç½‘URI å¦‚ https://www.img.com/img.jpgæˆ–ç«™å†…åœ°å€ /images/avatar.jpg é›†æˆç¬¬ä¸‰æ–¹æœåŠ¡ç™¾åº¦ç»Ÿè®¡ ç™»å½•ç™¾åº¦ç»Ÿè®¡ï¼Œ å®šä½åˆ°ç«™ç‚¹çš„ä»£ç èŽ·å–é¡µé¢ å¤åˆ¶ hm.js? åŽé¢é‚£ä¸²ç»Ÿè®¡è„šæœ¬ idï¼Œå¦‚:hm.src = &quot;https://hm.baidu.com/hm.js?dksjklsajdlkasjkl&quot;;åˆ™id = dksjklsajdlkasjkl ä¿®æ”¹ä¸»é¢˜é…ç½® baidu_analytics å­—æ®µï¼Œæ”¹ä¸ºä¸Šè¿°id éªšç­‰ä¸€æ®µæ—¶é—´åŽå¯ä»¥è‡ªè¡Œç™»å½•ç™¾åº¦ç»Ÿè®¡æŸ¥çœ‹PV,UVç­‰æ•°æ®ã€‚ æ–‡ç« é˜…è¯»é‡ç»Ÿè®¡ä¸ºNextä¸»é¢˜æ·»åŠ æ–‡ç« é˜…è¯»é‡]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo-è¾…åŠ©å‡½æ•°]]></title>
    <url>%2F2017%2F04%2Fhexo-%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0%2F</url>
    <content type="text"><![CDATA[ä¸»è¦ç”¨äºŽæ¨¡æ¿ä¸­è¾…åŠ©çš„å‡½æ•°ï¼Œå¦‚ date(Date, &#39;YYYY-DD-MM&#39;) è¯¦è§https://hexo.io/zh-cn/docs/helpers.html]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo-å˜é‡]]></title>
    <url>%2F2017%2F04%2Fhexo-%E5%8F%98%E9%87%8F%2F</url>
    <content type="text"><![CDATA[å˜é‡ä¸»è¦ç”¨äºŽ layout ç­‰çš„åº”ç”¨ å…¨å±€å˜é‡ å˜é‡ æè¿° site ç½‘ç«™å˜é‡ page é’ˆå¯¹è¯¥é¡µé¢çš„å†…å®¹ä»¥åŠ front-matter æ‰€è®¾å®šçš„å˜é‡ã€‚ config ç½‘ç«™é…ç½® theme ä¸»é¢˜é…ç½®ã€‚ç»§æ‰¿è‡ªç½‘ç«™é…ç½®ã€‚ _ (å•ä¸‹åˆ’çº¿) Lodash å‡½æ•°åº“ path å½“å‰é¡µé¢çš„è·¯å¾„ï¼ˆä¸å«æ ¹è·¯å¾„ï¼‰ url å½“å‰é¡µé¢çš„å®Œæ•´ç½‘å€ env çŽ¯å¢ƒå˜é‡ ç½‘ç«™å˜é‡ å˜é‡ æè¿° site.posts æ‰€æœ‰æ–‡ç«  site.pages æ‰€æœ‰åˆ†é¡µ site.categories æ‰€æœ‰åˆ†ç±» site.tags æ‰€æœ‰æ ‡ç­¾ é¡µé¢å˜é‡é¡µé¢page å˜é‡ æè¿° page.title é¡µé¢æ ‡é¢˜ page.date é¡µé¢å»ºç«‹æ—¥æœŸï¼ˆMoment.js å¯¹è±¡ï¼‰ page.updated é¡µé¢æ›´æ–°æ—¥æœŸï¼ˆMoment.js å¯¹è±¡ï¼‰ page.comments ç•™è¨€æ˜¯å¦å¼€å¯ page.layout å¸ƒå±€åç§° page.content é¡µé¢çš„å®Œæ•´å†…å®¹ page.excerpt é¡µé¢æ‘˜è¦ page.more é™¤äº†é¡µé¢æ‘˜è¦çš„å…¶ä½™å†…å®¹ page.source é¡µé¢åŽŸå§‹è·¯å¾„ page.full_source é¡µé¢çš„å®Œæ•´åŽŸå§‹è·¯å¾„ page.path é¡µé¢ç½‘å€ï¼ˆä¸å«æ ¹è·¯å¾„ï¼‰ã€‚æˆ‘ä»¬é€šå¸¸åœ¨ä¸»é¢˜ ä¸­ä½¿ç”¨ url_for(page.path)ã€‚ page.permalink é¡µé¢çš„å®Œæ•´ç½‘å€ page.prev ä¸Šä¸€ä¸ªé¡µé¢ã€‚å¦‚æžœæ­¤ä¸ºç¬¬ä¸€ä¸ªé¡µé¢åˆ™ä¸º nullã€‚ page.next ä¸‹ä¸€ä¸ªé¡µé¢ã€‚å¦‚æžœæ­¤ä¸ºæœ€åŽä¸€ä¸ªé¡µé¢åˆ™ä¸º nullã€‚ page.raw æ–‡ç« çš„åŽŸå§‹å†…å®¹ page.photos æ–‡ç« çš„ç…§ç‰‡ï¼ˆç”¨äºŽç›¸ç°¿ï¼‰ page.link æ–‡ç« çš„å¤–éƒ¨é“¾æŽ¥ï¼ˆç”¨äºŽé“¾æŽ¥æ–‡ç« ï¼‰ æ–‡ç« postä¸Žpageç±»ä¼¼ ä½†æ˜¯æ·»åŠ äº†ä¸‹åˆ—å˜é‡ å˜é‡ æè¿° page.published å¦‚æžœè¯¥æ–‡ç« å·²å‘å¸ƒåˆ™ä¸ºTrue page.categories è¯¥æ–‡ç« çš„æ‰€æœ‰åˆ†ç±» page.tags è¯¥æ–‡ç« çš„æ‰€æœ‰æ ‡ç­¾ é¦–é¡µ index å˜é‡ æè¿° page.per_page æ¯é¡µæ˜¾ç¤ºçš„æ–‡ç« æ•°é‡ page.total æ€»æ–‡ç« æ•° page.current ç›®å‰é¡µæ•° page.current_url ç›®å‰åˆ†é¡µçš„ç½‘å€ page.posts æœ¬é¡µæ–‡ç«  page.prev ä¸Šä¸€é¡µçš„é¡µæ•°ã€‚å¦‚æžœæ­¤é¡µæ˜¯ç¬¬ä¸€é¡µçš„è¯åˆ™ä¸º 0ã€‚ page.prev_link ä¸Šä¸€é¡µçš„ç½‘å€ã€‚å¦‚æžœæ­¤é¡µæ˜¯ç¬¬ä¸€é¡µçš„è¯åˆ™ä¸º â€˜â€™ã€‚ page.next ä¸‹ä¸€é¡µçš„é¡µæ•°ã€‚å¦‚æžœæ­¤é¡µæ˜¯æœ€åŽä¸€é¡µçš„è¯åˆ™ä¸º 0ã€‚ page.next_link ä¸‹ä¸€é¡µçš„ç½‘å€ã€‚å¦‚æžœæ­¤é¡µæ˜¯æœ€åŽä¸€é¡µçš„è¯åˆ™ä¸º â€˜â€™ã€‚ page.path å½“å‰é¡µé¢çš„è·¯å¾„ï¼ˆä¸å«æ ¹ç›®å½•ï¼‰ã€‚æˆ‘ä»¬é€šå¸¸åœ¨ä¸»é¢˜ä¸­ä½¿ç”¨ url_for(page.path)ã€‚ å½’æ¡£ (archive)ä¸Ž index å¸ƒå±€ç›¸åŒï¼Œ ä½†æ–°å¢žäº†ä»¥ä¸‹å˜é‡ å˜é‡ æè¿° page.archive ç­‰äºŽ true page.year å¹´ä»½å½’æ¡£ (4ä½) page.month æœˆä»½å½’æ¡£ (æ²¡æœ‰å‰å¯¼é›¶çš„2ä½æ•°) åˆ†ç±» (category)ä¸Ž index å¸ƒå±€ç›¸åŒï¼Œ ä½†æ–°å¢žäº†ä»¥ä¸‹å˜é‡ å˜é‡ æè¿° page.category åˆ†ç±»åç§° æ ‡ç­¾(tag)ä¸Ž index å¸ƒå±€ç›¸åŒï¼Œ ä½†æ–°å¢žäº†ä»¥ä¸‹å˜é‡ å˜é‡ æè¿° page.tag æ ‡ç­¾åç§°]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo-æ¨¡æ¿]]></title>
    <url>%2F2017%2F04%2Fhexo-%E6%A8%A1%E6%9D%BF%2F</url>
    <content type="text"><![CDATA[æ¨¡æ¿å†³å®šäº†ç½‘ç«™å†…å®¹çš„å‘ˆçŽ°æ–¹å¼ï¼Œæ¯ä¸ªä¸»é¢˜è‡³å°‘éƒ½åº”åŒ…å«ä¸€ä¸ª index æ¨¡æ¿ï¼Œä»¥ä¸‹æ˜¯å„é¡µé¢ç›¸å¯¹åº”çš„æ¨¡æ¿åç§°ï¼š æ¨¡æ¿ ç”¨é€” å›žè°ƒ index é¦–é¡µ post æ–‡ç«  index page åˆ†é¡µ index archive å½’æ¡£ index category åˆ†ç±»å½’æ¡£ archive tag æ ‡ç­¾å½’æ¡£ archive å¸ƒå±€ Layoutå¸ƒå±€è¿™å—å¯å‚è€ƒ next ä¸»é¢˜çœ‹, Hexo é»˜è®¤çš„å¼•æ“Žæ¨¡æ¿ä¸ºswig å¦‚æžœé¡µé¢ç»“æž„ç±»ä¼¼ï¼Œä¾‹å¦‚ä¸¤ä¸ªæ¨¡æ¿éƒ½æœ‰é¡µé¦–ï¼ˆHeaderï¼‰å’Œé¡µè„šï¼ˆFooterï¼‰ï¼Œæ‚¨å¯è€ƒè™‘é€šè¿‡ã€Œå¸ƒå±€ã€è®©ä¸¤ä¸ªæ¨¡æ¿å…±äº«ç›¸åŒçš„ç»“æž„ã€‚ä¸€ä¸ªå¸ƒå±€æ–‡ä»¶å¿…é¡»è¦èƒ½æ˜¾ç¤º body å˜é‡çš„å†…å®¹ï¼Œå¦‚æ­¤ä¸€æ¥æ¨¡æ¿çš„å†…å®¹æ‰ä¼šè¢«æ˜¾ç¤ºï¼Œä¸¾ä¾‹æ¥è¯´ï¼š index.ejs1index layout.ejs1234&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;body&gt;&lt;%- body %&gt;&lt;/body&gt;&lt;/html&gt; ç”Ÿæˆ1234&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;body&gt;index&lt;/body&gt;&lt;/html&gt; æ¯ä¸ªæ¨¡æ¿éƒ½é»˜è®¤ä½¿ç”¨ layout å¸ƒå±€ï¼Œæ‚¨å¯åœ¨ front-matter æŒ‡å®šå…¶ä»–å¸ƒå±€ï¼Œæˆ–æ˜¯è®¾ä¸º false æ¥å…³é—­å¸ƒå±€åŠŸèƒ½ï¼Œæ‚¨ç”šè‡³å¯åœ¨å¸ƒå±€ä¸­å†ä½¿ç”¨å…¶ä»–å¸ƒå±€æ¥å»ºç«‹åµŒå¥—å¸ƒå±€ã€‚ å±€éƒ¨æ¨¡æ¿ Partialå±€éƒ¨æ¨¡æ¿è®©æ‚¨åœ¨ä¸åŒæ¨¡æ¿ä¹‹é—´å…±äº«ç›¸åŒçš„ç»„ä»¶ï¼Œä¾‹å¦‚é¡µé¦–ï¼ˆHeaderï¼‰ã€é¡µè„šï¼ˆFooterï¼‰æˆ–ä¾§è¾¹æ ï¼ˆSidebarï¼‰ç­‰ï¼Œå¯åˆ©ç”¨å±€éƒ¨æ¨¡æ¿åŠŸèƒ½åˆ†å‰²ä¸ºä¸ªåˆ«æ–‡ä»¶ï¼Œè®©ç»´æŠ¤æ›´åŠ ä¾¿åˆ©ã€‚ å®˜ç½‘è¯´çš„éƒ½æ˜¯ejsè¯­æ³•ï¼Œ ç›®å‰nexté‡‡ç”¨çš„æ˜¯swig è¯­æ³•ã€‚ TODO åŽé¢å†è¡¥ä¸Š Nextä¸»é¢˜å­¦ä¹  &amp;&amp; swig]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo-ä¸»é¢˜æ¦‚è¿°]]></title>
    <url>%2F2017%2F04%2Fhexo-%E4%B8%BB%E9%A2%98%E6%A6%82%E8%BF%B0%2F</url>
    <content type="text"><![CDATA[äº†è§£ä¸€æ¬¾ä¸»é¢˜çš„æ–‡ä»¶ç»“æž„å¯ä»¥è®©ä½ åœ¨æœ‰è‡ªå®šä¹‰éœ€æ±‚çš„æ—¶å€™ï¼Œå¿«é€Ÿå®šä½åˆ°ç›®æ ‡æ–‡ä»¶ï¼Œä¹Ÿä¸ºåŽé¢çš„å®šåˆ¶åŒ–ä¸»é¢˜åšé“ºåž«ã€‚ åˆ›å»º Hexo ä¸»é¢˜éžå¸¸å®¹æ˜“ï¼Œæ‚¨åªè¦åœ¨ themes æ–‡ä»¶å¤¹å†…ï¼Œæ–°å¢žä¸€ä¸ªä»»æ„åç§°çš„æ–‡ä»¶å¤¹ï¼Œå¹¶ä¿®æ”¹ _config.yml å†…çš„ theme è®¾å®šï¼Œå³å¯åˆ‡æ¢ä¸»é¢˜ã€‚ä¸€ä¸ªä¸»é¢˜å¯èƒ½ä¼šæœ‰ä»¥ä¸‹çš„ç»“æž„ï¼š 123456.â”œâ”€â”€ _config.ymlâ”œâ”€â”€ languagesâ”œâ”€â”€ layoutâ”œâ”€â”€ scriptsâ””â”€â”€ source _config.ymlä¸»é¢˜çš„é…ç½®æ–‡ä»¶ã€‚ä¿®æ”¹æ—¶ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œæ— éœ€é‡å¯æœåŠ¡å™¨ã€‚ languagesè¯­è¨€æ–‡ä»¶å¤¹ã€‚è¯·å‚è§ å›½é™…åŒ– (i18n)ã€‚ layoutå¸ƒå±€æ–‡ä»¶å¤¹ã€‚ç”¨äºŽå­˜æ”¾ä¸»é¢˜çš„æ¨¡æ¿æ–‡ä»¶ï¼Œå†³å®šäº†ç½‘ç«™å†…å®¹çš„å‘ˆçŽ°æ–¹å¼ï¼ŒHexo å†…å»º Swig æ¨¡æ¿å¼•æ“Žï¼Œæ‚¨å¯ä»¥å¦å¤–å®‰è£…æ’ä»¶æ¥èŽ·å¾— EJSã€Haml æˆ– Jade æ”¯æŒï¼ŒHexo æ ¹æ®æ¨¡æ¿æ–‡ä»¶çš„æ‰©å±•åæ¥å†³å®šæ‰€ä½¿ç”¨çš„æ¨¡æ¿å¼•æ“Žï¼Œä¾‹å¦‚ï¼š12layout.ejs - ä½¿ç”¨ EJSlayout.swig - ä½¿ç”¨ Swig è¯¦ç»†è§ æ¨¡æ¿ scriptsè„šæœ¬æ–‡ä»¶å¤¹ã€‚åœ¨å¯åŠ¨æ—¶ï¼ŒHexo ä¼šè½½å…¥æ­¤æ–‡ä»¶å¤¹å†…çš„ JavaScript æ–‡ä»¶ï¼Œè¯¦ç»†è§ æ’ä»¶ ã€‚ sourceèµ„æºæ–‡ä»¶å¤¹ï¼Œé™¤äº†æ¨¡æ¿ä»¥å¤–çš„ Assetï¼Œä¾‹å¦‚ CSSã€JavaScript æ–‡ä»¶ç­‰ï¼Œéƒ½åº”è¯¥æ”¾åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ã€‚æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹å¼€å¤´åç§°ä¸º _ï¼ˆä¸‹åˆ’çº¿çº¿ï¼‰æˆ–éšè—çš„æ–‡ä»¶ä¼šè¢«å¿½ç•¥ã€‚ å¦‚æžœæ–‡ä»¶å¯ä»¥è¢«æ¸²æŸ“çš„è¯ï¼Œä¼šç»è¿‡è§£æžç„¶åŽå‚¨å­˜åˆ° public æ–‡ä»¶å¤¹ï¼Œå¦åˆ™ä¼šç›´æŽ¥æ‹·è´åˆ° public æ–‡ä»¶å¤¹ å‘å¸ƒï¼ˆç•¥ï¼‰]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo-æ°¸ä¹…é“¾æŽ¥]]></title>
    <url>%2F2017%2F04%2Fhexo-%E6%B0%B8%E4%B9%85%E9%93%BE%E6%8E%A5%2F</url>
    <content type="text"><![CDATA[ä½ å¯ä»¥åœ¨_config.yml &gt; permalinké…ç½®ç½‘ç«™çš„æ°¸ä¹…é“¾æŽ¥æˆ–è€…æ¯ç¯‡æ–‡ç« çš„Front-matterè‡ªå®šä¹‰è¯¥æ–‡ç« çš„æ°¸ä¹…é“¾æŽ¥, å¦‚: :year/:month/:title/ å¯¹åº” 2017/04/hexo-æ°¸ä¹…é“¾æŽ¥/ å˜é‡é™¤äº†ä¸‹åˆ—å˜é‡å¤–ï¼Œæ‚¨è¿˜å¯ä½¿ç”¨ Front-matter ä¸­çš„æ‰€æœ‰å±žæ€§ã€‚ å˜é‡ æè¿° :year æ–‡ç« çš„å‘è¡¨å¹´ä»½ï¼ˆ4 ä½æ•°ï¼‰ :month æ–‡ç« çš„å‘è¡¨æœˆä»½ï¼ˆ2 ä½æ•°ï¼‰ :i_month æ–‡ç« çš„å‘è¡¨æœˆä»½ï¼ˆåŽ»æŽ‰å¼€å¤´çš„é›¶ï¼‰ :day æ–‡ç« çš„å‘è¡¨æ—¥æœŸ (2 ä½æ•°) :i_day æ–‡ç« çš„å‘è¡¨æ—¥æœŸï¼ˆåŽ»æŽ‰å¼€å¤´çš„é›¶ï¼‰ :title æ–‡ä»¶åç§° :id æ–‡ç«  ID :category åˆ†ç±»ã€‚å¦‚æžœæ–‡ç« æ²¡æœ‰åˆ†ç±»ï¼Œåˆ™æ˜¯ default_category é…ç½®ä¿¡æ¯ã€‚ ä¹Ÿå¯ä»¥åœ¨ permalink_defaults å‚æ•°ä¸‹è°ƒæ•´æ°¸ä¹…é“¾æŽ¥ä¸­å„å˜é‡çš„é»˜è®¤å€¼ï¼š12permalink_defaults: lang: en]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo-ç”Ÿæˆæ–‡ä»¶ä¸Žéƒ¨ç½²]]></title>
    <url>%2F2017%2F04%2F%E7%94%9F%E6%88%90%E6%96%87%E4%BB%B6%E4%B8%8E%E9%83%A8%E7%BD%B2%2F</url>
    <content type="text"><![CDATA[ç”Ÿæˆæ–‡ä»¶ç”Ÿæˆæ–‡ä»¶ä¸€èˆ¬æ˜¯ç”¨äºŽç”Ÿæˆé™æ€èµ„æºæ–‡ä»¶éƒ¨ç½²æœåŠ¡å™¨ç”¨çš„ 12345$ hexo generateå¿«æ·æ–¹å¼ä¸º:$hexo g ä¹Ÿå¯ä»¥è®©Hexoåœ¨ç›‘è§†åˆ°æ–‡ä»¶å˜åŠ¨åŽç«‹å³é‡æ–°ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œåœ¨ç”Ÿæˆæ—¶ä¼šæ¯”å¯¹æ–‡ä»¶çš„ SHA1 checksumï¼Œåªæœ‰å˜åŠ¨çš„æ–‡ä»¶æ‰ä¼šå†™å…¥ã€‚1$ hexo generate --watch ä¸€èˆ¬ä¼šè·‘ä»¥ä¸‹å‘½ä»¤ï¼Œæ–¹ä¾¿åœ¨Hexoç”Ÿæˆæ–‡ä»¶åŽç›´æŽ¥éƒ¨ç½²åˆ°Githubä¸Š123456789$ hexo generate --deploy$ hexo deploy --generate(ä¸Šé¢ä¸¤æ¡å‘½ä»¤æ•ˆæžœä¸€æ ·)æˆ–è€…ç®€å†™$ hexo g -d$ hexo d -g(ä¸Šé¢ä¸¤æ¡å‘½ä»¤æ•ˆæžœä¸€æ ·) éƒ¨ç½²æœåŠ¡å™¨åœ¨éƒ¨ç½²ä¹‹å‰å…ˆè¦åœ¨ _config.yml å°†éƒ¨ç½²ä¿¡æ¯è¡¥å……å®Œæ•´ï¼Œæ­¤å¤„ä»¥ Github ä¸ºä¾‹: _config.ymlé…ç½®12345deploy: type: git # type repo: https://github.com/jsonz1993/jsonz1993.github.io.git # ä»“åº“åœ°å€ branch: master # åˆ†æ”¯ å¯ä¸å¡«è‡ªåŠ¨è¯†åˆ« message: "feat(hexo)-ç”Ÿæˆæ–‡ä»¶ä¸Žéƒ¨ç½²" # æäº¤çš„ä¿¡æ¯ å‚æ•°è¯´æ˜Ž123repo åº“ï¼ˆRepositoryï¼‰åœ°å€branch åˆ†æ”¯åç§°ã€‚å¦‚æžœæ‚¨ä½¿ç”¨çš„æ˜¯ GitHub æˆ– GitCafe çš„è¯ï¼Œç¨‹åºä¼šå°è¯•è‡ªåŠ¨æ£€æµ‹ã€‚message è‡ªå®šä¹‰æäº¤ä¿¡æ¯ (é»˜è®¤ä¸º Site updated: &#123;&#123; now(&apos;YYYY-MM-DD HH:mm:ss&apos;) &#125;&#125;) ç¡®ä¿æœ¬åœ°å®‰è£…äº† hexo-deployer-gitï¼Œ å¯é€šè¿‡ä»¥ä¸‹æ–¹æ³•å®‰è£…1$ npm install hexo-deployer-git --save ä½ ä¹Ÿå¯ä»¥é€šè¿‡ generate ç”Ÿæˆé™æ€èµ„æºï¼Œå†æ‰‹åŠ¨copyæˆ–ä¸Šä¼ åˆ°æœåŠ¡å™¨.]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo-æœ¬åœ°æœåŠ¡å™¨]]></title>
    <url>%2F2017%2F04%2F%E6%9C%AC%E5%9C%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%2F</url>
    <content type="text"><![CDATA[ä¸€èˆ¬å®‰è£…hexoæ—¶ä¼šè‡ªåŠ¨å®‰è£…æœåŠ¡å™¨ï¼Œå¦‚æžœæœ¬åœ°æ²¡æœ‰å®‰è£…hexoæœåŠ¡å™¨å¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š1$ npm install hexo-server --save å®‰è£…å®ŒæˆåŽï¼Œå¯åŠ¨æœåŠ¡å™¨ï¼Œä¼šå¯åŠ¨ä¸€ä¸ªï¼ˆé»˜è®¤4000ç«¯å£ï¼‰æœ¬åœ°æœåŠ¡å™¨ï¼Œå¯é€šè¿‡ http://localhost:4000 è®¿é—®ï¼ŒHexoä¼šç›‘è§†æ–‡ä»¶å˜åŠ¨è‡ªåŠ¨æ›´æ–°ï¼Œå¦‚æžœæ˜¯æ”¹åŠ¨é…ç½®ï¼Œéœ€è¦æ‰‹åŠ¨é‡å¯æœåŠ¡ï¼š1$ hexo server ç¼©å†™1$ hexo s å¦‚æžœæ‚¨æƒ³è¦æ›´æ”¹ç«¯å£ï¼Œæˆ–æ˜¯åœ¨æ‰§è¡Œæ—¶é‡åˆ°äº† EADDRINUSE é”™è¯¯ï¼Œå¯ä»¥åœ¨æ‰§è¡Œæ—¶ä½¿ç”¨ -p é€‰é¡¹æŒ‡å®šå…¶ä»–ç«¯å£ï¼Œå¦‚ä¸‹ï¼š1$ hexo server -p 5000 è‡ªå®šä¹‰IPæœåŠ¡å™¨é»˜è®¤è¿è¡Œåœ¨ 0.0.0.0ï¼Œæ‚¨å¯ä»¥è¦†ç›–é»˜è®¤çš„ IP è®¾ç½®ï¼Œå¦‚ä¸‹ï¼š1$ hexo server -i 192.168.1.1 æŒ‡å®šè¿™ä¸ªå‚æ•°åŽï¼Œæ‚¨å°±åªèƒ½é€šè¿‡è¯¥IPæ‰èƒ½è®¿é—®ç«™ç‚¹ã€‚ä¾‹å¦‚ï¼Œå¯¹äºŽä¸€å°ä½¿ç”¨æ— çº¿ç½‘ç»œçš„ç¬”è®°æœ¬ç”µè„‘ï¼Œé™¤äº†æŒ‡å‘æœ¬æœºçš„127.0.0.1å¤–ï¼Œé€šå¸¸è¿˜æœ‰ä¸€ä¸ª192.168.*.*çš„å±€åŸŸç½‘IPï¼Œå¦‚æžœåƒä¸Šé¢é‚£æ ·ä½¿ç”¨-iå‚æ•°ï¼Œå°±ä¸èƒ½ç”¨127.0.0.1æ¥è®¿é—®ç«™ç‚¹äº†ã€‚å¯¹äºŽæœ‰å…¬ç½‘IPçš„ä¸»æœºï¼Œå¦‚æžœæ‚¨æŒ‡å®šä¸€ä¸ªå±€åŸŸç½‘IPä½œä¸º-iå‚æ•°çš„å€¼ï¼Œé‚£ä¹ˆå°±æ— æ³•é€šè¿‡å…¬ç½‘æ¥è®¿é—®ç«™ç‚¹ã€‚]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo-èµ„æºæ–‡ä»¶å¤¹ä¸Žæ•°æ®æ–‡ä»¶å¤¹]]></title>
    <url>%2F2017%2F04%2F%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8E%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6%E5%A4%B9%2F</url>
    <content type="text"><![CDATA[èµ„æºæ–‡ä»¶èµ„æºï¼ˆAssetï¼‰ä»£è¡¨ source æ–‡ä»¶å¤¹ä¸­é™¤äº†æ–‡ç« ä»¥å¤–çš„æ‰€æœ‰æ–‡ä»¶ï¼Œä¾‹å¦‚å›¾ç‰‡ã€CSSã€JS æ–‡ä»¶ç­‰ã€‚æ¯”æ–¹è¯´ï¼Œå¦‚æžœä½ çš„Hexoé¡¹ç›®ä¸­åªæœ‰å°‘é‡å›¾ç‰‡ï¼Œé‚£æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å°†å®ƒä»¬æ”¾åœ¨ source/images æ–‡ä»¶å¤¹ä¸­ã€‚ç„¶åŽé€šè¿‡ç±»ä¼¼äºŽ ![](/images/image.jpg) çš„æ–¹æ³•è®¿é—®å®ƒä»¬ã€‚ æ–‡ç« èµ„æºæ–‡ä»¶å¤¹å¯ä»¥é€šè¿‡è®¾ç½® _config.yml æ¥ä½¿ç”Ÿæˆçš„æ¯ä¸ªæ–‡ç« éƒ½æœ‰å¯¹åº”çš„é™æ€èµ„æºæ–‡ä»¶å¤¹ã€‚ _config.yml1post_asset_folder: true æ•°æ®æ–‡ä»¶æœ‰æ—¶æ‚¨å¯èƒ½éœ€è¦åœ¨ä¸»é¢˜ä¸­ä½¿ç”¨æŸäº›èµ„æ–™ï¼Œè€Œè¿™äº›èµ„æ–™å¹¶ä¸åœ¨æ–‡ç« å†…ï¼Œå¹¶ä¸”æ˜¯éœ€è¦é‡å¤ä½¿ç”¨çš„ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥è€ƒè™‘ä½¿ç”¨ Hexo 3.0 æ–°å¢žçš„ã€Œæ•°æ®æ–‡ä»¶ã€åŠŸèƒ½ã€‚æ­¤åŠŸèƒ½ä¼šè½½å…¥ source/_data å†…çš„ YAML æˆ– JSON æ–‡ä»¶ï¼Œå¦‚æ­¤ä¸€æ¥æ‚¨ä¾¿èƒ½åœ¨ç½‘ç«™ä¸­å¤ç”¨è¿™äº›æ–‡ä»¶äº†ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼Œåœ¨ source/_data æ–‡ä»¶å¤¹ä¸­æ–°å»º menu.yml æ–‡ä»¶ï¼š 123Home: /Gallery: /gallery/Archives: /archives/ æ‚¨å°±èƒ½åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨è¿™äº›èµ„æ–™ï¼š 123&#123;% for link in site.data.menu %&#125; &lt;a href=&quot;&#123;&#123; link &#125;&#125;&quot;&gt;&#123;&#123; loop.key &#125;&#125;&lt;/a&gt;&#123;% endfor %&#125;]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[tag plugins]]></title>
    <url>%2F2017%2F04%2Ftag-plugins%2F</url>
    <content type="text"><![CDATA[tag plugins ç”¨äºŽåœ¨æ–‡ç« ä¸­å¿«é€Ÿæ’å…¥ç‰¹å®šå†…å®¹çš„æ’ä»¶,ä¸‹é¢åˆ—å‡ºå¸¸ç”¨å‡ ç§ å…·ä½“å‚è§https://hexo.io/zh-cn/docs/tag-plugins.html å¼•ç”¨å¿«åœ¨æ–‡ç« ä¸­æ’å…¥å¼•è¨€ï¼Œå¯åŒ…å«ä½œè€…ã€æ¥æºå’Œæ ‡é¢˜ã€‚123&#123;% blockquote @Jsonz http://weibo.com/u/1638841204 %&#125;å¼•ç”¨å†…å®¹&#123;% endblockquote %&#125; å¼•ç”¨å†…å®¹ @Jsonzweibo.com/u/1638841204 ä»£ç å—æ ·å¼å¯ä»¥åœ¨ themes&gt;next&gt;source&gt;cssä¿®æ”¹[language] [title] [url] [link text] code snippet è¿™æ˜¯æ ‡é¢˜,Jsonz's Github1234const a = ()=&gt; &#123; [..."123"].forEach(item=&gt; ++item); return &#123;&#125;;&#125; iframe1&#123;% iframe url [width] [height] %&#125; imageæ’å…¥æŒ‡å®šå¤§å°å›¾ç‰‡ 1&#123;% img [class names] /path/to/image [width] [height] [title text [alt text]] %&#125;]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hello Hexo]]></title>
    <url>%2F2017%2F04%2Fhello-hexo%2F</url>
    <content type="text"><![CDATA[æŠ˜è…¾äº†ä¸€æ™šä¸Šç»ˆäºŽæŠŠæ­å¥½è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜çš„Hexoåšå®¢ã€‚æŽ¥ä¸‹æ¥ä¸€æ­¥ä¸€æ­¥é…ç½® Hexo __config.yml æ–‡ä»¶Hexo å®˜ç½‘é…ç½®é¡¹ ä¸€æ­¥ä¸€æ­¥è·Ÿç€æ”¹é…ç½®ï¼Œæ¯”è¾ƒéº»çƒ¦çš„æ˜¯æ¯æ¬¡ä¿®æ”¹é…ç½®éƒ½è¦hexo s é‡å¯ä¸€ä¸‹æœåŠ¡å™¨çœ‹æ•ˆæžœå¦‚æžœä¿®æ”¹é…ç½®åŽé‡å¯æœåŠ¡çœ‹ä¸åˆ°æ•ˆæžœï¼Œå¯ä»¥å…ˆè¿è¡Œhexo cleanæ¸…é™¤ç¼“å­˜å†é‡å¯æœåŠ¡ Site ç½‘ç«™123456title: jsonz1993 # ç½‘ç«™æ ‡é¢˜ï¼Œä¹Ÿä¼šæ˜¾ç¤ºåœ¨è¯¥ä¸»é¢˜å¯¼èˆªå·¦ä¸Šè§’subtitle: # ç½‘ç«™å‰¯æ ‡é¢˜ ä¼šç”Ÿæˆåœ¨å¯¼èˆªæ ä¸»æ ‡é¢˜æ—è¾¹ï¼ˆè¿™é‡Œéšè—äº†ï¼‰description: å‰ç«¯å¼€å‘ Jsonz å¼ æ¬£æ¬£ # ç½‘ç«™æè¿°ï¼Œä¼šå‡ºçŽ°åœ¨headï¼Œä¾§è¾¹èœå•ä¸Š ä¸»è¦ç”¨åšSEOauthor: Jsonz # åšå®¢ä½œè€… Your Namelanguage: zh-Hans # è¯­è¨€ï¼Œæ”¯æŒçš„è¯­è¨€å¯ä»¥åœ¨themes&gt;your-thems&gt;languages æ‰¾åˆ°timezone: # é»˜è®¤ä½¿ç”¨ç”µè„‘çš„æ—¶åŒºï¼Œä¸€èˆ¬ä¸å¡« URL ç½‘å€123456url: https://jsonz1993.github.io/root: /# æ–‡ç« æ°¸ä¹…é“¾æŽ¥çš„æ ¼å¼ [https://hexo.io/zh-cn/docs/permalinks.html]# å¯ä»¥ä½¿ç”¨çš„å˜é‡æœ‰[:year, :month, :day, :title, :id, :category, Front-matteræ‰€æœ‰å±žæ€§]permalink: :year/:month/:day/:title/ permalink_defaults: # å¯ä»¥ç»™å˜é‡æŒ‡å®šé»˜è®¤å€¼ Directory ç›®å½•123456789# å®šä¹‰æ–‡ä»¶ç›®å½•, è¿™éƒ¨åˆ†ä¸€èˆ¬ç”¨é»˜è®¤çš„å°±å¯ä»¥source_dir: sourcepublic_dir: publictag_dir: tagsarchive_dir: archivescategory_dir: categoriescode_dir: downloads/codei18n_dir: :langskip_render: Writing æ–‡ç« ç›¸å…³é…ç½®123456789101112131415161718# æ–°æ–‡ç« çš„åç§° æˆ‘å–œæ¬¢é…åˆå¹´æœˆæŒ‰æ–‡ä»¶å¤¹åˆ†ç±»ï¼Œè¿™æ ·åŽé¢æ–¹ä¾¿ç®¡ç†# æ­¤æ—¶ç”Ÿæˆçš„æ–‡ä»¶ä½äºŽ: source/_posts/:year/:month/:title.mdnew_post_name: :year/:month/:title.md default_layout: post #å‘½ä»¤è¡Œ hexo new &lt;layout&gt; name ä¸­ layouté»˜è®¤å€¼titlecase: false # æ ‡é¢˜è½¬æ¢ä¸ºé¦–å­—æ¯å¤§å†™external_link: true # æ˜¯å¦åœ¨æ–°æ ‡ç­¾æ‰“å¼€è¿žæŽ¥filename_case: 0 # æ–‡ä»¶åå¤§å°å†™è½¬æ¢ (0)ä¸è½¬æ¢ï¼ˆ1)å°å†™ (2)å¤§å†™render_drafts: false # æ˜¾ç¤ºè‰ç¨¿# å¯åŠ¨èµ„æºæ–‡ä»¶å¤¹ çœ‹ä¸ªäººå¯ç”¨å¯ä¸ç”¨# ä¸»è¦æ¯æ¬¡åˆ›å»ºæ–‡ä»¶éƒ½ä¼šç”Ÿæˆä¸€ä¸ªåŒåæ–‡ä»¶å¤¹ç”¨äºŽå­˜æ”¾å›¾ç‰‡ç­‰èµ„æºpost_asset_folder: truerelative_link: false # æŠŠé“¾æŽ¥æ”¹ä¸ºä¸Žæ ¹ç›®å½•çš„ç›¸å¯¹ä½å€future: true # æ˜¾ç¤ºä¸‹ä¸€æ¡æ–‡ç« highlight: # ä»£ç å—è®¾ç½® æ—¢çŽ°åœ¨çœ‹åˆ°çš„è¿™å— enable: true line_number: true auto_detect: false tab_replace: Category &amp; Tag åˆ†ç±»&amp;æ ‡ç­¾123default_category: uncategorized # é»˜è®¤çš„åˆ†ç±»category_map: # åˆ†ç±»æ˜ å°„ï¼ˆåˆ«åï¼‰tag_map: # æ ‡ç­¾æ˜ å°„ï¼ˆåˆ«åï¼‰ Date / Time format æ—¥æœŸ&amp;æ—¶é—´æ ¼å¼12date_format: YYYY-MM-DDtime_format: HH:mm:ss Pagination åˆ†é¡µè®¾ç½®123# æ–‡ç« æ•°é‡æœ‰é™ï¼Œæœªå®žè·µè¿‡è¯¥åŠŸèƒ½per_page: 10 # æ¯é¡µæ–‡ç« æ•°é‡ 0 ä¸ºå…³é—­åˆ†é¡µpagination_dir: page # åˆ†é¡µçš„ç›®å½• Extensions å…¶ä»–æ‹“å±•è®¾ç½®12# æ­¤å¤„æœ‰æ’ä»¶ä¸Žä¸»é¢˜è®¾ç½®theme: next #è®¾ç½®çš„ä¸»é¢˜åº”å­˜æ”¾åœ¨ æ ¹ç›®å½•/themesä¸‹ å°†è‰ç¨¿è½¬ä¸ºæ–‡ç« 1hexo publish [layout] &lt;filename&gt;]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
</search>
