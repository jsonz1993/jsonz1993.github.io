<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"jsonz1993.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":true,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Êé¢Á¥¢create-react-appÊ°ÜÊû∂ÁöÑÊ∫êÁ†ÅÂèäÊÄùÊÉ≥Ôºà‰∏ÄÔºâ">
<meta property="og:type" content="article">
<meta property="og:title" content="create-react-app Ê∫êÁ†ÅËß£Êûê">
<meta property="og:url" content="http://jsonz1993.github.io/create-react-app-o/index.html">
<meta property="og:site_name" content="Jsonz bug-log">
<meta property="og:description" content="Êé¢Á¥¢create-react-appÊ°ÜÊû∂ÁöÑÊ∫êÁ†ÅÂèäÊÄùÊÉ≥Ôºà‰∏ÄÔºâ">
<meta property="og:locale">
<meta property="og:image" content="http://jsonz1993.github.io/create-react-app-o/create-react-app-file.png">
<meta property="og:image" content="http://jsonz1993.github.io/create-react-app-o/debug1.png">
<meta property="og:image" content="http://jsonz1993.github.io/create-react-app-o/debug2.png">
<meta property="og:image" content="http://jsonz1993.github.io/create-react-app-o/debug3.png">
<meta property="og:image" content="http://jsonz1993.github.io/create-react-app-o/debug4.png">
<meta property="og:image" content="http://jsonz1993.github.io/create-react-app-o/debug5.png">
<meta property="og:image" content="http://jsonz1993.github.io/create-react-app-o/create-react-app_index.png">
<meta property="og:image" content="http://jsonz1993.github.io/create-react-app-o/create-react-app1.png">
<meta property="article:published_time" content="2018-05-05T17:44:23.000Z">
<meta property="article:modified_time" content="2022-01-02T02:55:20.340Z">
<meta property="article:author" content="Jsonz">
<meta property="article:tag" content="JavaScript">
<meta property="article:tag" content="React">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://jsonz1993.github.io/create-react-app-o/create-react-app-file.png">

<link rel="canonical" href="http://jsonz1993.github.io/create-react-app-o/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-Hans'
  };
</script>

  <title>create-react-app Ê∫êÁ†ÅËß£Êûê | Jsonz bug-log</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?c8a069a38f5fa73f5b6bcff8d176157f";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Jsonz bug-log" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Jsonz bug-log</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">ÂêéÁª≠Êõ¥Êñ∞‰ºöÊîæÂú® github.com/jsonz1993/blog</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">32</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">2</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">49</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://jsonz1993.github.io/create-react-app-o/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="Jsonz">
      <meta itemprop="description" content="ÂâçÁ´Øüë¥ü•¨üê£/JavaScript/React">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jsonz bug-log">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          create-react-app Ê∫êÁ†ÅËß£Êûê
        </h1>
        <div class="post-meta ">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-05-05 17:44:23" itemprop="dateCreated datePublished" datetime="2018-05-05T17:44:23+00:00">2018-05-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-01-02 02:55:20" itemprop="dateModified" datetime="2022-01-02T02:55:20+00:00">2022-01-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
                </span>
            </span>

          
            <div class="post-description">Êé¢Á¥¢create-react-appÊ°ÜÊû∂ÁöÑÊ∫êÁ†ÅÂèäÊÄùÊÉ≥Ôºà‰∏ÄÔºâ</div>

        </div>

      </header>

    
    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>ÊúÄËøëÂ∑•‰ΩúÂºÄÂßãÁ®≥ÂÆö‰∏ãÊù•ÔºåÊ≤°ÊúâÈÇ£‰πàÂ§öÂä†Áè≠ÔºåÂä†‰∏äËØ¥ÊäïÁÆÄÂéÜÊâæÈù¢ËØï‰∏ÄÁõ¥Ê≤°ÊãøÂà∞Èù¢ËØïÊú∫‰ºö‚Ä¶ÊâÄ‰ª•ÂºÄÂßãÊúâÁ©∫Èó≤ÁöÑÊó∂Èó¥</p>
<p>‰πãÂâçÂÖ¨Âè∏Êúâ‰∏™Â§ß‰Ω¨ÂÜô‰∫Ü‰∏™Á±ª‰ºº create-react-app ÁöÑËÑöÊâãÊû∂ÔºåÁî®Êù•ÂàõÂª∫ÂÖ¨Âè∏ÁöÑÈ°πÁõÆ„ÄÇ‰∏ÄÁõ¥‰∏çÁü•ÈÅìÈáåÈù¢ÂÆûÁé∞ÁöÑÂéüÁêÜÔºåÂÄüÊ≠§Êú∫‰ºö‰∏ÄÊé¢ <code>create-react-app</code> Ê∫êÁ†ÅÔºå‰∫ÜËß£‰∏ãÈáåÈù¢ËøêË°åÁöÑÊú∫Âà∂„ÄÇ</p>
<p>Êéà‰∫∫‰ª•È±º‰∏çÂ¶ÇÊéà‰∫∫‰ª•Ê∏îÔºåÂ∏åÊúõÈÄöËøáËøôÁØáÊñáÁ´†‰πãÂêéÔºåÂØπÂ§ßÂÆ∂‰ª•ÂêéÁúãÊ∫êÁ†ÅÂèØ‰ª•ÊúâÊâÄÂ∏ÆÂä©„ÄÇ<br>Â§ßÂÆ∂‰πü‰∏çË¶Å‰∏ÄÁúãÂà∞Ê∫êÁ†ÅÂ∞±ÂÆ≥ÊÄï‰∏çÊï¢ÂéªÁúãÔºåÁé∞Âú®Ëøô‰πà‰ºòÁßÄÈ°πÁõÆÈÉΩÂºÄÊ∫ê‰∫ÜÔºåÂä†‰∏äÂêÑÁßçIDEÊîØÊåÅÂæàÂ•ΩÔºåÁõ¥Êé•Êâì‰∏™Êñ≠ÁÇπËøõÂéªË∞ÉËØïÔºåÂæàÂÆπÊòìÁúãÂá∫‰∏™Â§ßÊ¶Ç„ÄÇ<br>‰πüÂèØ‰ª•Áî®ËøôÁßçÊÄùË∑ØÂéª‰∫ÜËß£ÂÖ∂‰ªñÁöÑÂºÄÊ∫êÈ°πÁõÆ</p>
<h1 id="Âø´ÈÄü‰∫ÜËß£"><a href="#Âø´ÈÄü‰∫ÜËß£" class="headerlink" title="Âø´ÈÄü‰∫ÜËß£"></a><a href="#%E5%BF%AB%E9%80%9F%E4%BA%86%E8%A7%A3">Âø´ÈÄü‰∫ÜËß£</a></h1><p>ÂØπ‰∫éÊÉ≥Âø´ÈÄü‰∫ÜËß£ÁöÑÁõ¥Êé•ÊµèËßàËøô‰∏ÄÂùóÂç≥ÂèØ<br>create-react-app ÂÖ∂ÂÆûÂ∞±ÊòØÁî®nodeÂéªË∑ë‰∏Ä‰∫õÂåÖÂÆâË£ÖÊµÅÁ®ãÔºåÂπ∂‰∏îÊääÊñá‰ª∂Ê®°ÊùødemoËÄÉÂà∞ÂØπ‰∫éÁöÑÁõÆÂΩï‰∏ã„ÄÇ<br>ÂèØ‰ª•ÁÆÄÂçïÂàÜ‰∏∫‰ª•‰∏ãÂá†‰∏™Ê≠•È™§:</p>
<ul>
<li>Âà§Êñ≠NodeÁâàÊú¨</li>
<li>ÂÅö‰∏Ä‰∫õÂëΩ‰ª§Ë°åÂ§ÑÁêÜÁöÑÂàùÂßãÂåñÔºåÊØîÂ¶ÇËæìÂÖ• <code>-help</code> ÂàôËæìÂá∫Â∏ÆÂä©ÂÜÖÂÆπ</li>
<li>Âà§Êñ≠ÊòØÂê¶ÊúâËæìÂÖ•È°πÁõÆÂêçÔºåÊúâÂàôÊ†πÊçÆÂèÇÊï∞ÂéªË∑ëÂåÖÂÆâË£ÖÔºåÈªòËÆ§ÊòØyarnÂÆâË£ÖÊñπÂºèÔºåeg: <code>yarn add react react-dom react-scripts</code></li>
<li>‰øÆÊîπpackage.jsonÈáåÈù¢Â∑≤ÂÆâË£ÖÁöÑ‰æùËµñÁâàÊú¨Ôºå‰ªéÁ≤æÁ°ÆÁâàÊú¨<code>16.0.0</code>Êîπ‰∏∫^Âêë‰∏äÂÖºÂÆπÁâàÊú¨<code>^16.0.0</code> Âπ∂Âä†ÂÖ• <code>start</code>,<code>build</code>Á≠âÂêØÂä®ËÑöÊú¨</li>
<li>Êã∑Ë¥ù <code>react-scripts</code>‰∏ãÁöÑ <code>template</code> Âà∞ÁõÆÊ†áÊñá‰ª∂ÔºåÈáåÈù¢Êúâ<code>public</code>,<code>src</code>Á≠âÊñá‰ª∂Â§πÔºåÂÖ∂ÂÆûÂ∞±ÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂèØËøêË°ådemo</li>
<li>END~</li>
</ul>
<p>ÁªßÁª≠ÂæÄ‰∏ãÁúãÁöÑÂ∞è‰ºô‰º¥ÂèØ‰ª•Ë∑üÁùÄ‰∏ÄÊ≠•‰∏ÄÊ≠•‰∫ÜËß£ÈáåÈù¢ÁöÑÂÆûÁé∞ÈÄªËæëÔºåÂÖà‰æãË°å‰∫§‰ª£‰∏ãÁéØÂ¢ÉÁâàÊú¨:<br><strong>create-react-app v1.1.4</strong><br>macOS 10.13.4<br>node v8.9.4<br>npm 6.0.0<br>yarn 1.6.0<br>vsCode 1.22.2</p>
<h1 id="È°πÁõÆÂàùÂßãÂåñ"><a href="#È°πÁõÆÂàùÂßãÂåñ" class="headerlink" title="È°πÁõÆÂàùÂßãÂåñ"></a><a href="#%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96">È°πÁõÆÂàùÂßãÂåñ</a></h1><p>ÂÖà‰∏ägithub ÊãâÈ°πÁõÆ‰ª£Á†ÅÔºåÊãâ‰∏ãÊù•‰πãÂêéÂàáÊç¢Âà∞ÊåáÂÆöÁöÑ <code>tag</code></p>
<ul>
<li><code>git clone https://github.com/facebook/create-react-app.git</code></li>
<li><code>git checkout v1.1.4</code></li>
<li><code>yarn</code> //Â¶ÇÊûú‰∏çÈúÄË¶ÅÊñ≠ÁÇπË∞ÉËØïÔºåËøô‰∏ÄÊ≠•ÂèØ‰ª•Ë∑≥Ëøá</li>
</ul>
<blockquote>
<p>ËøôÈáåÂèØËÉΩyarn ÁâàÊú¨Â§™‰ΩéÁöÑËØùÔºå‰ºöÊä•‰∏ÄÁ≥ªÂàóÈîôËØØÔºå‰πãÂâçÁî®ÁöÑÊòØ 0.xÁâàÊú¨ÁöÑÔºåÂçáÁ∫ßÂà∞1.xÂ∞±Ê≤°ÈóÆÈ¢ò‰∫Ü</p>
</blockquote>
<p>‰∏ãÈù¢Êàë‰ª¨Áî® <code>root</code> ‰ª£ÊõøÈ°πÁõÆÁöÑÊ†πÁõÆÂΩïÔºåÊñπ‰æøÁêÜËß£</p>
<p>È¶ñÂÖàÊàë‰ª¨ÊâìÂºÄÈ°πÁõÆËÉΩÁúãÂà∞‰∏ÄÂ†ÜÁöÑÈÖçÁΩÆÊñá‰ª∂Âíå‰∏§‰∏™Êñá‰ª∂Â§πÔºöeslintÈÖçÁΩÆÊñá‰ª∂„ÄÅtravisÈÉ®ÁΩ≤ÈÖçÁΩÆ„ÄÅyarnÈÖçÁΩÆ„ÄÅÊõ¥Êñ∞Êó•Âøó„ÄÅÂºÄÊ∫êÂ£∞ÊòéÁ≠âÁ≠â‚Ä¶Ëøô‰∫õÊàë‰ª¨ÂÖ®ÈÉΩÂèØ‰ª•‰∏çÁî®ÂéªÁúãÔºåÈÇ£Êàë‰ª¨Ë¶ÅÁúãÁöÑÊ†∏ÂøÉÊ∫êÁ†ÅÊîæÂú®Âì™ÈáåÂë¢<br><img data-src="/create-react-app-o/create-react-app-file.png"></p>
<p>ÂàíÈáçÁÇπ: <strong>Â¶ÇÊûúÈ°πÁõÆ‰∏çÁü•ÈÅì‰ªéÂì™ÈáåÂÖ•ÊâãÁöÑËØùÔºåÈ¶ñÂÖà‰ªépackage.jsonÊñá‰ª∂ÂºÄÂßã</strong></p>
<figure class="highlight json"><figcaption><span>root/package.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;private&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;workspaces&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;packages/*&quot;</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;start&quot;</span>: <span class="string">&quot;cd packages/react-scripts &amp;&amp; node scripts/start.js&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span>: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;lint-staged&quot;</span>: &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ÊâìÂºÄÊ†πÁõÆÂΩï package.json Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ÈáåÈù¢ÂæàÁÆÄÊ¥Å~ npmËÑöÊú¨ÂëΩ‰ª§ÔºåÂºÄÂèë‰æùËµñÔºåËøòÊúâÊèê‰∫§Èí©Â≠êÔºåÂâ©‰∏ãÁöÑÂ∞±ÊòØÊàë‰ª¨Ë¶ÅÂÖ≥Ê≥®ÁöÑ <strong>workspaces</strong> ËøôÈáåÊåáÂêëÁöÑÊòØ <code>&quot;packages/*&quot;</code>ÔºåÊâÄ‰ª•Êàë‰ª¨Áé∞Âú®ÁöÑÈáçÁÇπÂ∞±ÊîæÂú® <strong>packages</strong> Êñá‰ª∂Â§π</p>
<p>packages Êñá‰ª∂Â§π‰∏ãÈù¢‰πüÊúâÂá†‰∏™Êñá‰ª∂Â§πÔºåËøôÈáåÊñá‰ª∂Â§πÂëΩÂêçÂæàËßÑËåÉÔºå‰∏ÄÁúãÂ∞±Áü•ÈÅìÂäüËÉΩÂàíÂàÜÔºåÊâÄ‰ª•ËøòÊòØËÄÅÂ•óË∑ØÁõ¥Êé•Áúã <code>root/packages/create-react-app/package.json</code></p>
<figure class="highlight json"><figcaption><span>packages/create-react-app/package.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;create-react-app&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;1.5.2&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;license&quot;</span>: <span class="string">&quot;MIT&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;engines&quot;</span>: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;bugs&quot;</span>: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;files&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;index.js&quot;</span>,</span><br><span class="line">    <span class="string">&quot;createReactApp.js&quot;</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">&quot;bin&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;create-react-app&quot;</span>: <span class="string">&quot;./index.js&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span>: &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ËøôÊó∂ÂÄôÊ≤°Êúâ <code>workspaces</code>È°πÔºå Êàë‰ª¨ÂèØ‰ª•Áúã <code>bin</code> binÁöÑÂäüËÉΩÊòØÊääÂëΩ‰ª§ÂØπÂ∫îÂà∞ÂèØÊâßË°åÁöÑÊñá‰ª∂ÔºåÂÖ∑‰ΩìÁöÑ‰ªãÁªçÂèØ‰ª•Áúã<a target="_blank" rel="noopener" href="https://docs.npmjs.com/files/package.json#bin">package Document</a></p>
<p>ËøôÈáåÂèØ‰ª•ÁÆÄÂçïÁêÜËß£ÊàêÔºåÂΩìÊàë‰ª¨ÂÖ®Â±ÄÂÆâË£Ö‰∫Ü <code>create-react-app</code> ‰πãÂêéÔºåË∑ë <code>create-react-app my-react-app</code> Á≥ªÁªü‰ºöÂ∏ÆÊàë‰ª¨ÂéªË∑ë <code>packages/create-react-app/index.js my-react-app</code></p>
<p>Áªà‰∫éÊâæÂà∞Ê∫êÁ†ÅÁöÑÂÖ•Âè£‰∫ÜÔºåÂØπ‰∫éÁÆÄÂçïÁöÑÊ∫êÁ†ÅÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•ÁúãÔºåÂØπ‰∫éÊØîËæÉÂ§çÊùÇÁöÑ ÊàñËÄÖÊÉ≥Ë¶ÅÁúãÂà∞ÊâßË°åÂà∞ÊØè‰∏ÄË°å‰ª£Á†ÅÊó∂ÈÇ£‰∫õÂèòÈáèÊòØ‰ªÄ‰πàÂÄºÁöÑÊÉÖÂÜµÔºåÊàë‰ª¨Â∞±Ë¶ÅÁî®IDEÊàñÂÖ∂‰ªñÂ∑•ÂÖ∑Êù•Êñ≠ÁÇπË∞ÉËØï‰ª£Á†Å‰∫Ü„ÄÇ</p>
<h1 id="ÈÖçÁΩÆÊñ≠ÁÇπË∞ÉËØï"><a href="#ÈÖçÁΩÆÊñ≠ÁÇπË∞ÉËØï" class="headerlink" title="ÈÖçÁΩÆÊñ≠ÁÇπË∞ÉËØï"></a><a href="#%E9%85%8D%E7%BD%AE%E6%96%AD%E7%82%B9%E8%B0%83%E8%AF%95">ÈÖçÁΩÆÊñ≠ÁÇπË∞ÉËØï</a></h1><p>ÂØπ‰∫évscodeÊàñnodeË∞ÉËØï ÊØîËæÉÁÜüÊÇâÁöÑÂèØ‰ª•Ë∑≥ËøáÁõ¥Êé•Áúã <a href="#%E5%BC%80%E5%A7%8B%E6%96%AD%E7%82%B9%E9%98%85%E8%AF%BB%E6%BA%90%E7%A0%81">ÂºÄÂßãÊñ≠ÁÇπÈòÖËØªÊ∫êÁ†Å</a></p>
<h2 id="vscode-debug"><a href="#vscode-debug" class="headerlink" title="vscode debug"></a><a href="#vscode_debug">vscode debug</a></h2><p>ÂØπ‰∫évscodeÁî®Êà∑Êù•ËØ¥ÔºåË∞ÉËØïÈùûÂ∏∏ÁÆÄÂçïÔºåÁÇπÂáª‰æßËæπÊ†èÁöÑÂ∞èÁî≤Ëô´ÂõæÊ†áÔºåÁÇπÂáªËÆæÁΩÆ<br>ÁÑ∂ÂêéÁõ¥Êé•‰øÆÊîπ ‚Äúprogram‚ÄùÁöÑÂÄºÔºå‰øÆÊîπÂÆåÁÇπÂáªÂ∑¶‰∏äËßíÁöÑÁªøËâ≤ÁÆ≠Â§¥Â∞±ÂèØ‰ª•Ë∑ëËµ∑Êù•‰∫ÜÔºåÂ¶ÇÊûúË¶ÅÂú®Êüê‰∏ÄÂ§ÑÊñ≠ÁÇπÔºåÊØîÂ¶Ç <code>create-react-app/index.js</code> line39 Êñ≠ÁÇπÔºåÁõ¥Êé•Âú®Ë°åÂè∑ÁöÑÂ∑¶ËæπÁÇπ‰∏Ä‰∏ãÈº†Ê†áÂ∞±ÂèØ‰ª•‰∫Ü<br><img data-src="/create-react-app-o/debug1.png"><br><img data-src="/create-react-app-o/debug2.png"></p>
<figure class="highlight json"><figcaption><span>launch.json ÈÖçÁΩÆ</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;0.2.0&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;configurations&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;node&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;request&quot;</span>: <span class="string">&quot;launch&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;ÂêØÂä®Á®ãÂ∫è&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;program&quot;</span>: <span class="string">&quot;$&#123;workspaceFolder&#125;/packages/create-react-app/index.js&quot;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="node-Ë∞ÉËØï"><a href="#node-Ë∞ÉËØï" class="headerlink" title="node Ë∞ÉËØï"></a>node Ë∞ÉËØï</h2><p>Â¶ÇÊûúÂπ≥Êó∂Ê≤°ÊúâÁî®vscodeÂºÄÂèëÊàñËÄÖ‰π†ÊÉØchrome-devtoolÁöÑÔºåÂèØ‰ª•Áõ¥Êé•Áî®nodeÂëΩ‰ª§Ë∑ëÔºåÁÑ∂ÂêéÂú®chromeÈáåÈù¢Ë∞ÉËØï<br>È¶ñÂÖà‰øùËØÅnodeÁöÑÁâàÊú¨ÁöÑ 6 ‰ª•‰∏ä<br>ÁÑ∂ÂêéÂú®È°πÁõÆÊ†πÁõÆÂΩï‰∏ãËøêË°å <code>node --inspect-brk packages/create-react-app/index.js</code><br>Âú®chromeÂú∞ÂùÄÊ†èËæìÂÖ• chrome://inspect/#devices ÁÑ∂ÂêéÂ∞±ÂèØ‰ª•ÁúãÂà∞Êàë‰ª¨Ë¶ÅË∞ÉËØïÁöÑËÑöÊú¨‰∫Ü<br>ÂÖ≥‰∫énode chrome-devtool Ë∞ÉËØïËØ¶ÁªÜÂèØ‰ª•ÁúãËøôÈáå <a target="_blank" rel="noopener" href="https://medium.com/@paul_irish/debugging-node-js-nightlies-with-chrome-devtools-7c4a1b95ae27">‰º†ÈÄÅÈó®</a></p>
<p><img data-src="/create-react-app-o/debug3.png"><br><img data-src="/create-react-app-o/debug4.png"><br><img data-src="/create-react-app-o/debug5.png"><br>(psÔºöËøôÈáåÂèØ‰ª•ÁúãÂá∫Êù•nodeÂú®Ê®°ÂùóÂåñÁöÑÂÆûÁé∞ÊòØÈÄöËøáÁî®‰∏Ä‰∏™ÂáΩÊï∞ÂåÖË£πËµ∑Êù•ÔºåÁÑ∂ÂêéÊää exports, requestdÁ≠âÂèÇÊï∞‰º†ËøõÊù•‰ª•‰æõ‰ΩøÁî®)</p>
<h1 id="ÂºÄÂßãÊñ≠ÁÇπÈòÖËØªÊ∫êÁ†Å"><a href="#ÂºÄÂßãÊñ≠ÁÇπÈòÖËØªÊ∫êÁ†Å" class="headerlink" title="ÂºÄÂßãÊñ≠ÁÇπÈòÖËØªÊ∫êÁ†Å"></a><a href="#%E5%BC%80%E5%A7%8B%E6%96%AD%E7%82%B9%E9%98%85%E8%AF%BB%E6%BA%90%E7%A0%81">ÂºÄÂßãÊñ≠ÁÇπÈòÖËØªÊ∫êÁ†Å</a></h1><h2 id="packages-create-react-app-index-js-githubÊñá‰ª∂‰º†ÈÄÅÈó®"><a href="#packages-create-react-app-index-js-githubÊñá‰ª∂‰º†ÈÄÅÈó®" class="headerlink" title="packages/create-react-app/index.js githubÊñá‰ª∂‰º†ÈÄÅÈó®"></a><a href="#packages/create-react-app/index.js">packages/create-react-app/index.js</a> <a target="_blank" rel="noopener" href="https://github.com/facebook/create-react-app/blob/v1.1.4/packages/create-react-app/index.js">githubÊñá‰ª∂‰º†ÈÄÅÈó®</a></h2><p><img data-src="/create-react-app-o/create-react-app_index.png"><br>Ëøô‰∏™Êñá‰ª∂ÂçÅÂàÜÁÆÄÂçïÔºåÂè™ÊòØÂÅö‰∏∫‰∏Ä‰∏™ÂÖ•Âè£Êñá‰ª∂Âà§Êñ≠‰∏Ä‰∏ã nodeÁâàÊú¨ÔºåÂ∞è‰∫é 4.xÁöÑÊèêÁ§∫Âπ∂ÁªàÊ≠¢Á®ãÂ∫èÔºå Â¶ÇÊûúÊ≠£Â∏∏ÂàôÂä†ËΩΩ <code>./createReactApp</code> Ëøô‰∏™Êñá‰ª∂Ôºå‰∏ªË¶ÅÁöÑÈÄªËæëÂú®ËØ•Êñá‰ª∂ÂÆûÁé∞„ÄÇ</p>
<h2 id="packages-create-react-app-createReactApp-js-githubÊñá‰ª∂‰º†ÈÄÅÈó®"><a href="#packages-create-react-app-createReactApp-js-githubÊñá‰ª∂‰º†ÈÄÅÈó®" class="headerlink" title="packages/create-react-app/createReactApp.js githubÊñá‰ª∂‰º†ÈÄÅÈó®"></a><a href="#packages/create-react-app/createReactApp.js">packages/create-react-app/createReactApp.js</a> <a target="_blank" rel="noopener" href="https://github.com/facebook/create-react-app/blob/v1.1.4/packages/create-react-app/createReactApp.js">githubÊñá‰ª∂‰º†ÈÄÅÈó®</a></h2><p>È°∫ÁùÄÊàë‰ª¨ÁöÑÊñ≠ÁÇπËøõÂÖ•Âà∞ <code>createReactApp.js</code> Ëøô‰∏™Êñá‰ª∂Êúâ750Ë°å‰πç‰∏ÄÁúãÂæàÂ§öÔºåÊñá‰ª∂Â§¥ÂèàÊúâÂçÅÂá†‰∏™‰æùËµñÂºïÂÖ•Ôºå‰ΩÜÊòØ‰∏çË¶ÅË¢´ÂêìÂà∞Ôºå‰∏ÄËà¨ËøôÁßçÈ´òË¥®ÈáèÁöÑÂºÄÊ∫êÈ°πÁõÆÔºåÈáåÈù¢Êúâ‰∏ÄÂ§ßÂçäÊòØÊ≥®ÈáäÂíåÈîôËØØÂèãÂ•Ω‰ø°ÊÅØ„ÄÇ</p>
<blockquote>
<p>ËøôÈáåÂª∫ËÆÆÊ≤°ÊúâÊâìÊñ≠ÁÇπË∞ÉËØïÁöÑÂ∞è‰ºô‰º¥ËØï‰∏Ä‰∏ãÊää‰ª£Á†ÅÂ§çÂà∂Âà∞Âè¶‰∏Ä‰∏™jsÊñá‰ª∂ÔºåÁÑ∂ÂêéÂÖà‰∏çÁúãÂâçÈù¢ÁöÑ‰æùËµñÔºå‰∏ãÈù¢Áî®Âà∞ÂÜçÂéª npmÊü•‰∏Ä‰∏ãÊòØ‰ªÄ‰πà‰ΩúÁî®ÁöÑ„ÄÇ‰∏çË¶ÅË¢´ÁªïËøõÂéªÁúã‰∫Ü‰∏Ä‰∏™Âèà‰∏Ä‰∏™ÁöÑ‰æùËµñÔºåÊ†∏ÂøÉ‰ª£Á†ÅÂèçËÄåÊ≤°ÊúâÁúãÂà∞„ÄÇ ÁÑ∂ÂêéÁúã‰∏ÄÈÉ®ÂàÜ‰πãÂêéÂ∞±ÊääÈÇ£ÈÉ®ÂàÜÁöÑ‰ª£Á†ÅÂà†ÊéâÔºåÊØîÂ¶ÇÊàëÁúã‰∫Ü200Ë°åÔºåÂ∞±ÊääÂâçÈù¢200Ë°åÂà†‰∫ÜÔºåËøôÊ†∑Ââ©‰∏ã500Ë°åÁúãÁùÄÂ∞±Ê≤°ÊúâÈÇ£‰πàÂøÉËôö‰∫Ü„ÄÇÂΩìÁÑ∂ËøòÊòØÂª∫ËÆÆÁî®Êñ≠ÁÇπË∞ÉËØïÈòÖËØªÔºåÈÄªËæë‰ºöÊØîËæÉÊ∏ÖÊô∞„ÄÇ</p>
</blockquote>
<p>È¶ñÂÖàÊñá‰ª∂Â§¥ÈÉ®Ëøô‰∏ÄÂ§ß‰∏≤ÁöÑ‰æùËµñÔºåÊàë‰ª¨ÊöÇÊó∂‰∏çÂéªÂÖ≥Ê≥®‰ªñ‰ª¨ÔºåÁ≠âÂêéÈù¢Áî®Âà∞ÂÜçÂéªÊü•</p>
<figure class="highlight javascript"><figcaption><span>createReactApp.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> validateProjectName = <span class="built_in">require</span>(<span class="string">&#x27;validate-npm-package-name&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> chalk = <span class="built_in">require</span>(<span class="string">&#x27;chalk&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> commander = <span class="built_in">require</span>(<span class="string">&#x27;commander&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs-extra&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> execSync = <span class="built_in">require</span>(<span class="string">&#x27;child_process&#x27;</span>).execSync;</span><br><span class="line"><span class="keyword">const</span> spawn = <span class="built_in">require</span>(<span class="string">&#x27;cross-spawn&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> semver = <span class="built_in">require</span>(<span class="string">&#x27;semver&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> dns = <span class="built_in">require</span>(<span class="string">&#x27;dns&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> tmp = <span class="built_in">require</span>(<span class="string">&#x27;tmp&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> unpack = <span class="built_in">require</span>(<span class="string">&#x27;tar-pack&#x27;</span>).unpack;</span><br><span class="line"><span class="keyword">const</span> url = <span class="built_in">require</span>(<span class="string">&#x27;url&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> hyperquest = <span class="built_in">require</span>(<span class="string">&#x27;hyperquest&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> envinfo = <span class="built_in">require</span>(<span class="string">&#x27;envinfo&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="commander-ÂëΩ‰ª§Ë°åÂ§ÑÁêÜÁ®ãÂ∫è"><a href="#commander-ÂëΩ‰ª§Ë°åÂ§ÑÁêÜÁ®ãÂ∫è" class="headerlink" title="commander ÂëΩ‰ª§Ë°åÂ§ÑÁêÜÁ®ãÂ∫è"></a><a href="#commander">commander ÂëΩ‰ª§Ë°åÂ§ÑÁêÜÁ®ãÂ∫è</a></h3><p>Êé•‰∏ãÊù•È°∫ÁùÄÊàë‰ª¨ÁöÑÊñ≠ÁÇπÔºåÁ¨¨‰∏ÄË°åË¢´ÊâßË°åÁöÑ‰ª£Á†ÅÊòØ <a target="_blank" rel="noopener" href="https://github.com/facebook/create-react-app/blob/v1.1.4/packages/create-react-app/createReactApp.js#L56">L56</a></p>
<figure class="highlight javascript"><figcaption><span>createReactApp.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> program = <span class="keyword">new</span> commander.Command(packageJson.name)</span><br><span class="line">  .version(packageJson.version) <span class="comment">// create-react-app -v Êó∂ËæìÂá∫ $&#123;packageJson.version&#125;</span></span><br><span class="line">  .arguments(<span class="string">&#x27;&lt;project-directory&gt;&#x27;</span>) <span class="comment">// ËøôÈáåÁî®&lt;&gt; ÂåÖÁùÄproject-directory Ë°®Á§∫ project-directory‰∏∫ÂøÖÂ°´È°π</span></span><br><span class="line">  .usage(<span class="string">`<span class="subst">$&#123;chalk.green(<span class="string">&#x27;&lt;project-directory&gt;&#x27;</span>)&#125;</span> [options]`</span>) <span class="comment">// Áî®ÁªøËâ≤Â≠ó‰ΩìËæìÂá∫ &lt;project-directory&gt;</span></span><br><span class="line">  .action(<span class="function"><span class="params">name</span> =&gt;</span> &#123;</span><br><span class="line">    projectName = name;</span><br><span class="line">  &#125;) <span class="comment">// Ëé∑ÂèñÁî®Êà∑‰º†ÂÖ•ÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞‰Ωú‰∏∫ projectName **‰∏ãÈù¢Â∞±‰ºöÁî®Âà∞**</span></span><br><span class="line">  .option(<span class="string">&#x27;--verbose&#x27;</span>, <span class="string">&#x27;print additional logs&#x27;</span>) <span class="comment">// optionÁî®‰∫éÈÖçÁΩÆ`create-react-app -[option]`ÁöÑÈÄâÈ°πÔºåÊØîÂ¶ÇËøôÈáåÂ¶ÇÊûúÁî®Êà∑ÂèÇÊï∞Â∏¶‰∫Ü --verboseÔºå ‰ºöËá™Âä®ËÆæÁΩÆprogram.verbose = true;</span></span><br><span class="line">  .option(<span class="string">&#x27;--info&#x27;</span>, <span class="string">&#x27;print environment debug info&#x27;</span>) <span class="comment">// ÂêéÈù¢‰ºöÁî®Âà∞Ëøô‰∏™ÂèÇÊï∞ÔºåÁî®‰∫éÊâìÂç∞Âá∫ÁéØÂ¢ÉË∞ÉËØïÁöÑÁâàÊú¨‰ø°ÊÅØ</span></span><br><span class="line">  .option(</span><br><span class="line">    <span class="string">&#x27;--scripts-version &lt;alternative-package&gt;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;use a non-standard version of react-scripts&#x27;</span></span><br><span class="line">  )</span><br><span class="line">  .option(<span class="string">&#x27;--use-npm&#x27;</span>)</span><br><span class="line">  .allowUnknownOption()</span><br><span class="line">   <span class="comment">// on(&#x27;option&#x27;, cb) ËæìÂÖ• create-react-app --help Ëá™Âä®ÊâßË°åÂêéÈù¢ÁöÑÊìç‰ΩúËæìÂá∫Â∏ÆÂä©</span></span><br><span class="line">  .on(<span class="string">&#x27;--help&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`    Only <span class="subst">$&#123;chalk.green(<span class="string">&#x27;&lt;project-directory&gt;&#x27;</span>)&#125;</span> is required.`</span>);</span><br><span class="line">    <span class="built_in">console</span>.log();</span><br><span class="line">    <span class="built_in">console</span>.log(</span><br><span class="line">      <span class="string">`    A custom <span class="subst">$&#123;chalk.cyan(<span class="string">&#x27;--scripts-version&#x27;</span>)&#125;</span> can be one of:`</span></span><br><span class="line">    );</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`      - a specific npm version: <span class="subst">$&#123;chalk.green(<span class="string">&#x27;0.8.2&#x27;</span>)&#125;</span>`</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(</span><br><span class="line">      <span class="string">`      - a custom fork published on npm: <span class="subst">$&#123;chalk.green(</span></span></span><br><span class="line"><span class="subst"><span class="string">        <span class="string">&#x27;my-react-scripts&#x27;</span></span></span></span><br><span class="line"><span class="subst"><span class="string">      )&#125;</span>`</span></span><br><span class="line">    );</span><br><span class="line">    <span class="built_in">console</span>.log(</span><br><span class="line">      <span class="string">`      - a .tgz archive: <span class="subst">$&#123;chalk.green(</span></span></span><br><span class="line"><span class="subst"><span class="string">        <span class="string">&#x27;https://mysite.com/my-react-scripts-0.8.2.tgz&#x27;</span></span></span></span><br><span class="line"><span class="subst"><span class="string">      )&#125;</span>`</span></span><br><span class="line">    );</span><br><span class="line">    <span class="built_in">console</span>.log(</span><br><span class="line">      <span class="string">`      - a .tar.gz archive: <span class="subst">$&#123;chalk.green(</span></span></span><br><span class="line"><span class="subst"><span class="string">        <span class="string">&#x27;https://mysite.com/my-react-scripts-0.8.2.tar.gz&#x27;</span></span></span></span><br><span class="line"><span class="subst"><span class="string">      )&#125;</span>`</span></span><br><span class="line">    );</span><br><span class="line">    <span class="built_in">console</span>.log(</span><br><span class="line">      <span class="string">`    It is not needed unless you specifically want to use a fork.`</span></span><br><span class="line">    );</span><br><span class="line">    <span class="built_in">console</span>.log();</span><br><span class="line">    <span class="built_in">console</span>.log(</span><br><span class="line">      <span class="string">`    If you have any problems, do not hesitate to file an issue:`</span></span><br><span class="line">    );</span><br><span class="line">    <span class="built_in">console</span>.log(</span><br><span class="line">      <span class="string">`      <span class="subst">$&#123;chalk.cyan(</span></span></span><br><span class="line"><span class="subst"><span class="string">        <span class="string">&#x27;https://github.com/facebookincubator/create-react-app/issues/new&#x27;</span></span></span></span><br><span class="line"><span class="subst"><span class="string">      )&#125;</span>`</span></span><br><span class="line">    );</span><br><span class="line">    <span class="built_in">console</span>.log();</span><br><span class="line">  &#125;)</span><br><span class="line">  .parse(process.argv); <span class="comment">// Ëß£Êûê‰º†ÂÖ•ÁöÑÂèÇÊï∞ ÂèØ‰ª•‰∏çÁî®ÁêÜ‰ºö</span></span><br></pre></td></tr></table></figure>

<p>ËøôÈáåÁî®Âà∞‰∫Ü‰∏Ä‰∏™ commander ÁöÑ‰æùËµñÔºåËøôÊó∂ÂÄôÊàë‰ª¨Â∞±ÂèØ‰ª•Âéªnpm Êêú‰∏Ä‰∏ã‰ªñÁöÑ‰ΩúÁî®‰∫Ü„ÄÇÂÆòÁΩëÁöÑÊèèËø∞ÊòØ <code>The complete solution for node.js command-line interfaces, inspired by Ruby&#39;s commander.API documentation</code> ÁøªËØëËøáÊù•ÊòØ node.js ÂëΩ‰ª§Ë°åÊé•Âè£ÁöÑÂÆåÊï¥Ëß£ÂÜ≥ÊñπÊ°àÔºåÂü∫Êú¨ÁöÑÂäüËÉΩÁúãÊ≥®ÈáäÂç≥ÂèØÔºåÂ§ßÊ¶Ç‰∫ÜËß£‰∏Ä‰∏ãÊúâËøô‰πà‰∏Ä‰∏™‰∏úË•øÔºåÂêéÈù¢Ëá™Â∑±Ë¶ÅÂÅöÁöÑÊó∂ÂÄôÊúâÈó®Ë∑ØÂç≥ÂèØ„ÄÇ<a target="_blank" rel="noopener" href="https://github.com/tj/commander.js">github‰º†ÈÄÅÈó®</a>„ÄÇ</p>
<h3 id="Âà§Êñ≠ÊòØÂê¶Êúâ‰º†projectName"><a href="#Âà§Êñ≠ÊòØÂê¶Êúâ‰º†projectName" class="headerlink" title="Âà§Êñ≠ÊòØÂê¶Êúâ‰º†projectName"></a><a href="#projectName">Âà§Êñ≠ÊòØÂê¶Êúâ‰º†projectName</a></h3><figure class="highlight javascript"><figcaption><span>createReactApp.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> projectName === <span class="string">&#x27;undefined&#x27;</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (program.info) &#123; <span class="comment">// Â¶ÇÊûúÂëΩ‰ª§Ë°åÊúâÂ∏¶ --info ÂèÇÊï∞ÔºåËæìÂá∫ react,react-dom,react-scriptsÁâàÊú¨ ÁÑ∂ÂêéÈÄÄÂá∫</span></span><br><span class="line">    envinfo.print(&#123;</span><br><span class="line">      <span class="attr">packages</span>: [<span class="string">&#x27;react&#x27;</span>, <span class="string">&#x27;react-dom&#x27;</span>, <span class="string">&#x27;react-scripts&#x27;</span>],</span><br><span class="line">      <span class="attr">noNativeIDE</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">duplicates</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">    process.exit(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">  ËøôÈáåËæìÂá∫‰∫Ü‰∏Ä‰∫õÈîôËØØÊèêÁ§∫‰ø°ÊÅØ</span><br><span class="line">  ...</span><br><span class="line">  process.exit(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ÂæÄ‰∏ãÁúãÊòØ‰∏Ä‰∏™Âà§Êñ≠ÂøÖÈ°ª‰º†ÂÖ•ÁöÑÂèÇÊï∞ <code>projectName</code>ÔºåËøôÈáåÁöÑ <code>projectName</code> Â∞±ÊòØ‰∏äÈù¢ÈÄöËøá <code>.action(name =&gt; &#123; projectName = name;&#125;)</code> Ëé∑ÂèñÁöÑ„ÄÇ<br>Âà§Êñ≠Â¶ÇÊûúÊ≤°ÊúâËæìÂÖ•ÁöÑËØùÔºåÁõ¥Êé•ÂÅö‰∏Ä‰∫õ‰ø°ÊÅØÊèêÁ§∫ÔºåÁÑ∂ÂêéÁªàÊ≠¢Á®ãÂ∫è„ÄÇ<br>ËøôÈáåÂèÇÊï∞Â¶ÇÊûú‰º†ÂÖ•‰∫Ü <code>--info</code> ÁöÑËØùÔºå ‰ºöÊâßË°åÂà∞<code>envinfo.print</code>„ÄÇ Êó•Â∏∏npm Êêú‰∏Ä‰∏ã envinfo ËøôÊòØ‰∏Ä‰∏™Áî®Êù•ËæìÂá∫ÂΩìÂâçÁéØÂ¢ÉÁ≥ªÁªüÁöÑ‰∏Ä‰∫õÁ≥ªÁªü‰ø°ÊÅØÔºåÊØîÂ¶ÇÁ≥ªÁªüÁâàÊú¨ÔºånpmÁ≠âÁ≠âËøòÊúâreact,react-dom,react-scriptsËøô‰∫õÂåÖÁöÑÁâàÊú¨ÔºåÈùûÂ∏∏Â•ΩÁî®„ÄÇËøô‰∏™ÂåÖÁé∞Âú®ÁöÑÁâàÊú¨Âíåcreate-react-appÁöÑÁâàÊú¨Â∑ÆÂºÇÊØîËæÉÂ§ßÔºå‰ΩÜÊòØ‰∏çÂΩ±ÂìçÊàë‰ª¨‰ΩøÁî®~ <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/envinfo">envinfo npm‰º†ÈÄÅÈó®</a></p>
<p>Â¶ÇÊûúÊòØÁî®Êàë‰∏äÈù¢Êèê‰æõÁöÑ vscode debugÈÖçÁΩÆÁöÑËØùÔºåÂà∞ËøôÈáåÁ®ãÂ∫èÂ∫îËØ•Â∞±ËøêË°åÁªìÊùü‰∫ÜÔºåÂõ†‰∏∫Êàë‰ª¨Âú®ÂêØÂä®Ë∞ÉËØïÊúçÂä°ÁöÑÊó∂ÂÄôÔºåÊ≤°ÊúâÁªôËÑöÊú¨‰º†ÂÖ•ÂèÇÊï∞‰Ωú‰∏∫ <code>projectName</code>ÔºåÊâÄ‰ª•Êàë‰ª¨‰øÆÊîπ‰∏Ä‰∏ã vscode <code>launch.json</code> Âä†Â§ö‰∏™Â≠óÊÆµ <code>&quot;args&quot;: [&quot;test-create-react-app&quot;]</code> <a href="#vscode_debug">ÂøòËÆ∞ÊÄé‰πàËÆæÁΩÆÁöÑÁÇπËøôÈáå</a>~ ‰º†ÂÖ•‰∫Ü <code>projectName</code> ÂèÇÊï∞ ÁÑ∂ÂêéÈáçÊñ∞ÂêØÂä®Ë∞ÉËØïÊúçÂä°</p>
<figure class="highlight json"><figcaption><span>Âä†ÂÖ•projectName ÂêéÁöÑ launch.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;0.2.0&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;configurations&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;node&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;request&quot;</span>: <span class="string">&quot;launch&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;ÂêØÂä®Á®ãÂ∫è&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;program&quot;</span>: <span class="string">&quot;$&#123;workspaceFolder&#125;/packages/create-react-app/index.js&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;args&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;test-create-react-app&quot;</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ÈöêËóèÁöÑ-commander-ÂèÇÊï∞"><a href="#ÈöêËóèÁöÑ-commander-ÂèÇÊï∞" class="headerlink" title="ÈöêËóèÁöÑ commander ÂèÇÊï∞"></a><a href="#dev_commander">ÈöêËóèÁöÑ commander ÂèÇÊï∞</a></h3><p>Êé•ÁùÄËµ∞Âà§Êñ≠ÂÆå projectName ‰πãÂêéÔºåÊù•Âà∞ <a target="_blank" rel="noopener" href="https://github.com/facebook/create-react-app/blob/v1.1.4/packages/create-react-app/createReactApp.js#L140">Line140</a></p>
<figure class="highlight javascript"><figcaption><span>createReactApp.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> hiddenProgram = <span class="keyword">new</span> commander.Command()</span><br><span class="line">  .option(</span><br><span class="line">    <span class="string">&#x27;--internal-testing-template &lt;path-to-template&gt;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;(internal usage only, DO NOT RELY ON THIS) &#x27;</span> +</span><br><span class="line">      <span class="string">&#x27;use a non-standard application template&#x27;</span></span><br><span class="line">  )</span><br><span class="line">  .parse(process.argv);</span><br></pre></td></tr></table></figure>

<p>ÂèØ‰ª•ÁúãÂà∞Ëøô‰∏™ÊòØ‰∏Ä‰∏™ÈöêËóèÁöÑË∞ÉËØïÈÄâÈ°πÔºåÁªôÂá∫‰∏Ä‰∏™ÂèÇÊï∞Áî®‰∫é‰º†ÂÖ•Ê®°ÁâàË∑ØÂæÑÔºåÁªôÂºÄÂèë‰∫∫ÂëòË∞ÉËØïÁî®ÁöÑ‚Ä¶Ê≤°‰∫ã‰∏çÊäòËÖæ‰ªñ</p>
<h3 id="createApp"><a href="#createApp" class="headerlink" title="createApp"></a><a href="#createApp">createApp</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">createApp(</span><br><span class="line">  projectName,</span><br><span class="line">  program.verbose,</span><br><span class="line">  program.scriptsVersion,</span><br><span class="line">  program.useNpm,</span><br><span class="line">  hiddenProgram.internalTestingTemplate</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>Êé•ÁùÄÂæÄ‰∏ãÂ∞±ÊòØË∞ÉÁî®‰∫Ü <code>createApp</code>, ‰º†ÂÖ•ÁöÑÂèÇÊï∞ÂØπ‰∫éÁöÑÂê´‰πâÊòØÔºö<code>È°πÁõÆÂêç</code>Ôºå<code>ÊòØÂê¶ËæìÂá∫È¢ùÂ§ñ‰ø°ÊÅØ</code>Ôºå<code>‰º†ÂÖ•ÁöÑËÑöÊú¨ÁâàÊú¨</code>Ôºå<code>ÊòØÂê¶‰ΩøÁî®npm</code>Ôºå<code>Ë∞ÉËØïÁöÑÊ®°ÊùøË∑ØÂæÑ</code>„ÄÇÊé•‰∏ãÊù•ÂçïÊ≠•ËøõÂÖ•ÂáΩÊï∞‰ΩìÁúã‰∏Ä‰∏ã <code>createApp</code> Âà∞Â∫ïÂÅö‰∫Ü‰ªÄ‰πà‰∫ãÊÉÖ„ÄÇ</p>
<figure class="highlight javascript"><figcaption><span>createReactApp.js createApp</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createApp</span>(<span class="params">name, verbose, version, useNpm, template</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> root = path.resolve(name);</span><br><span class="line">  <span class="keyword">const</span> appName = path.basename(root);</span><br><span class="line"></span><br><span class="line">  checkAppName(appName); <span class="comment">// Ê£ÄÊü•‰º†ÂÖ•ÁöÑÈ°πÁõÆÂêçÂêàÊ≥ïÊÄß</span></span><br><span class="line">  fs.ensureDirSync(name); <span class="comment">// ËøôÈáåÁöÑfsÁî®ÁöÑÊòØ fs-extraÔºå ÂØπnodeÁöÑfsÊèê‰æõ‰∏Ä‰∫õÊâ©Â±ïÊñπÊ≥ï</span></span><br><span class="line">  <span class="comment">// Âà§Êñ≠Êñ∞Âª∫Ëøô‰∏™Êñá‰ª∂Â§πÊòØÂê¶ÊòØÂÆâÂÖ®ÁöÑ ‰∏çÂÆâÂÖ®Áõ¥Êé•ÈÄÄÂá∫</span></span><br><span class="line">  <span class="keyword">if</span> (!isSafeToCreateProjectIn(root, name)) &#123;</span><br><span class="line">    process.exit(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Âú®Êñ∞Âª∫ÁöÑÊñá‰ª∂Â§π‰∏ãÂÜôÂÖ• package.json Êñá‰ª∂</span></span><br><span class="line">  <span class="keyword">const</span> packageJson = &#123;</span><br><span class="line">    <span class="attr">name</span>: appName,</span><br><span class="line">    <span class="attr">version</span>: <span class="string">&#x27;0.1.0&#x27;</span>,</span><br><span class="line">    <span class="attr">private</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  fs.writeFileSync(</span><br><span class="line">    path.join(root, <span class="string">&#x27;package.json&#x27;</span>),</span><br><span class="line">    <span class="built_in">JSON</span>.stringify(packageJson, <span class="literal">null</span>, <span class="number">2</span>)</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> useYarn = useNpm ? <span class="literal">false</span> : shouldUseYarn();</span><br><span class="line">  <span class="keyword">const</span> originalDirectory = process.cwd();</span><br><span class="line">  process.chdir(root);</span><br><span class="line">  <span class="comment">// Â¶ÇÊûúÊòØ‰ΩøÁî®npmÔºåÊ£ÄÊµãnpmÊòØÂê¶Âú®Ê≠£Á°ÆÁõÆÂΩï‰∏ãÊâßË°å</span></span><br><span class="line">  <span class="keyword">if</span> (!useYarn &amp;&amp; !checkThatNpmCanReadCwd()) &#123;</span><br><span class="line">    process.exit(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Âà§Êñ≠nodeÁéØÂ¢ÉÔºåËæìÂá∫‰∏Ä‰∫õÊèêÁ§∫‰ø°ÊÅØ, Âπ∂ÈááÁî®ÊóßÁâàÊú¨ÁöÑ react-scripts</span></span><br><span class="line">  <span class="keyword">if</span> (!semver.satisfies(process.version, <span class="string">&#x27;&gt;=6.0.0&#x27;</span>)) &#123;</span><br><span class="line">    <span class="comment">// ËæìÂá∫‰∏Ä‰∫õÊèêÁ§∫Êõ¥Êñ∞‰ø°ÊÅØ</span></span><br><span class="line">    version = <span class="string">&#x27;react-scripts@0.9.x&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!useYarn) &#123;</span><br><span class="line">    <span class="comment">// Ê£ÄÊµãnpmÁâàÊú¨ Âà§Êñ≠npmÁâàÊú¨ÔºåÂ¶ÇÊûú‰Ωé‰∫é3.xÔºå‰ΩøÁî®ÊóßÁâàÁöÑ react-scriptsÊóßÁâàÊú¨</span></span><br><span class="line">    <span class="keyword">const</span> npmInfo = checkNpmVersion();</span><br><span class="line">    <span class="keyword">if</span> (!npmInfo.hasMinNpm) &#123;</span><br><span class="line">      version = <span class="string">&#x27;react-scripts@0.9.x&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Âà§Êñ≠ÁªìÊùü‰πãÂêéÔºåË∑ërun ÊñπÊ≥ï</span></span><br><span class="line">  <span class="comment">// ‰º†ÂÖ• È°πÁõÆË∑ØÂæÑÔºåÈ°πÁõÆÂêçÔºå reactScriptsÁâàÊú¨Ôºå ÊòØÂê¶ËæìÂÖ•È¢ùÂ§ñ‰ø°ÊÅØÔºå ËøêË°åÁöÑË∑ØÂæÑÔºå Ê®°ÊùøÔºàÂºÄÂèëË∞ÉËØïÁî®ÁöÑÔºâ, ÊòØÂê¶‰ΩøÁî®yarn</span></span><br><span class="line">  run(root, appName, version, verbose, originalDirectory, template, useYarn);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://github.com/facebook/create-react-app/blob/v1.1.4/packages/create-react-app/createReactApp.js#L156">createReactApp.js createApp ‰º†ÈÄÅÈó®</a><br>ËøôÈáåÊàëÁ≤æÁÆÄ‰∫Ü‰∏Ä‰∫õ‰∏úË•øÔºåÂà†Èô§‰∏Ä‰∫õËæìÂá∫‰ø°ÊÅØÔºåÂä†‰∫Ü‰∏Ä‰∫õÊ≥®Èáä<br><code>createApp</code> ‰∏ªË¶ÅÂÅöÁöÑ‰∫ãÊÉÖÂ∞±ÊòØÂÅö‰∏Ä‰∫õÂÆâÂÖ®Âà§Êñ≠ÊØîÂ¶ÇÔºöÊ£ÄÊü•È°πÁõÆÂêçÊòØÂê¶ÂêàÊ≥ïÔºåÊ£ÄÊü•Êñ∞Âª∫ÁöÑËØùÊòØÂê¶ÂÆâÂÖ®ÔºåÊ£ÄÊü•npmÁâàÊú¨ÔºåÂ§ÑÁêÜ<code>react-script</code>ÁöÑÁâàÊú¨ÂÖºÂÆπ<br>ÂÖ∑‰ΩìÁöÑÊâßË°åÈÄªËæëÂÜôÂú®Ê≥®ÈáäÈáå‰∫ÜÔºå‰∏ÄÁ≥ªÂàóÁöÑÊ£ÄÊü•Â§ÑÁêÜ‰πãÂêéÔºåË∞ÉÁî® run ÊñπÊ≥ïÔºå‰º†ÂÖ•ÂèÇÊï∞‰∏∫ <code>È°πÁõÆË∑ØÂæÑ</code>Ôºå<code>È°πÁõÆÂêç</code>Ôºå <code>reactScriptsÁâàÊú¨</code>Ôºå <code>ÊòØÂê¶ËæìÂÖ•È¢ùÂ§ñ‰ø°ÊÅØ</code>Ôºå <code>ËøêË°åÁöÑË∑ØÂæÑ</code>Ôºå <code>Ê®°ÊùøÔºàÂºÄÂèëË∞ÉËØïÁî®ÁöÑÔºâ</code>, <code>ÊòØÂê¶‰ΩøÁî®yarn</code>„ÄÇ<br>‰∫ÜËß£Â§ßÊ¶ÇÁöÑÊµÅÁ®ã‰πãÂêéÔºåÂÜç‰∏Ä‰∏™ÂáΩÊï∞‰∏Ä‰∏™ÂáΩÊï∞ËøõÂéªÁúã„ÄÇ</p>
<blockquote>
<p>checkAppName()  // Ê£ÄÊü•‰º†ÂÖ•ÁöÑÈ°πÁõÆÂêçÂêàÊ≥ïÊÄß<br>isSafeToCreateProjectIn(root, name) // Âà§Êñ≠Êñ∞Âª∫Ëøô‰∏™Êñá‰ª∂Â§πÊòØÂê¶ÊòØÂÆâÂÖ®ÁöÑ<br>shouldUseYarn() // Ê£ÄÊü•yarn<br>checkThatNpmCanReadCwd() // Ê£ÄÊü•npm<br>run() // Ê£ÄÊü•ÂÆå‰πãÂêéË∞ÉÁî®runÊâßË°åÂÆâË£ÖÁ≠âÊìç‰Ωú</p>
</blockquote>
<h3 id="checkAppName-Ê£ÄÊü•projectNameÊòØÂê¶ÂêàÊ≥ï"><a href="#checkAppName-Ê£ÄÊü•projectNameÊòØÂê¶ÂêàÊ≥ï" class="headerlink" title="checkAppName  Ê£ÄÊü•projectNameÊòØÂê¶ÂêàÊ≥ï"></a><a href="#checkAppName">checkAppName</a>  Ê£ÄÊü•projectNameÊòØÂê¶ÂêàÊ≥ï</h3><figure class="highlight javascript"><figcaption><span>createReactApp.js checkAppName</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkAppName</span>(<span class="params">appName</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> validationResult = validateProjectName(appName);</span><br><span class="line">  <span class="keyword">if</span> (!validationResult.validForNewPackages) &#123;</span><br><span class="line">    <span class="comment">// Âà§Êñ≠ÊòØÂê¶Á¨¶ÂêànpmËßÑËåÉÂ¶ÇÊûú‰∏çÁ¨¶ÂêàÔºåËæìÂá∫ÊèêÁ§∫Âπ∂ÁªìÊùü‰ªªÂä°</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> dependencies = [<span class="string">&#x27;react&#x27;</span>, <span class="string">&#x27;react-dom&#x27;</span>, <span class="string">&#x27;react-scripts&#x27;</span>].sort();</span><br><span class="line">  <span class="keyword">if</span> (dependencies.indexOf(appName) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// Âà§Êñ≠ÊòØÂê¶ÈáçÂêçÔºåÂ¶ÇÊûúÈáçÂêçÂàôËæìÂá∫ÊèêÁ§∫Âπ∂ÁªìÊùü‰ªªÂä°</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>checkAppName</code> Áî®‰∫éÂà§Êñ≠ÂΩìÂâçÁöÑÈ°πÁõÆÂêçÊòØÂê¶Á¨¶ÂêànpmËßÑËåÉÔºåÊØîÂ¶Ç‰∏çËÉΩÂ§ßÂÜôÁ≠âÔºåÁî®ÁöÑÊòØ‰∏Ä‰∏™<a href="validate-npm-package-name">validate-npm-package-name</a>ÁöÑnpmÂåÖ„ÄÇËøôÈáåÁÆÄÂåñ‰∫ÜÂ§ßÈÉ®ÂàÜÁöÑÈîôËØØÊèêÁ§∫‰ª£Á†ÅÔºå‰ΩÜÊòØ‰∏çÂΩ±ÂìçÂè£ÊÑü„ÄÇ</p>
<h3 id="shouldUseYarn-Âà§Êñ≠ÊòØÂê¶ÊúâË£Öyarn-ÂêåÁêÜÁöÑÊúâ-checkThatNpmCanReadCwd-Áî®Êù•Âà§Êñ≠npm"><a href="#shouldUseYarn-Âà§Êñ≠ÊòØÂê¶ÊúâË£Öyarn-ÂêåÁêÜÁöÑÊúâ-checkThatNpmCanReadCwd-Áî®Êù•Âà§Êñ≠npm" class="headerlink" title="shouldUseYarn Âà§Êñ≠ÊòØÂê¶ÊúâË£Öyarn ÂêåÁêÜÁöÑÊúâ checkThatNpmCanReadCwd Áî®Êù•Âà§Êñ≠npm"></a><a href="#shouldUseYarn">shouldUseYarn</a> Âà§Êñ≠ÊòØÂê¶ÊúâË£Öyarn ÂêåÁêÜÁöÑÊúâ <code>checkThatNpmCanReadCwd</code> Áî®Êù•Âà§Êñ≠npm</h3><figure class="highlight javascript"><figcaption><span>createReactApp.js shouldUseYarn</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">shouldUseYarn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    execSync(<span class="string">&#x27;yarnpkg --version&#x27;</span>, &#123; <span class="attr">stdio</span>: <span class="string">&#x27;ignore&#x27;</span> &#125;);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="run"><a href="#run" class="headerlink" title="run"></a><a href="#run">run</a></h3><p>ÂâçÈù¢ÁöÑÈÇ£‰∫õÊìç‰ΩúÂèØ‰ª•ËØ¥ÈÉΩÊòØÂ§ÑÁêÜ‰∏Ä‰∫õÂà§Êñ≠‰∏éÂÖºÂÆπÈÄªËæëÔºåÂà∞<code>run</code>ËøôÈáåÊâçÊòØ ÁúüÊ≠£ÁöÑÊ†∏ÂøÉÂÆâË£ÖÈÄªËæëÔºå__ÂºÄÂßãÂÆâË£Ö‰æùËµñÔºåÊã∑Ë¥ùÊ®°Áâà__Á≠â„ÄÇ</p>
<figure class="highlight javascript"><figcaption><span>createReactApp.js run</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">run</span>(<span class="params">...</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ËøôÈáåËé∑ÂèñË¶ÅÂÆâË£ÖÁöÑpackageÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÊòØ `react-scripts`„ÄÇ ‰πüÂèØËÉΩÊòØÊ†πÊçÆ‰º†ÂèÇÂéªÊãøÂØπÂ∫îÁöÑÂåÖ</span></span><br><span class="line">  <span class="keyword">const</span> packageToInstall = getInstallPackage(version, originalDirectory);</span><br><span class="line">  <span class="comment">// ÈúÄË¶ÅÂÆâË£ÖÊâÄÊúâÁöÑ‰æùËµñÔºå react, react-dom, react-script</span></span><br><span class="line">  <span class="keyword">const</span> allDependencies = [<span class="string">&#x27;react&#x27;</span>, <span class="string">&#x27;react-dom&#x27;</span>, packageToInstall];</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>run</code> ÂÅöÁöÑ‰∫ãÊÉÖ‰∏ªË¶ÅÊúâËøô‰πàÂá†‰∏™ÔºåÂÖàÊ†πÊçÆ‰º†ÂÖ•ÁöÑÁâàÊú¨<code>version</code> ÂíåÂéüÂßãÁõÆÂΩï<code>originalDirectory</code> ÂéªËé∑ÂèñË¶ÅÂÆâË£ÖÁöÑÊüê‰∏™ package„ÄÇ<br>ÈªòËÆ§ÁöÑ version ‰∏∫Á©∫,Ëé∑ÂèñÂà∞ÁöÑ packageToInstall ÂÄºÊòØ <code>react-scripts</code>, ÁÑ∂ÂêéÂ∞Ü<code>packageToInstall</code>ÊãºÊé•Âà∞ <code>allDependencies</code>ÊÑè‰∏∫ÊâÄÊúâÈúÄË¶ÅÂÆâË£ÖÁöÑ‰æùËµñ„ÄÇ<br>ËøôÈáåËØ¥‰∏Ä‰∏ã<code>react-scripts</code>ÂÖ∂ÂÆûÂ∞±ÊòØ‰∏ÄÁ≥ªÂàóÁöÑwebpackÈÖçÁΩÆ‰∏éÊ®°ÁâàÔºåÂ±û‰∫é <code>create-react-app</code> Âè¶‰∏Ä‰∏™Ê†∏ÂøÉÁöÑ‰∏Ä‰∏™Â§ßÊ®°Âùó„ÄÇ<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/react-scripts">‰º†ÈÄÅÈó®</a></p>
<figure class="highlight javascript"><figcaption><span>createReactApp.js run</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">run</span>(<span class="params">...</span>) </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">// Ëé∑ÂèñÂåÖÂêçÔºåÊîØÊåÅ taz|tarÊ†ºÂºè„ÄÅgit‰ªìÂ∫ì„ÄÅÁâàÊú¨Âè∑„ÄÅÊñá‰ª∂Ë∑ØÂæÑÁ≠âÁ≠â</span></span><br><span class="line">  getPackageName(packageToInstall)</span><br><span class="line">    .then(<span class="function"><span class="params">packageName</span> =&gt;</span></span><br><span class="line">      <span class="comment">// Â¶ÇÊûúÊòØyarn,Âà§Êñ≠ÊòØÂê¶Âú®Á∫øÊ®°ÂºèÔºàÂØπÂ∫îÁöÑÂ∞±ÊòØÁ¶ªÁ∫øÊ®°ÂºèÔºâÔºåÂ§ÑÁêÜÂÆåÂà§Êñ≠Â∞±ËøîÂõûÁªô‰∏ã‰∏Ä‰∏™thenÂ§ÑÁêÜ</span></span><br><span class="line">      checkIfOnline(useYarn).then(<span class="function"><span class="params">isOnline</span> =&gt;</span> (&#123;</span><br><span class="line">        <span class="attr">isOnline</span>: isOnline,</span><br><span class="line">        <span class="attr">packageName</span>: packageName,</span><br><span class="line">      &#125;))</span><br><span class="line">    )</span><br><span class="line">    .then(<span class="function"><span class="params">info</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> isOnline = info.isOnline;</span><br><span class="line">      <span class="keyword">const</span> packageName = info.packageName;</span><br><span class="line">      <span class="comment">/** ÂºÄÂßãÊ†∏ÂøÉÁöÑÂÆâË£ÖÈÉ®ÂàÜ ‰º†ÂÖ•`ÂÆâË£ÖË∑ØÂæÑ`Ôºå`ÊòØÂê¶‰ΩøÁî®yarn`,`ÊâÄÊúâ‰æùËµñ`Ôºå`ÊòØÂê¶ËæìÂá∫È¢ùÂ§ñ‰ø°ÊÅØ`Ôºå`Âú®Á∫øÁä∂ÊÄÅ` **/</span></span><br><span class="line">      <span class="comment">/** ËøôÈáå‰∏ªË¶ÅÁöÑÊìç‰ΩúÊòØ Ê†πÊçÆ‰º†ÂÖ•ÁöÑÂèÇÊï∞ÔºåÂºÄÂßãË∑ë npm || yarn ÂÆâË£Öreact react-domÁ≠â‰æùËµñ **/</span></span><br><span class="line">      <span class="comment">/** ËøôÈáåÂ¶ÇÊûúÁΩëÁªú‰∏çÂ•ΩÔºåÂèØËÉΩ‰ºöÊåÇ **/</span></span><br><span class="line">      <span class="keyword">return</span> install(root, useYarn, allDependencies, verbose, isOnline).then(</span><br><span class="line">        <span class="function">() =&gt;</span> packageName</span><br><span class="line">      );</span><br><span class="line">    &#125;)</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ÁÑ∂ÂêéÂ¶ÇÊûúÂΩìÂâçÊòØÈááÁî®yarnÂÆâË£ÖÊñπÂºèÁöÑËØùÔºåÂ∞±Âà§Êñ≠ÊòØÂê¶Â§Ñ‰∫éÁ¶ªÁ∫øÁä∂ÊÄÅ„ÄÇÂà§Êñ≠ÂÆåËøûÁùÄÂâçÈù¢ÁöÑ <code>packageToInstall</code> Âíå <code>allDependencies</code> ‰∏ÄËµ∑‰∏¢Áªô <code>install</code> ÊñπÊ≥ïÔºåÂÜçÁî±<code>install</code>ÊñπÊ≥ïÂéªË∑ëÂÆâË£Ö„ÄÇ</p>
<blockquote>
<p>runÊñπÊ≥ï<br>getInstallPackage(); // Ëé∑ÂèñË¶ÅÂÆâË£ÖÁöÑÊ®°ÁâàÂåÖ ÈªòËÆ§ÊòØ react-scripts<br>install(); // ‰º†ÂèÇÊï∞Áªôinstall Ë¥üË¥£ÂÆâË£Ö allDependencies<br>init(); // Ë∞ÉÁî®ÂÆâË£Ö‰∫ÜÁöÑ react-scripts/script/init ÂéªÊã∑Ë¥ùÊ®°Áâà<br>.catch(); // ÈîôËØØÂ§ÑÁêÜ</p>
</blockquote>
<h3 id="install"><a href="#install" class="headerlink" title="install"></a><a href="#install">install</a></h3><figure class="highlight javascript"><figcaption><span>createReactApp.js install</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">install</span>(<span class="params">root, useYarn, dependencies, verbose, isOnline</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ‰∏ªË¶ÅÊ†πÊçÆÂèÇÊï∞ÊãºË£ÖÂëΩ‰ª§Ë°åÔºåÁÑ∂ÂêéÁî®nodeÂéªË∑ëÂÆâË£ÖËÑöÊú¨ Â¶Ç `npm install react react-dom --save` ÊàñËÄÖ `yarn add react react-dom`</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> command;</span><br><span class="line">    <span class="keyword">let</span> args;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ÂºÄÂßãÊãºË£Ö yarn ÂëΩ‰ª§Ë°å</span></span><br><span class="line">    <span class="keyword">if</span> (useYarn) &#123;</span><br><span class="line">      command = <span class="string">&#x27;yarnpkg&#x27;</span>;</span><br><span class="line">      args = [<span class="string">&#x27;add&#x27;</span>, <span class="string">&#x27;--exact&#x27;</span>]; <span class="comment">// ‰ΩøÁî®Á°ÆÂàáÁâàÊú¨Ê®°Âºè</span></span><br><span class="line">      <span class="comment">// Âà§Êñ≠ÊòØÂê¶ÊòØÁ¶ªÁ∫øÁä∂ÊÄÅ Âä†‰∏™Áä∂ÊÄÅ</span></span><br><span class="line">      <span class="keyword">if</span> (!isOnline) &#123;</span><br><span class="line">        args.push(<span class="string">&#x27;--offline&#x27;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      [].push.apply(args, dependencies);</span><br><span class="line">      <span class="comment">// Â∞ÜcwdËÆæÁΩÆ‰∏∫Êàë‰ª¨Ë¶ÅÂÆâË£ÖÁöÑÁõÆÂΩïË∑ØÂæÑ</span></span><br><span class="line">      args.push(<span class="string">&#x27;--cwd&#x27;</span>);</span><br><span class="line">      args.push(root);</span><br><span class="line">      <span class="comment">// Â¶ÇÊûúÊòØÁ¶ªÁ∫øÁöÑËØùËæìÂá∫‰∏Ä‰∫õÊèêÁ§∫‰ø°ÊÅØ</span></span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// npm ÂÆâË£ÖÊ®°ÂºèÔºå‰∏éyarnÂêåÁêÜ</span></span><br><span class="line">      command = <span class="string">&#x27;npm&#x27;</span>;</span><br><span class="line">      args = [</span><br><span class="line">        <span class="string">&#x27;install&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;--save&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;--save-exact&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;--loglevel&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;error&#x27;</span>,</span><br><span class="line">      ].concat(dependencies);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Â¶ÇÊûúÊúâ‰º†verboseÔºå ÂàôÂä†ËØ•ÂèÇÊï∞ ËæìÂá∫È¢ùÂ§ñÁöÑ‰ø°ÊÅØ</span></span><br><span class="line">    <span class="keyword">if</span> (verbose) &#123;</span><br><span class="line">      args.push(<span class="string">&#x27;--verbose&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Áî® cross-spawn Ë∑®Âπ≥Âè∞ÊâßË°åÂëΩ‰ª§Ë°å</span></span><br><span class="line">    <span class="keyword">const</span> child = spawn(command, args, &#123; <span class="attr">stdio</span>: <span class="string">&#x27;inherit&#x27;</span> &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  ÂÖ≥Èó≠ÁöÑÂ§ÑÁêÜ</span></span><br><span class="line">    child.on(<span class="string">&#x27;close&#x27;</span>, <span class="function"><span class="params">code</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (code !== <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> reject(&#123; <span class="attr">command</span>: <span class="string">`<span class="subst">$&#123;command&#125;</span> <span class="subst">$&#123;args.join(<span class="string">&#x27; &#x27;</span>)&#125;</span>`</span>, &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">      resolve();</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Êàë‰ª¨È°∫ÁùÄÊñ≠ÁÇπ‰ªé<code>run</code>Ë∑ëÂà∞<code>install</code>ÊñπÊ≥ïÔºåËÉΩÁúãÂà∞‰ª£Á†ÅÈáåÊ†πÊçÆÊòØÂê¶‰ΩøÁî®yarnÂàÜÊàê‰∏§ÁßçÂ§ÑÁêÜÊñπÊ≥ï„ÄÇ<br><code>if (useYarn) &#123; yarn ÂÆâË£ÖÈÄªËæë &#125; else &#123; npm ÂÆâË£ÖÈÄªËæë &#125;</code><br>Â§ÑÁêÜÊñπÊ≥ïÈÉΩÊòØÂêå‰∏™ÈÄªËæëÔºåÊ†πÊçÆ‰º†ÂÖ•ÁöÑ <code>dependencies</code> ÂéªÊãºÊé•ÈúÄË¶ÅÂÆâË£ÖÁöÑ‰æùËµñÔºå‰∏ªË¶ÅÊúâ <code>react</code>,<code>react-dom</code>,<code>react-script</code> „ÄÇÂÜçÂà§Êñ≠<code>verbose</code>Âíå<code>isOnline</code> Âä†‰∏Ä‰∫õÂëΩ‰ª§Ë°åÁöÑÂèÇÊï∞„ÄÇ<br>ÊúÄÂêéÂÜçÁî®nodeË∑ëÂëΩ‰ª§ÔºåÂπ≥Âè∞Â∑ÆÂºÇÁöÑËØùÊòØÂÄüÂä©<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/cross-spawn">cross-spawn</a>ÂéªÂ§ÑÁêÜÁöÑÔºåËøôÈáå‰∏çÂÜçËµòËø∞„ÄÇ<br>ÂÖ∑‰ΩìÈÄªËæëËßÅ‰∏äÈù¢‰ª£Á†ÅÔºåÂéªÊéâ‰∏çÈáçË¶ÅÁöÑ‰ø°ÊÅØËæìÂá∫Ôºå‰ª£Á†ÅËøòÊòØÊØîËæÉÊòìÊáÇ„ÄÇ</p>
<blockquote>
<p>install<br>Ê†πÊçÆ‰º†ËøõÊù•ÁöÑÂèÇÊï∞Âà§Êñ≠Áî®yarnËøòÊòØnpm<br>ÊãºË£ÖÈúÄË¶ÅÁöÑ‰æùËµñ<br>Áî®cross-spawnË∑ëÂëΩ‰ª§ÂÆâË£Ö</p>
</blockquote>
<p>Âú®<code>install</code>‰ºöËøîÂõû‰∏Ä‰∏™<code>Promise</code>Âú®ÂÆâË£ÖÂÆå‰πãÂêéÔºåÊñ≠ÁÇπÂèàÂõûÂà∞Êàë‰ª¨ÁöÑ<code>run</code>ÂáΩÊï∞ÁªßÁª≠Ëµ∞Êé•‰∏ãÊù•ÁöÑÈÄªËæë„ÄÇ</p>
<figure class="highlight javascript"><figcaption><span>createReactApp.js run</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">run</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">  getPackageName()</span><br><span class="line">    .then(<span class="function">()=&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> install(root, useYarn, allDependencies, verbose, isOnline).then(</span><br><span class="line">            <span class="function">() =&gt;</span> packageName</span><br><span class="line">      );</span><br><span class="line">    &#125;)</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Êó¢ÁÑ∂Êàë‰ª¨ÁöÑ<code>install</code>Â∑≤ÁªèÊääÂºÄÂèëÈúÄË¶ÅÁöÑ‰æùËµñÂÆâË£ÖÂÆå‰∫ÜÔºåÊé•‰∏ãÊù•Êàë‰ª¨ÂèØ‰ª•ÂºÄÂà§Êñ≠ÂΩìÂâçËøêË°åÁöÑ<code>node</code>ÊòØÂê¶Á¨¶ÂêàÊàë‰ª¨Â∑≤ÁªèÂÆâË£ÖÁöÑ<code>react-scripts</code>ÈáåÈù¢ÁöÑ<code>packages.json</code>Ë¶ÅÊ±ÇÁöÑnodeÁâàÊú¨„ÄÇ<br>ËøôÂè•ËØùÊúâÁÇπÁªïÔºåÁÆÄÂçïÊù•ËØ¥Â∞±ÊòØÂà§Êñ≠ÂΩìÂâçËøêË°åÁöÑnodeÁâàÊú¨ÊòØÂê¶<code>react-scripts</code>Ëøô‰∏™‰æùËµñÊâÄÈúÄ„ÄÇ</p>
<p>ÁÑ∂ÂêéÂ∞±ÊääÂºÄÂßã‰øÆÊîπ<code>package.json</code>Êàë‰ª¨Â∑≤ÁªèÂÆâË£ÖÁöÑ‰æùËµñ(react, react-dom, react-scripts)ÁâàÊú¨‰ªéÂéüÊú¨ÁöÑÁ≤æÁ°ÆÁâàÊú¨eg(16.0.0)‰øÆÊîπ‰∏∫È´ò‰∫éÁ≠â‰∫éÁâàÊú¨eg(^16.0.0)„ÄÇ<br>Ëøô‰∫õÂ§ÑÁêÜÂÅöÂÆå‰πãÂêéÔºåÊàë‰ª¨ÁöÑÁõÆÂΩïÊòØÈïøËøôÊ†∑Â≠êÁöÑÔºåÈáåÈù¢Èô§‰∫ÜÂÆâË£ÖÁöÑ‰æùËµñÂíå<code>package.json</code>Â§ñÊ≤°Êúâ‰ªª‰Ωï‰∏úË•ø„ÄÇÊâÄ‰ª•Êé•‰∏ãÊù•ÁöÑÊìç‰ΩúÊòØÁîüÊàê‰∏Ä‰∫õwebpackÁöÑÈÖçÁΩÆÂíå‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂèØÂêØÂä®demo„ÄÇ<br><img data-src="/create-react-app-o/create-react-app1.png"></p>
<p>ÈÇ£‰πà‰ªñÊòØÊÄé‰πàÂø´ÈÄüÁîüÊàêËøô‰∫õ‰∏úË•øÁöÑÂë¢Ôºü<br>ËøòËÆ∞Âæó‰∏ÄÂºÄÂßãËØ¥‰∫ÜÊúâ‰∏Ä‰∏™ ÈöêËóèÁöÑÂëΩ‰ª§Ë°åÂèÇÊï∞ <code>--internal-testing-template</code> Áî®Êù•ÁªôÂºÄÂèëËÄÖË∞ÉËØïÁî®ÁöÑÂêóÔºåÊâÄ‰ª•ÂÖ∂ÂÆûcreate-react-appÁîüÊàêËøô‰∫õÁöÑÊñπÊ≥ïÂ∞±ÊòØÁõ¥Êé•ÊääÊüê‰∏Ä‰∏™Ë∑ØÂæÑÁöÑÊ®°ÊùøÊã∑Ë¥ùÂà∞ÂØπÂ∫îÁöÑÂú∞Êñπ„ÄÇÊòØ‰∏çÊòØÂæàÁÆÄÂçïÁ≤óÊö¥hhhhh</p>
<figure class="highlight javascript"><figcaption><span>createReactApp.js run</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">run</span>(<span class="params">...</span>)</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">    getPackageName(packageToInstall)</span><br><span class="line">    .then(...)</span><br><span class="line">    .then(<span class="function"><span class="params">info</span> =&gt;</span> install(...).then(<span class="function">()=&gt;</span> packageName))</span><br><span class="line">    <span class="comment">/** install ÂÆâË£ÖÂÆå‰πãÂêéÁöÑÈÄªËæë **/</span></span><br><span class="line">    <span class="comment">/** ‰ªéËøôÈáåÂºÄÂßãÊã∑Ë¥ùÊ®°ÊùøÈÄªËæë **/</span></span><br><span class="line">    .then(<span class="function"><span class="params">packageName</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// ÂÆâË£ÖÂÆå react, react-dom, react-scripts ‰πãÂêéÊ£ÄÊü•ÂΩìÂâçÁéØÂ¢ÉËøêË°åÁöÑnodeÁâàÊú¨ÊòØÂê¶Á¨¶ÂêàË¶ÅÊ±Ç</span></span><br><span class="line">      checkNodeVersion(packageName);</span><br><span class="line">      <span class="comment">// ËØ•È°πpackage.jsonÈáåreact, react-domÁöÑÁâàÊú¨ËåÉÂõ¥Ôºåeg: 16.0.0 =&gt; ^16.0.0</span></span><br><span class="line">      setCaretRangeForRuntimeDeps(packageName);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Âä†ËΩΩscriptËÑöÊú¨ÔºåÂπ∂ÊâßË°åinitÊñπÊ≥ï</span></span><br><span class="line">      <span class="keyword">const</span> scriptsPath = path.resolve(</span><br><span class="line">        process.cwd(),</span><br><span class="line">        <span class="string">&#x27;node_modules&#x27;</span>,</span><br><span class="line">        packageName,</span><br><span class="line">        <span class="string">&#x27;scripts&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;init.js&#x27;</span></span><br><span class="line">      );</span><br><span class="line">      <span class="keyword">const</span> init = <span class="built_in">require</span>(scriptsPath);</span><br><span class="line">      <span class="comment">// init ÊñπÊ≥ï‰∏ªË¶ÅÊâßË°åÁöÑÊìç‰ΩúÊòØ</span></span><br><span class="line">      <span class="comment">// ÂÜôÂÖ•package.json ‰∏Ä‰∫õËÑöÊú¨„ÄÇeg: script: &#123;start: &#x27;react-scripts start&#x27;&#125;</span></span><br><span class="line">      <span class="comment">// ÊîπÂÜôREADME.MD</span></span><br><span class="line">      <span class="comment">// ÊääÈ¢ÑËÆæÁöÑÊ®°ÁâàÊã∑Ë¥ùÂà∞È°πÁõÆ‰∏ã</span></span><br><span class="line">      <span class="comment">// ËæìÂá∫ÊàêÂäü‰∏éÂêéÁª≠Êìç‰ΩúÁöÑ‰ø°ÊÅØ</span></span><br><span class="line">      init(root, appName, verbose, originalDirectory, template);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (version === <span class="string">&#x27;react-scripts@0.9.x&#x27;</span>) &#123;</span><br><span class="line">        <span class="comment">// Â¶ÇÊûúÊòØÊóßÁâàÊú¨ÁöÑ react-scripts ËæìÂá∫ÊèêÁ§∫</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// Âá∫ÈîôÁöÑËØùÔºåÊääÂÆâË£Ö‰∫ÜÁöÑÊñá‰ª∂ÂÖ®Âà†‰∫Ü Âπ∂ËæìÂá∫‰∏Ä‰∫õÊó•Âøó‰ø°ÊÅØÁ≠â</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ËøôÈáåÂÆâË£ÖÂÆå‰æùËµñ‰πãÂêéÔºåÊâßË°å<code>checkNodeVersion</code>Âà§Êñ≠nodeÁâàÊú¨ÊòØÂê¶‰∏é‰æùËµñÁõ∏Á¨¶„ÄÇ<br>‰πãÂêéÊãºÊé•Ë∑ØÂæÑÂéªË∑ë<code>ÁõÆÂΩï/node_modules/react-scripts/scripts/init.js</code>Ôºå‰º†ÂèÇËÆ©‰ªñÂéªÂÅö‰∏Ä‰∫õÂàùÂßãÂåñÁöÑ‰∫ãÊÉÖ„ÄÇ<br>ÁÑ∂ÂêéÂØπÂá∫ÈîôÊÉÖÂÜµÂÅö‰∏Ä‰∫õÁõ∏Â∫îÁöÑÂ§ÑÁêÜ</p>
<h2 id="node-modules-react-scripts-script-init-js"><a href="#node-modules-react-scripts-script-init-js" class="headerlink" title="/node_modules/react-scripts/script/init.js"></a><a href="#/node_modules/react-scripts/script/init.js">/node_modules/react-scripts/script/init.js</a></h2><figure class="highlight javascript"><figcaption><span>ÁõÆÊ†áÊñá‰ª∂Â§π/node_modules/react-scripts/script/init.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">  appPath,</span></span></span><br><span class="line"><span class="params"><span class="function">  appName,</span></span></span><br><span class="line"><span class="params"><span class="function">  verbose,</span></span></span><br><span class="line"><span class="params"><span class="function">  originalDirectory,</span></span></span><br><span class="line"><span class="params"><span class="function">  template</span></span></span><br><span class="line"><span class="params"><span class="function"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> ownPackageName = <span class="built_in">require</span>(path.join(__dirname, <span class="string">&#x27;..&#x27;</span>, <span class="string">&#x27;package.json&#x27;</span>))</span><br><span class="line">    .name;</span><br><span class="line">  <span class="keyword">const</span> ownPath = path.join(appPath, <span class="string">&#x27;node_modules&#x27;</span>, ownPackageName);</span><br><span class="line">  <span class="keyword">const</span> appPackage = <span class="built_in">require</span>(path.join(appPath, <span class="string">&#x27;package.json&#x27;</span>));</span><br><span class="line">  <span class="keyword">const</span> useYarn = fs.existsSync(path.join(appPath, <span class="string">&#x27;yarn.lock&#x27;</span>));</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 1. ÊääÂêØÂä®ËÑöÊú¨ÂÜôÂÖ•ÁõÆÊ†á package.json </span></span><br><span class="line">  appPackage.scripts = &#123;</span><br><span class="line">    <span class="attr">start</span>: <span class="string">&#x27;react-scripts start&#x27;</span>,</span><br><span class="line">    <span class="attr">build</span>: <span class="string">&#x27;react-scripts build&#x27;</span>,</span><br><span class="line">    <span class="attr">test</span>: <span class="string">&#x27;react-scripts test --env=jsdom&#x27;</span>,</span><br><span class="line">    <span class="attr">eject</span>: <span class="string">&#x27;react-scripts eject&#x27;</span>,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  fs.writeFileSync(</span><br><span class="line">    path.join(appPath, <span class="string">&#x27;package.json&#x27;</span>),</span><br><span class="line">    <span class="built_in">JSON</span>.stringify(appPackage, <span class="literal">null</span>, <span class="number">2</span>)</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2. ÊîπÂÜôREADME.MDÔºåÊää‰∏Ä‰∫õÂ∏ÆÂä©‰ø°ÊÅØÂÜôËøõÂéª</span></span><br><span class="line">  <span class="keyword">const</span> readmeExists = fs.existsSync(path.join(appPath, <span class="string">&#x27;README.md&#x27;</span>));</span><br><span class="line">  <span class="keyword">if</span> (readmeExists) &#123;</span><br><span class="line">    fs.renameSync(</span><br><span class="line">      path.join(appPath, <span class="string">&#x27;README.md&#x27;</span>),</span><br><span class="line">      path.join(appPath, <span class="string">&#x27;README.old.md&#x27;</span>)</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3. ÊääÈ¢ÑËÆæÁöÑÊ®°ÁâàÊã∑Ë¥ùÂà∞È°πÁõÆ‰∏ãÔºå‰∏ªË¶ÅÊúâ public, src/[APP.css, APP.js, index.js,....], .gitignore</span></span><br><span class="line">  <span class="keyword">const</span> templatePath = template</span><br><span class="line">    ? path.resolve(originalDirectory, template)</span><br><span class="line">    : path.join(ownPath, <span class="string">&#x27;template&#x27;</span>);</span><br><span class="line">  <span class="keyword">if</span> (fs.existsSync(templatePath)) &#123;</span><br><span class="line">    fs.copySync(templatePath, appPath);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  fs.move(</span><br><span class="line">    path.join(appPath, <span class="string">&#x27;gitignore&#x27;</span>),</span><br><span class="line">    path.join(appPath, <span class="string">&#x27;.gitignore&#x27;</span>),</span><br><span class="line">    [],</span><br><span class="line">    <span class="function"><span class="params">err</span> =&gt;</span> &#123; <span class="comment">/* ÈîôËØØÂ§ÑÁêÜ */</span>  &#125;</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ËøôÈáåÂÜçÊ¨°ËøõË°åÂëΩ‰ª§Ë°åÁöÑÊãºÊé•ÔºåÂ¶ÇÊûúÂêéÈù¢ÂèëÁé∞Ê≤°ÊúâÂÆâË£ÖreactÂíåreact-dom,ÈáçÊñ∞ÂÆâË£Ö‰∏ÄÊ¨°</span></span><br><span class="line">  <span class="keyword">let</span> command;</span><br><span class="line">  <span class="keyword">let</span> args;</span><br><span class="line">  <span class="keyword">if</span> (useYarn) &#123;</span><br><span class="line">    command = <span class="string">&#x27;yarnpkg&#x27;</span>;</span><br><span class="line">    args = [<span class="string">&#x27;add&#x27;</span>];</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    command = <span class="string">&#x27;npm&#x27;</span>;</span><br><span class="line">    args = [<span class="string">&#x27;install&#x27;</span>, <span class="string">&#x27;--save&#x27;</span>, verbose &amp;&amp; <span class="string">&#x27;--verbose&#x27;</span>].filter(<span class="function"><span class="params">e</span> =&gt;</span> e);</span><br><span class="line">  &#125;</span><br><span class="line">  args.push(<span class="string">&#x27;react&#x27;</span>, <span class="string">&#x27;react-dom&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> templateDependenciesPath = path.join(</span><br><span class="line">    appPath,</span><br><span class="line">    <span class="string">&#x27;.template.dependencies.json&#x27;</span></span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">if</span> (fs.existsSync(templateDependenciesPath)) &#123;</span><br><span class="line">    <span class="keyword">const</span> templateDependencies = <span class="built_in">require</span>(templateDependenciesPath).dependencies;</span><br><span class="line">    args = args.concat(</span><br><span class="line">      <span class="built_in">Object</span>.keys(templateDependencies).map(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;key&#125;</span>@<span class="subst">$&#123;templateDependencies[key]&#125;</span>`</span>;</span><br><span class="line">      &#125;)</span><br><span class="line">    );</span><br><span class="line">    fs.unlinkSync(templateDependenciesPath);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!isReactInstalled(appPackage) || template) &#123;</span><br><span class="line">    <span class="keyword">const</span> proc = spawn.sync(command, args, &#123; <span class="attr">stdio</span>: <span class="string">&#x27;inherit&#x27;</span> &#125;);</span><br><span class="line">    <span class="keyword">if</span> (proc.status !== <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="built_in">console</span>.error(<span class="string">`\`<span class="subst">$&#123;command&#125;</span> <span class="subst">$&#123;args.join(<span class="string">&#x27; &#x27;</span>)&#125;</span>\` failed`</span>);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 5. ËæìÂá∫ÊàêÂäüÁöÑÊó•Âøó</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>init</code>Êñá‰ª∂ÂèàÊòØ‰∏Ä‰∏™Â§ßÂ§¥ÔºåÂ§ÑÁêÜÁöÑÈÄªËæë‰∏ªË¶ÅÊúâ</p>
</blockquote>
<ol>
<li>‰øÆÊîπpackage.jsonÔºåÂÜôÂÖ•‰∏Ä‰∫õÂêØÂä®ËÑöÊú¨ÔºåÊØîÂ¶Ç<code>script: &#123;start: &#39;react-scripts start&#39;&#125;</code>ÔºåÁî®Êù•ÂêØÂä®ÂºÄÂèëÈ°πÁõÆ</li>
<li>ÊîπÂÜôREADME.MDÔºåÊää‰∏Ä‰∫õÂ∏ÆÂä©‰ø°ÊÅØÂÜôËøõÂéª</li>
<li>ÊääÈ¢ÑËÆæÁöÑÊ®°ÁâàÊã∑Ë¥ùÂà∞È°πÁõÆ‰∏ãÔºå‰∏ªË¶ÅÊúâ <code>public</code>, <code>src/[APP.css, APP.js, index.js,....]</code>, <code>.gitignore</code></li>
<li>ÂØπÊóßÁâàÁöÑnodeÂÅö‰∏Ä‰∫õÂÖºÂÆπÁöÑÂ§ÑÁêÜÔºåËøôÈáåË°•‰∏ÄÂè•ÔºåÂú®ÈÄâÊã© react-scripts Êó∂Â∞±ÊúâÊ†πÊçÆnodeÁâàÊú¨ÂéªÂà§Êñ≠ÈÄâÊã©ÊØîËæÉËÄÅÁöÑ @0.9.x Áâà„ÄÇ</li>
<li>Â¶ÇÊûúÂÆåÊàêËæìÂá∫ÂØπÂ∫îÁöÑ‰ø°ÊÅØÔºåÂ¶ÇÊûúÂ§±Ë¥•ÔºåÂÅö‰∏Ä‰∫õËæìÂá∫Êó•ÂøóÁ≠âÊìç‰Ωú„ÄÇ</li>
</ol>
<p>ËøôÈáå‰ª£Á†ÅÊúâÁÇπÂ§öÔºåÊâÄ‰ª•Âà†‰∫Ü‰∏ÄÂ∞èÈÉ®ÂàÜÔºåÂ¶ÇÊûúÂØπÂàùÂßãÁöÑ‰ª£Á†ÅÊÑüÂÖ¥Ë∂£ÂèØ‰ª•Ë∑≥ËΩ¨Âà∞ËøôÂÑøÁúã<a target="_blank" rel="noopener" href="https://github.com/facebook/create-react-app/blob/v1.1.4/packages/react-scripts/scripts/init.js">react-scripts/scripts/init.js ‰º†ÈÄÅÈó®</a></p>
<h1 id="END"><a href="#END" class="headerlink" title="END~"></a>END~</h1><p>Âà∞ËøôÈáå <code>create-react-app</code> È°πÁõÆÊûÑÂª∫ÁöÑÈÉ®ÂàÜÂ§ßÊµÅÁ®ãÂ∑≤ÁªèËµ∞ÂÆå‰∫ÜÔºåÊàë‰ª¨Êù•ÂõûÈ°æ‰∏Ä‰∏ãÔºö</p>
<ol>
<li>Âà§Êñ≠nodeÁâàÊú¨Â¶ÇÊûúÂ∞è‰∫é4Â∞±ÈÄÄÂá∫ÔºåÂê¶ÂàôÊâßË°å <code>createReactApp.js</code> Êñá‰ª∂</li>
<li><code>createReactApp.js</code>ÂÖàÂÅö‰∏Ä‰∫õÂëΩ‰ª§Ë°åÁöÑÂ§ÑÁêÜÂìçÂ∫îÂ§ÑÁêÜÔºåÁÑ∂ÂêéÂà§Êñ≠ÊòØÂê¶Êúâ‰º†ÂÖ• <code>projectName</code> Ê≤°ÊúâÂ∞±ÊèêÁ§∫Âπ∂ÈÄÄÂá∫</li>
<li>Ê†πÊçÆ‰º†ÂÖ•ÁöÑ <code>projectName</code> ÂàõÂª∫ÁõÆÂΩïÔºåÂπ∂ÂàõÂª∫<code>package.json</code>„ÄÇ</li>
<li>Âà§Êñ≠ÊòØÂê¶ÊúâÁâπÊÆäË¶ÅÊ±ÇÊåáÂÆöÂÆâË£ÖÊüê‰∏™ÁâàÊú¨ÁöÑ<code>react-scripts</code>ÔºåÁÑ∂ÂêéÁî®<code>cross-spawn</code>ÂéªÂ§ÑÁêÜË∑®Âπ≥Âè∞ÁöÑÂëΩ‰ª§Ë°åÈóÆÈ¢òÔºåÁî®<code>yarn</code>Êàñ<code>npm</code>ÂÆâË£Ö<code>react</code>, <code>react-dom</code>, <code>react-scripts</code>„ÄÇ</li>
<li>ÂÆâË£ÖÂÆå‰πãÂêéË∑ë <code>react-scripts/script/init.js</code> ‰øÆÊîπ <code>package.json</code> ÁöÑ‰æùËµñÁâàÊú¨ÔºåËøêË°åËÑöÊú¨ÔºåÂπ∂Êã∑Ë¥ùÂØπÂ∫îÁöÑÊ®°ÊùøÂà∞ÁõÆÂΩïÈáå„ÄÇ</li>
<li>Â§ÑÁêÜÂÆåËøô‰∫õ‰πãÂêéÔºåËæìÂá∫ÊèêÁ§∫ÁªôÁî®Êà∑„ÄÇ</li>
</ol>
<p>Êú¨Êù•ÊÉ≥ÊääÊï¥‰∏™ create-react-app ËØ¥ÂÆåÔºå‰ΩÜÊòØÂèëÁé∞ËØ¥‰∏Ä‰∏™ÂàõÂª∫Â∞±ÂÜô‰∫ÜËøô‰πàÂ§öÔºåÊâÄ‰ª•ÂêéÈù¢Â¶ÇÊûúÊúâÊÉ≥ÁªßÁª≠Áúã <code>react-scripts</code>ÁöÑËØùÔºå‰ºöÂè¶Â§ñÂºÄ‰∏ÄÁØáÊù•ËÆ≤„ÄÇ<br>Â§ßÂÆ∂‰πüÂèØ‰ª•Ê†πÊçÆËøô‰∏™ÊÄùË∑ØËá™Â∑±Êñ≠ÁÇπÂéªÁúãÔºå‰∏çËøá <code>react-scripts</code> ‰∏ªË¶ÅÂèØËÉΩÊòØwebpackÈÖçÁΩÆÂ±ÖÂ§öÔºåÊñ≠ÁÇπÂ∏ÆÂä©Â∫îËØ•‰∏çÂ§ß„ÄÇ</p>
<h1 id="create-react-appÁ≥ªÂàóÁ¨¨‰∫åÁØá‰º†ÈÄÅÈó®"><a href="#create-react-appÁ≥ªÂàóÁ¨¨‰∫åÁØá‰º†ÈÄÅÈó®" class="headerlink" title="create-react-appÁ≥ªÂàóÁ¨¨‰∫åÁØá‰º†ÈÄÅÈó®"></a><a href="https://jsonz1993.github.io/2018/05/create-react-app-t/">create-react-appÁ≥ªÂàóÁ¨¨‰∫åÁØá‰º†ÈÄÅÈó®</a></h1>
    </div>

    
    
    
        <div class="reward-container">
  <div></div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    Donate
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechat_pay.jpeg" alt="Jsonz WeChat Pay">
        <p>WeChat Pay</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/ali_pay.jpeg" alt="Jsonz Alipay">
        <p>Alipay</p>
      </div>

  </div>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/JavaScript/" rel="tag"># JavaScript</a>
              <a href="/tags/React/" rel="tag"># React</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2018-04-29/" rel="prev" title="2018-04-29Èù¢ËØïËÆ∞A">
      <i class="fa fa-chevron-left"></i> 2018-04-29Èù¢ËØïËÆ∞A
    </a></div>
      <div class="post-nav-item">
    <a href="/2018-05-08/" rel="next" title="2018-05-08Èù¢ËØïËÆ∞B">
      2018-05-08Èù¢ËØïËÆ∞B <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%BF%AB%E9%80%9F%E4%BA%86%E8%A7%A3"><span class="nav-number">1.</span> <span class="nav-text">Âø´ÈÄü‰∫ÜËß£</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-number">2.</span> <span class="nav-text">È°πÁõÆÂàùÂßãÂåñ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%96%AD%E7%82%B9%E8%B0%83%E8%AF%95"><span class="nav-number">3.</span> <span class="nav-text">ÈÖçÁΩÆÊñ≠ÁÇπË∞ÉËØï</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#vscode-debug"><span class="nav-number">3.1.</span> <span class="nav-text">vscode debug</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#node-%E8%B0%83%E8%AF%95"><span class="nav-number">3.2.</span> <span class="nav-text">node Ë∞ÉËØï</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%BC%80%E5%A7%8B%E6%96%AD%E7%82%B9%E9%98%85%E8%AF%BB%E6%BA%90%E7%A0%81"><span class="nav-number">4.</span> <span class="nav-text">ÂºÄÂßãÊñ≠ÁÇπÈòÖËØªÊ∫êÁ†Å</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#packages-create-react-app-index-js-github%E6%96%87%E4%BB%B6%E4%BC%A0%E9%80%81%E9%97%A8"><span class="nav-number">4.1.</span> <span class="nav-text">packages&#x2F;create-react-app&#x2F;index.js githubÊñá‰ª∂‰º†ÈÄÅÈó®</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#packages-create-react-app-createReactApp-js-github%E6%96%87%E4%BB%B6%E4%BC%A0%E9%80%81%E9%97%A8"><span class="nav-number">4.2.</span> <span class="nav-text">packages&#x2F;create-react-app&#x2F;createReactApp.js githubÊñá‰ª∂‰º†ÈÄÅÈó®</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#commander-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F"><span class="nav-number">4.2.1.</span> <span class="nav-text">commander ÂëΩ‰ª§Ë°åÂ§ÑÁêÜÁ®ãÂ∫è</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%9C%89%E4%BC%A0projectName"><span class="nav-number">4.2.2.</span> <span class="nav-text">Âà§Êñ≠ÊòØÂê¶Êúâ‰º†projectName</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9A%90%E8%97%8F%E7%9A%84-commander-%E5%8F%82%E6%95%B0"><span class="nav-number">4.2.3.</span> <span class="nav-text">ÈöêËóèÁöÑ commander ÂèÇÊï∞</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#createApp"><span class="nav-number">4.2.4.</span> <span class="nav-text">createApp</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#checkAppName-%E6%A3%80%E6%9F%A5projectName%E6%98%AF%E5%90%A6%E5%90%88%E6%B3%95"><span class="nav-number">4.2.5.</span> <span class="nav-text">checkAppName  Ê£ÄÊü•projectNameÊòØÂê¶ÂêàÊ≥ï</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shouldUseYarn-%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%9C%89%E8%A3%85yarn-%E5%90%8C%E7%90%86%E7%9A%84%E6%9C%89-checkThatNpmCanReadCwd-%E7%94%A8%E6%9D%A5%E5%88%A4%E6%96%ADnpm"><span class="nav-number">4.2.6.</span> <span class="nav-text">shouldUseYarn Âà§Êñ≠ÊòØÂê¶ÊúâË£Öyarn ÂêåÁêÜÁöÑÊúâ checkThatNpmCanReadCwd Áî®Êù•Âà§Êñ≠npm</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#run"><span class="nav-number">4.2.7.</span> <span class="nav-text">run</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#install"><span class="nav-number">4.2.8.</span> <span class="nav-text">install</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#node-modules-react-scripts-script-init-js"><span class="nav-number">4.3.</span> <span class="nav-text">&#x2F;node_modules&#x2F;react-scripts&#x2F;script&#x2F;init.js</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#END"><span class="nav-number">5.</span> <span class="nav-text">END~</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#create-react-app%E7%B3%BB%E5%88%97%E7%AC%AC%E4%BA%8C%E7%AF%87%E4%BC%A0%E9%80%81%E9%97%A8"><span class="nav-number">6.</span> <span class="nav-text">create-react-appÁ≥ªÂàóÁ¨¨‰∫åÁØá‰º†ÈÄÅÈó®</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Jsonz"
      src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">Jsonz</p>
  <div class="site-description" itemprop="description">ÂâçÁ´Øüë¥ü•¨üê£/JavaScript/React</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">49</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">32</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/jsonz1993/blog" title="Blog ‚Üí https:&#x2F;&#x2F;github.com&#x2F;jsonz1993&#x2F;blog" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>Blog</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:jsonz@qq.com" title="E-Mail ‚Üí mailto:jsonz@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://juejin.im/user/58dbb0b844d904006954ca8e" title="ÊéòÈáë ‚Üí https:&#x2F;&#x2F;juejin.im&#x2F;user&#x2F;58dbb0b844d904006954ca8e" rel="noopener" target="_blank"><i class="fa fa-bullseye fa-fw"></i>ÊéòÈáë</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://blog.hhking.cn/" title="hhking ‚Üí https:&#x2F;&#x2F;blog.hhking.cn" rel="noopener" target="_blank"><i class="fa fa-user-friends fa-fw"></i>hhking</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">Á≤§ICPÂ§á18066881Âè∑ </a>
  </div>

<div class="copyright">
  
  &copy; 2017 ‚Äì 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jsonz</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>




  
<script src="/js/local-search.js"></script>











<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  
  <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'http://jsonz1993.github.io/create-react-app-o/',]
      });
      });
  </script>

</body>
</html>
