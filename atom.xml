<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Jsonz1993</title>
  
  <subtitle>å‰ç«¯/JavaScript</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://jsonz1993.github.io/"/>
  <updated>2019-12-21T04:37:05.144Z</updated>
  <id>https://jsonz1993.github.io/</id>
  
  <author>
    <name>Jsonz</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>æˆ‘çš„2019</title>
    <link href="https://jsonz1993.github.io/2019/12/2019-end/"/>
    <id>https://jsonz1993.github.io/2019/12/2019-end/</id>
    <published>2019-12-15T17:48:12.000Z</published>
    <updated>2019-12-21T04:37:05.144Z</updated>
    
    <content type="html"><![CDATA[<p>è½¬çœ¼2019å‰©ä¸‹ 5% ä¸åˆ°äº†ï¼Œæ˜¯æ—¶å€™æ°´ä¸€ä¸‹æ€»ç»“</p><p>ä¸‹åˆåœ¨åšéƒ¨é—¨çš„ä¸‹åŠå¹´è¿°èŒPPTçš„æ—¶å€™ï¼Œæ‰å‘ç°è¿™ä¸‹åŠå¹´ä»€ä¹ˆäº‹æƒ…éƒ½æ²¡åšï¼Œåˆ’æ°´åˆ’è¿‡å»äº†ï¼Œç»“æœpptæ²¡å•¥å¥½å†™çš„ å¯æ¶ï¼</p><h1 id="å…³äºå­¦ä¹ "><a href="#å…³äºå­¦ä¹ " class="headerlink" title="å…³äºå­¦ä¹ "></a>å…³äºå­¦ä¹ </h1><p>ä¸å¾—ä¸è¯´ï¼Œä»Šå¹´ä¸‹åŠå¹´çš„é‡å¿ƒæ›´å¤šæ˜¯å€¾å‘å­¦ä¹ è¿™å—ï¼Œè™½ç„¶æ²¡æœ‰è¾¾åˆ°ç™¾åˆ†ä¹‹ç™¾ï¼Œä¸è¿‡ä¹Ÿç®—æ»¡æ„ï¼Œå•ƒäº†é«˜æ•°å’Œè®¡ç®—æœºåŸç†ã€‚</p><p>åŸå®šè¦è¿‡å…«ç§‘ï¼Œæ™®é€šé€»è¾‘ä¸ç”¨è€ƒï¼Œè¿‡äº†å…­ç§‘ ç®—æ˜¯è¿˜è¡Œã€‚</p><p>ä½†æ˜¯è‡ªä»åä¸€æœˆæˆç»©å…¬å¸ƒä»¥æ¥ï¼Œæ‡’æ‡’æ•£æ•£çš„ï¼Œä¹‹å‰ä¸ƒç‚¹æ—©èµ·çš„ä¹ æƒ¯ä¹Ÿæ²¡äº†â€¦è€Œä¸”ç°åœ¨æ¬åˆ°ç”Ÿæ€å›­ï¼Œä¸­åˆå’Œæ™šä¸Šå­¦ä¹ çš„åœ°æ–¹ä¹Ÿè¿˜æ²¡æ‰¾åˆ°åˆé€‚çš„ çœŸæ˜¯è®©äººæƒ†æ€…ã€‚<br>ä¸è¿‡ä¹Ÿè¿˜å¥½ï¼Œå¯ä»¥åˆ©ç”¨ä¸­åˆçš„æ—¶é—´æŠŠä¹‹å‰å¾®ä¿¡æ”¶è—çš„å‡ åç¯‡æ–‡ç« æ…¢æ…¢è¿‡ä¸€ä¸‹ã€‚</p><p>2020å®šçš„å­¦ä¹ è®¡åˆ’æ¯”ä»Šå¹´è¿˜è¦é‡ï¼Œäº”ä¸ªè€ƒè¯•å’Œä¸‰ä¸ªå®è·µï¼Œå½“ç«‹ä¸ªflagğŸš©ğŸš©ğŸš©ï¼Œæ—©ç‚¹æŠŠè¿™ä¸ªä¸œè¥¿æå®šæ‰èƒ½æŠŠå¿ƒæ€éƒ½æ”¾åœ¨å·¥ä½œä¸Šã€‚<br>è¿˜ç‰¹åœ°å¬äº†å´è‹ä¸‰èƒ–çš„è¯ï¼Œå»ä¹°äº†æœ¬æ–°æ¦‚å¿µ1ï¼Œæ‰“ç®—ä»å¤´å¼€å§‹å­¦è‹±è¯­ï¼ŒæŠŠè‹±è¯­ç»™è€ƒäº†ã€‚å¦‚æœæ˜¯æŒ‰ç…§ä¸‹åŠå¹´é‚£ä¸ªå­¦ä¹ çš„åŠ²å¤´å€’è¿˜å¯ä»¥å°è¯•ï¼Œå¦‚æœæ˜¯è¿™ä¸€ä¸ªæœˆæ¥çš„åˆ’æ°´çŠ¶æ€ï¼ŒçœŸçš„æ˜¯æµªè´¹æ—¶é—´ å¹å£æ°”åŠ æ²¹å§</p><h1 id="å…³äºå·¥ä½œ"><a href="#å…³äºå·¥ä½œ" class="headerlink" title="å…³äºå·¥ä½œ"></a>å…³äºå·¥ä½œ</h1><p>å¦‚æœè¯´å­¦ä¹ æ–¹é¢è¯„ä¸ºè‰¯å¥½çš„è¯ï¼Œå·¥ä½œåº”è¯¥ç®—æ˜¯ä¸åŠæ ¼å§ã€‚ å¹´ä¸­å®šçš„è®¡åˆ’ç°åœ¨ä¸€ä¸ªéƒ½æ²¡å®Œæˆï¼Œpptèƒ¡æçæéƒ½ä¸çŸ¥é“æ€ä¹ˆæï¼Œæ˜å¤©ä¸Šå°ä¹Ÿä¸çŸ¥é“èƒ½æ€ä¹ˆæ‰¯ä¸ªå…«åˆ†é’Ÿã€‚</p><p>ç®—æ˜¯é­æŒä¸€ä¸‹è‡ªå·±</p><ul><li>åŸç”ŸçŸ¥è¯†è¿˜æ˜¯åªæ‡‚æ¯›çš®ï¼Œå†™å†™demoï¼Œè‡ªå·±å°çš„é¡¹ç›®éƒ½åšä¸äº†ï¼Œå¤§å¤±è´¥ï¼</li><li>åå°çŸ¥è¯†åŸºæœ¬æ²¡æ¶‰åŠï¼Œä¸è¿‡ä¹Ÿä¸åœ¨è®¡åˆ’ä¹‹å†…</li><li>å‰ç«¯çŸ¥è¯†ï¼Œæ›´åŠ ç†Ÿç»ƒçš„æµæ°´å·¥è€Œå·²ï¼Œæ²¡å•¥çªç ´</li><li>å’Œéœœçˆ·ä¸€èµ·åšå¼€æºï¼Œåšäº†ä¸¤ä¸ªæ˜ŸæœŸå°±ä¸æ­ç†äººå®¶ å“ˆå“ˆå“ˆå“ˆï¼Œå†™pptçš„æ—¶å€™è¿˜å¯ä»¥è¹­ä¸ªåå­— ç¬‘æ­»</li></ul><p>éš¾æå“¦ã€‚</p><p>20å¹´çš„è¯ï¼Œemmmmmm åº”è¯¥ä¼šæ”¾ç‚¹ç²¾åŠ›åœ¨javaç«¯ï¼Œå¾—è·Ÿç€æœ‹å‹åšç‚¹å°é¡¹ç›®æ‰è¡Œï¼Œåº”ä»˜æ¯•ä¸šè®¾è®¡å’Œå®è·µè€ƒè¯•ï¼›ç„¶åå…¬å¸é¡¹ç›®ä¸Šè¾“å‡ºä¸€ç‚¹æ–‡ç« åˆ°kmï¼Œä¹Ÿå°è¯•ç€ä¸€èµ·å‚ä¸é¡¹ç›®è¡¨å•æ¨¡å¼è®¾è®¡ï¼›æœ€é‡è¦çš„æ˜¯å¾—æ‰¾åˆ°ä¸€ä¸ªå¯ä»¥çœŸæ­£å­¦ä¹ å®è·µçš„ç‚¹ï¼Œç°åœ¨æ‰¯ä»€ä¹ˆå…¨æ ˆæ˜¯æœ€ä¸é è°±çš„ã€‚</p><p>å…·ä½“çš„å¾—ç­‰å’Œè€å¤§æ²Ÿé€šæ‰çŸ¥é“ï¼Œä¸è¿‡çœŸçš„è¿™äº›äº‹æƒ…å¾—ä¸»åŠ¨ï¼Œè¿™æ¬¡ç®—æ˜¯åƒäº†ä¸ªæ•™è®­ã€‚</p><p>ä¸è¿‡ä»Šå¹´å€’æ˜¯å»å¬äº†å‡ åœºå†…éƒ¨çš„å°å‹åˆ†äº«ä¼šã€‚</p><p><img src="./mysql_maria.jpg" width="500"><br>MySQLå’ŒMariaDBä¹‹çˆ¶ Michael åˆ†äº«ï¼Œå…¨åœºå¬ä¸‹æ¥åªè®°å¾—ä»–è¯´çš„å‡ å¥è¯</p><blockquote><p>å¤§å¥³å„¿å« â€œMyâ€ æ‰€ä»¥ç¬¬ä¸€ä¸ªæ•°æ®åº“èµ·å<code>MySQL</code>ï¼ŒäºŒå¥³å„¿å«Mariaâ€¦æ‰€ä»¥åé¢å†™çš„æ•°æ®åº“å«<code>MariaDB</code>â€¦è¿™â€¦</p></blockquote><p><img src="./node_deno.jpg" width="500"><br>node.js å’Œ deno.jsä¹‹çˆ¶Ryan Dahl<br>æ‰¿è®¤denoè®¾æƒ³å¾ˆå¥½ï¼Œä½†æ˜¯æ²¡æœ‰ç”Ÿæ€æ³¨å®šä¸èƒ½å•†ä¸šåŒ–ï¼Œå¦‚æœå…¼å®¹nodeçš„è¯ï¼Œåˆå¾ˆéš¾æ’‡æ¸…å…³ç³»ï¼Œç°åœ¨nodeå·²ç»æœ‰æ…¢æ…¢é€šè¿‡å‡çº§æ”¹æ‰å¾ˆå¤šæ¯›ç—…ï¼Œå‰©ä¸‹çš„ç”¨ä¸€äº›å·¥å…·ä¹Ÿå¯ä»¥å®Œæˆï¼Œæ²¡å¿…è¦ç‰¹åœ°å¼€ä¸ªæ–°è¯­è¨€æ¥æ•´åˆï¼Œæ‰€ä»¥å¬å®Œè¿˜æ˜¯ä¸å¤§çœ‹å¥½ã€‚</p><h1 id="å…³äºå¥åº·"><a href="#å…³äºå¥åº·" class="headerlink" title="å…³äºå¥åº·"></a>å…³äºå¥åº·</h1><p>å“å‘€ï¼Œä»Šå¹´çœŸçš„å’Œç®—å‘½å…ˆç”Ÿè¯´çš„ä¸€æ ·ï¼Œè¿™å„¿ç–¼å“ªå„¿ç—›çš„ï¼ˆä¸€ä¸ªåšitçš„ä¼šç›¸ä¿¡ç®—å‘½å…ˆç”Ÿçš„è¯ï¼Œ æ²¡æƒ³åˆ°å§ (ï½ï¿£â–½ï¿£)ï½ ï¼‰ã€‚<br>å¼„äº†å‡ ä¸ªç‰™é½¿ï¼Œçœ‹äº†çš®è‚¤ç§‘ï¼Œæœ€åè¿˜å»ç†äº†è‚ èƒƒã€‚</p><p>å…¶ä»–è¿˜å¥½æš‚æ—¶å‘Šä¸€æ®µè½ï¼Œå°±æ˜¯èƒƒé•œè¿™ç©æ„çœŸä¸æ˜¯äººç…§çš„ï¼Œæœ€æœ‰å°è±¡çš„è¯æ˜¯åŒ»ç”Ÿçœ‹å®Œèƒƒé•œè¯´äº†å¥â€œå¹´çºªè½»è½»å°±èç¼©äº†â€ï¼Œå“ ä»¥åçˆ±æƒœèº«ä½“å’¯</p><p>çœ‹äº†ä¸‹ä»Šå¹´é™¤å»åˆ·åŒ»ä¿çš„é’±ä»¥å¤–ï¼Œçœ‹ç—…æ€»å…±èŠ±äº†å…«åƒå¤šâ€¦ä¸è¿‡é‡Œé¢æœ‰è€çˆ¸è€å¦ˆä½“æ£€è´¹ï¼Œæ‰€ä»¥ä¹Ÿæ²¡æœ‰é‚£ä¹ˆå¤¸å¼ ï¼Œåé¢ä¹°ä¸ªé‡ç–¾å•¥çš„ï¼Œåˆå¾—èŠ±é’±ã€‚</p><p>è‡³äº19å¹´çš„è¿åŠ¨è®¡åˆ’ï¼Œç­‰è€å‘½ä¿ä½å†è¯´å§ï¼Œç°åœ¨å…»èº«å¤šäº†ï¼Œå¯ä¹å’–å•¡éƒ½ä¸æ€ä¹ˆæ•¢å–ï¼Œå‘¨æœ«æ²¡äº‹éƒ½è¦å‡ºå»èµ°èµ°æ•£æ•£æ­¥ã€‚</p><h1 id="å…³äºå…¶ä»–"><a href="#å…³äºå…¶ä»–" class="headerlink" title="å…³äºå…¶ä»–"></a>å…³äºå…¶ä»–</h1><ul><li>å·¥èµ„çš„ç›®æ ‡ç®—æ˜¯è¾¾åˆ°äº†ï¼Œä¸è¿‡ä»¥å‰åœ¨å¹¿å·ï¼Œç°åœ¨åœ¨æ·±åœ³ï¼Œä¹Ÿæ²¡æœ‰å¤šå¾ˆå¤š å‹‰å‹‰å¼ºå¼ºã€‚ä¸è¿‡æ˜å¹´ä¸æ•¢å®šå·¥èµ„è®¡åˆ’äº†ï¼Œç°åœ¨æ²¡æŠ€æœ¯ï¼Œæ²¡å­¦å†æ··å£é¥­åƒå…ˆã€‚</li><li>æ‹¿äº†é©¾ç…§ï¼Œè¿˜è¡Œ è¿˜è¡Œ è™½ç„¶æ²¡è½¦ï¼Œä¸è¿‡æ€»ç®—å®Œæˆäº†ã€‚</li><li>åŸç”Ÿå¼€å‘çš„ç›®æ ‡ç®—æ˜¯é»„çš„å½»åº•</li><li>å­˜æ¬¾ä¸€æ–¹é¢åº”è¯¥æ˜¯å®šçš„åå°‘äº†ï¼Œå¦ä¸€æ–¹é¢æ˜¯è‚¡å¸‚å›è¡€äº†ä¸€ç‚¹ç‚¹ è¿˜è¡Œå‹‰å¼ºæ¥å— å“ˆå“ˆã€‚æœ¬æ¥å­˜ä¸ªä¸€ä¸¤ä¸‡ä¸æ˜¯å¾ˆæƒ³å†™è¿›æ¥ï¼Œåé¢æƒ³æƒ³è¿˜æ˜¯è¦æœ‰ä¸ªäº¤ä»£æ‰èƒ½ç»§ç»­ã€‚</li><li>è€ƒè¯•çš„è®¡ç®—ä¹Ÿç®—æ˜¯å¯ä»¥æ¥å—</li></ul><p>emmm è¿™ä¹ˆä¸€çœ‹ï¼Œå¥½åƒé™¤äº†ä½œæ¯ä¸è§„å¾‹ï¼Œå¥åº·æœ‰ç‚¹é—®é¢˜ï¼›ä»¥åŠå·¥ä½œæ²¡å•¥è¿›å–ä»¥å¤– å…¶ä»–éƒ½è¿˜è¡Œã€‚</p><p>ä¸è¿‡ç°åœ¨çš„ç„¦è™‘æ„Ÿä¸€å¹´æ¯”ä¸€å¹´æ›´å¼ºï¼Œæƒ³æƒ³æ±•å¤´çš„æœ‹å‹å‡ ä¸ªéƒ½ç»“å©šå°å­©éƒ½æœ‰äº†ï¼ŒæŸå¤å°‘ä¹Ÿæ˜¯ï¼Œå†çœ‹çœ‹è‡ªå·±æˆ¿å­æ²¡æœ‰ï¼Œè€å©†æ²¡æœ‰ï¼Œè½¦å­æ²¡æœ‰ï¼Œç¥¨å­ä¹Ÿæ²¡æœ‰ã€‚<br>å½“ç„¶æœ€å¤§çš„ç„¦è™‘å…¶å®æ˜¯æ€•è„šæ­¥èµ¶ä¸ä¸Šè€çˆ¸è€å¦ˆè€å»çš„é€Ÿåº¦ã€‚<br>ä»Šå¤©ä¸‹åˆè€å¦ˆåœ¨ç¾¤é‡Œé—®æˆ‘å’Œè€å§ï¼Œå®¶é‡Œä¸è¦çš„è¡£æœå¯ä¸å¯ä»¥æ‹¿å»æäº†ï¼Ÿ<br>è¿™äº‹è®©æˆ‘æœ‰ç‚¹æ¿€åŠ¨ï¼Œæˆ‘ä»¬åœ¨å­¦ä¹ è¿›æ­¥çš„æ—¶å€™ è€å¦ˆå­ä¹Ÿä¸æ—¶ä¿±è¿›ï¼Œè‡³å°‘ä»Šå¹´å­¦ä¼šå¾®ä¿¡ç®€å•æ“ä½œï¼Œå¹³æ—¶è§†é¢‘èŠå¤©å•¥çš„æ²¡æ¯›ç—…ï¼ŒçœŸå¥½ ç§‘æŠ€æ”¹å˜ç”Ÿæ´»ã€‚</p><hr><p>å‰å‡ å¤©å¤§å­¦å‡ ä¸ªæœ‹å‹åœ¨ç¾¤é‡ŒèŠå¤©ï¼Œä¸€ä¸ªè¯´åˆ°ï¼š</p><blockquote><p>ç®—ä¸€ç®—ï¼Œèƒ½é™ªçˆ¶æ¯çš„æ—¶é—´å¯èƒ½ä¹Ÿå°±åå‡ å¹´äº†ï¼Œè¿™ä¹ˆä¸€æƒ³å¥½åƒä¸€ä¸‹å­æ— æ³•æ¥å—ã€‚æƒ³æ—©ç‚¹æˆå®¶æ»¡è¶³å®¶é‡ŒäººæŠ±å­™å­çš„æ„¿æœ›</p></blockquote><p>æ˜¯å•Šï¼Œåƒæˆ‘ç°åœ¨åœ¨å¤–é¢çš„ï¼Œæ—¶é—´æ›´å°‘ï¼Œä»¥åä¹Ÿä¸çŸ¥é“å®šå±…åœ¨å“ªé‡Œã€‚å”¯æœ‰å°‘ç©ç‚¹æ¸¸æˆï¼Œå°‘åˆ·ç‚¹æŠ–éŸ³å‡å°‘è´Ÿç½ªæ„Ÿã€‚</p><p>è¯´åˆ°æ¸¸æˆå’ŒæŠ–éŸ³ï¼Œæœ€è¿‘ä¸€ä¸ªæœˆå°±æ˜¯å› ä¸ºè¿™ä¸¤ä¸ªç©æ„æå¾—æ— å¿ƒå­¦ä¹ ï¼Œè¿™ç©æ„å¯¹æˆ‘è¿™ä¸ªæ¯«æ— è‡ªåˆ¶åŠ›çš„äººæ¥è¯´å¤ªå¯æ€•äº†ï¼Œè®°å¾—æœ‰ä¸€å¤©ç©åˆ°æ™šä¸Šå››ç‚¹ï¼Œéš”å¤©èµ·åºŠç«‹é©¬æŠŠæ¸¸æˆå¸äº†ï¼Œæ§åˆ¶ä¸ä½è‡ªå·±çš„è¯ï¼Œè‡³å°‘å¯ä»¥æé«˜ç©çš„æˆæœ¬ã€‚</p><p>è¿˜æœ‰å°±æ˜¯æŠ–éŸ³ï¼Œè®°å¾—ä¹‹å‰çœ‹è¿‡ä¸€ä¸ªå…¬ä¼—å·å°±æ˜¯è¯´è¿™ä¸ªçš„ï¼Œè¿™ç§åŸºäºæ¨èç³»ç»Ÿçš„è½¯ä»¶éƒ½ä¸æ˜¯ä»€ä¹ˆå¥½è½¯ä»¶ï¼Œç‰¹åˆ«å®¹æ˜“æ²‰è¿·ã€‚<br>ä¸è¿‡æŠ–éŸ³æœ‰ä¸€ä¸ªç§¯æçš„æ–¹é¢å°±æ˜¯ä»¥åå¯ä»¥æœ‰ä»€ä¹ˆå°tipå°±åœ¨ä¸Šé¢æœä¸€ä¸‹ï¼Œ ç®—åŠä¸ªçŸ¥ä¹ï¼Œå®ç”¨æŠ€å·§å•Šï¼Œç§‘æ™®å•¥çš„åº”è¯¥è¿˜è¡Œï¼Œå…ˆç•™ç€å§ã€‚</p><p>å†å¨ä¸¤å¥ï¼Œä¸‹åˆæ•£æ­¥çš„æ—¶å€™åˆ·çŸ¥ä¹çœ‹åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå¤§æ¦‚æ˜¯:</p><blockquote><p>å¤§å­¦æœ¬ç§‘ï¼ŒåŒå­¦éƒ½ä½œå¼Šï¼Œæˆ‘æ²¡æœ‰ä½œå¼Šï¼Œæˆ‘å¾—åˆ°ä»€ä¹ˆï¼Ÿ</p></blockquote><p>æœ‰ä¸€ä¸ªå›ç­”å†™çš„æ˜¯ä»€ä¹ˆéƒ½æ²¡æœ‰å¾—åˆ°ã€‚çœ‹åˆ°è¿™ä¸ªæ ‡é¢˜çš„æ—¶å€™ï¼Œæˆ‘æ˜¯æŒºæœ‰æ„Ÿè§¦çš„ï¼Œå› ä¸ºæˆ‘ä¹Ÿæ˜¯è¿™ç±»äººï¼Œè™½ç„¶ä¸æ˜¯è¯´ä»å°åˆ°å¤§æ²¡æœ‰ä½œå¼Šè¿‡ï¼Œä½†æ˜¯è‡ªè®¤ä¸ºå¾ˆå¤šæ—¶å€™è¿˜æ˜¯æ¯”è¾ƒæ­£æ´¾è€¿ç›´ï¼ˆå…¶å®å°±æ˜¯èƒ†å°ï¼‰ï¼Œæ‰€ä»¥å¯èƒ½ä¼šé”™å¤±å¾ˆå¤šæ·å¾„æˆ–æœºä¼šã€‚</p><p>æƒ³æƒ³ä»–ä»¬ä½œå¼Šçš„äººä»¥åç»å¤§éƒ¨åˆ†æ˜¯ä¸ä¼šå¾—åˆ°ä»€ä¹ˆé¬¼æŠ¥åº”ï¼Œè€Œæˆ‘åšæŒä¸ä½œå¼Šä¹Ÿä¸ä¼šæœ‰ä»€ä¹ˆå¥½å¤„ï¼Œå½“ç„¶çœ‹è¿™ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œæƒ³çš„è‚¯å®šä¸åªæ˜¯ä½œå¼Šçš„é—®é¢˜ï¼Œå¯ä»¥å»¶ä¼¸åˆ°ç”Ÿæ´»ä¸­çš„å„ä¸ªåœºæ™¯ï¼Œæ‰€ä»¥æœ‰æ—¶å€™è§‰å¾—è¿™ç§è€å®å·´äº¤çš„äººï¼Œæ´»è¯¥èµšä¸äº†é’±ã€‚</p><p>çœŸæƒ³2020å¹´å¯ä»¥å­¦ä¼šç‹¡çŒ¾ï¼Ÿå¥¸è¯ˆï¼Ÿä¸€ç‚¹ï¼Ÿ ä½ çœ‹ï¼Œè¿ä¸€ä¸ªè¤’ä¹‰çš„è¯éƒ½æƒ³ä¸å‡ºä¸€ä¸ªï¼Œç”¨åœ†æ»‘å§ã€‚</p><p>æ‰€ä»¥2020å¹´å…³é”®å­—æ˜¯ï¼š<strong>è‡ªè€ƒ</strong> <strong>å¥åº·</strong> <strong>è‹±è¯­</strong> <strong>ä¸“ä¸š</strong>ã€‚</p><p>æœ€åçš„æœ€åï¼Œæ”¾å¤šä¸€å¼ ç…§ç‰‡ï¼Œä»Šå¤©ä¸‹åˆæ•£æ­¥æ‹çš„ï¼Œåˆšå¥½çœ‹åˆ°å·¦ä¸Šè§’æœ‰ä¸€ç¾¤å°é¸Ÿåœ¨é£ã€‚<br>å¸Œæœ›èƒ½å’Œè¿™äº›å°é¸Ÿä¸€æ ·ï¼Œåœ¨å¤§åŸå¸‚æœ‰ä¸ªè‡ªå·±çš„å°è§’è½ã€‚<br><img src="./2019_end.jpeg" width="500"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è½¬çœ¼2019å‰©ä¸‹ 5% ä¸åˆ°äº†ï¼Œæ˜¯æ—¶å€™æ°´ä¸€ä¸‹æ€»ç»“&lt;/p&gt;
&lt;p&gt;ä¸‹åˆåœ¨åšéƒ¨é—¨çš„ä¸‹åŠå¹´è¿°èŒPPTçš„æ—¶å€™ï¼Œæ‰å‘ç°è¿™ä¸‹åŠå¹´ä»€ä¹ˆäº‹æƒ…éƒ½æ²¡åšï¼Œåˆ’æ°´åˆ’è¿‡å»äº†ï¼Œç»“æœpptæ²¡å•¥å¥½å†™çš„ å¯æ¶ï¼&lt;/p&gt;
&lt;h1 id=&quot;å…³äºå­¦ä¹ &quot;&gt;&lt;a href=&quot;#å…³äºå­¦ä¹ &quot; class=&quot;headerli
      
    
    </summary>
    
      <category term="technology" scheme="https://jsonz1993.github.io/categories/technology/"/>
    
    
      <category term="live" scheme="https://jsonz1993.github.io/tags/live/"/>
    
  </entry>
  
  <entry>
    <title>æœåŠ¡ç«¯å…¥é—¨æ±‡æ€»</title>
    <link href="https://jsonz1993.github.io/2019/12/server-beginner/"/>
    <id>https://jsonz1993.github.io/2019/12/server-beginner/</id>
    <published>2019-12-01T22:47:39.000Z</published>
    <updated>2019-12-21T04:37:05.152Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™é‡Œåªæœ‰ç®€å•çš„æœåŠ¡ç«¯å…¥é—¨ä¸œè¥¿æ²¡å•¥å¥½çœ‹â€¦</p><hr><h1 id="redis-å®‰è£…"><a href="#redis-å®‰è£…" class="headerlink" title="redis å®‰è£…"></a>redis å®‰è£…</h1><p>ç”±äºé¡¹ç›®ä¸Šåå°ç”¨åˆ°redisï¼Œå¦‚æœå¼€å‘ä¸‹å¤§å®¶ç”¨åŒä¸€ä¸ªå®¹æ˜“è¢«äººæ”¹æ•°æ®ï¼Œé€ æˆå¥‡è‘©çš„äº‹æƒ…ï¼Œæ‰€ä»¥æœ¬åœ°æ­äº†ä¸€ä¸ªè‡ªå·±ç©ã€‚</p><p>è®°å½•ä¸€ä¸‹æœ¬åœ°brewå®‰è£…redisçš„è¿‡ç¨‹</p><p>æŒ‰ç€å®˜ç½‘è¯´æ˜ä¸‹è½½å®‰è£… <a href="https://redis.io/download" target="_blank" rel="noopener">https://redis.io/download</a></p><p>macä¸‹å»ºè®®ç›´æ¥ç”¨brewç®¡ç†</p><ol><li><code>brew install redis</code></li><li>å¯ä»¥ç”¨ <code>brew list redis</code>æŸ¥çœ‹rediså®‰è£…çš„ä½ç½®</li><li>brew å®‰è£…çš„è½¯ä»¶ï¼Œé…ç½®ä¸€èˆ¬éƒ½åœ¨<code>/usr/local/etc</code>ï¼Œå¯ä»¥ç›´æ¥è¿›å»ä¿®æ”¹é…ç½®</li></ol><p>å®‰è£…å®Œä¹‹åï¼Œç›´æ¥æ ¹æ®æç¤º <code>brew services start xxxx(redis)</code> æˆ–è€…æ”¹å®Œé…ç½®è¦é‡å¯reids <code>brew services restart xxx(redis)</code>ã€‚è¿™äº›éƒ½æ˜¯ brew çš„å¸¸è§„æ“ä½œäº†</p><p>é…ç½®çš„è¯ï¼Œæˆ‘è¿™è¾¹æ ¹æ®é¡¹ç›®æ²¡ä»€ä¹ˆéœ€è¦æ”¹çš„ï¼Œç«¯å£ç›´æ¥ç”¨é»˜è®¤ç«¯å£ï¼Œå°±è®¾äº†ä¸ªå¯†ç ï¼Œæœ¬æ¥æœ¬åœ°è·‘æƒ³ç›´æ¥æŠŠå¯†ç å†™åœ¨ conf æ–‡ä»¶ï¼Œæƒ³æƒ³è¿™æ ·æ˜¾å¾—å¤ªä¸ä¸“ä¸šäº†ï¼Œå»ºè®®ç›´æ¥ç”¨commitè®¾ç½®</p><p>å‘½ä»¤è¡Œè·‘<code>redis-cli</code> ç„¶åè¾“å…¥ <code>CONFIG SET requirepass $YOUR_PASSWORD</code><br>å¦‚æœè¿™æ—¶å€™è¾“å‡º <code>ok</code> åˆ™è®¾ç½®æˆåŠŸ å¯ä»¥ç”¨ <code>AUTH $YOUR_PASSWORD</code> æ¥æ ¡éªŒã€‚</p><p>ä¸€åˆ‡okä¹‹åï¼Œé”®å…¥ exit é€€å‡º redis-cliï¼Œç»“æŸã€‚</p><hr><h1 id="SSH-é…ç½®"><a href="#SSH-é…ç½®" class="headerlink" title="SSH é…ç½®"></a>SSH é…ç½®</h1><p>æœ¬æ–‡åªæ˜¯å•çº¯åˆ†äº«ä¸‹æ€ä¹ˆé…ç½® å…å¯†ç™»å½•æœåŠ¡å™¨ä»¥åŠgithub cloneï¼Œå’Œç½‘ä¸Š99%æ²¡å·®å¼‚ï¼Œåªæ˜¯æ•´ç†ä¸€ä¸‹åé¢å¦‚æœåˆéœ€è¦çš„è¯å¯ä»¥çœ‹</p><p>åªé€‚ç”¨äºmacï¼Œlinuxåº”è¯¥ä¹Ÿé€‚ç”¨</p><p><strong>åŸºæœ¬é…ç½®</strong></p><ol><li>åˆ›å»º.sshç›®å½• <code>mkdir -p ~/.ssh</code></li><li>åˆ›å»ºç§˜é’¥ <code>ssh-keygen -t rsa -b 4096 -C &quot;your_email@example.com&quot;</code> è¾“å®Œç›´æ¥æ•²å›è½¦å³å¯</li><li>æ­¤æ—¶ä½ çš„ <code>~/.ssh</code>å°±ä¼šå¤šäº†å‡ ä¸ªæ–‡ä»¶ id_rsaä¸id_rsa.pubåˆ†åˆ«æ˜¯å…¬é’¥å’Œç§é’¥</li><li>ç§é’¥è‡ªå·±ç•™ç€ï¼Œå…¬é’¥å¦‚æœä½ æƒ³è¦å…å¯†ç™»å½•å“ªå°æœåŠ¡å™¨å°±æ‹·è´åˆ°é‚£å°æœåŠ¡å™¨çš„<code>authorized_keys</code>é‡Œé¢</li></ol><p>å¦‚æœä½ çš„æœºå™¨æœ¬æ¥å°±æœ‰ id_rsa ä¸ id_rsa.pub åˆ™å¯ä»¥ç›´æ¥è·³è¿‡1ï¼Œ2ï¼Œ3æ­¥ã€‚</p><p>å¦‚æœä½ æœ‰ç§é’¥çš„è¯ï¼Œä½ å¯èƒ½éœ€è¦æœ‰ä¸€ä¸ª <code>.ssh/config</code> æ–‡ä»¶ç”¨æ¥å­˜å‚¨ä½ çš„ç§˜é’¥é…ç½®ï¼Œå…³äºè¿™å—åé¢æœ‰ç”¨åˆ°æˆ‘å†æ¥è¡¥å……</p><p>å…³äºç¬¬å››æ­¥æ‹·è´åˆ°è¿œç¨‹æœºå™¨çš„<code>authorized_keys</code>é‡Œé¢ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å‘½ä»¤<code>ssh-copy-id user@host</code>æˆ–è€…<code>ssh user@host &#39;mkdir -p .ssh &amp;&amp; cat &gt;&gt; .ssh/authorized_keys&#39; &lt; ~/.ssh/id_rsa.pub</code></p><p><strong>githubé…ç½®</strong></p><p>è‡³äºgithubå…¶å®ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯ä»–çš„ <code>authorized_keys</code> æ˜¯ç”¨è®¾ç½®æ¥é…ç½®ï¼Œå…·ä½“åœ¨ä¸ªäºº <a href="https://github.com/settings/keys" target="_blank" rel="noopener"><code>setting/ssh</code></a>é‡Œé¢</p><p><strong>ç®€å•åŸç†</strong></p><p>æœ€åSSHçš„åŸç†ç®€å•å¯ä»¥è¿™ä¹ˆç†è§£<br>æˆ‘ç”Ÿæˆäº†ä¸€ä¸ªç§é’¥å’Œä¸€ä¸ªå…¬é’¥ï¼Œç§é’¥å­˜æ”¾åœ¨æœ¬åœ°ï¼Œå…¬é’¥æ”¾åˆ°è¿œç¨‹æœºå™¨ä¸Š<br>å½“æˆ‘é“¾æ¥è¿œç¨‹æœºå™¨çš„æ—¶å€™ï¼Œæœºå™¨å°±ä¼šå‘ä¸€ä¸²éšæœºå­—ç¬¦ä¸²ç»™æˆ‘ï¼Œæˆ‘ç”¨ç§é’¥åŠ å¯†åªä¼šå†å‘å›å»ã€‚<br>è¿œç¨‹ä¸»æœºå†ç”¨å­˜æ”¾åœ¨ <code>authorized_keys</code> çš„å…¬é’¥å»è§£å¯†ï¼Œå¦‚æœæˆåŠŸä¸”åŒ¹é…ï¼Œæ„å‘³ç€è¿™ä¸ªç”¨æˆ·æ˜¯å¯ä¿¡ä»»çš„ã€‚</p><p><strong>ç›¸å…³å‚è€ƒ or æ”¶è—é“¾æ¥</strong></p><p><a href="https://www.ruanyifeng.com/blog/2011/12/ssh_remote_login.html" target="_blank" rel="noopener">SSHåŸç†ä¸è¿ç”¨ï¼ˆä¸€ï¼‰ï¼šè¿œç¨‹ç™»å½•</a><br><a href="https://help.github.com/en/github/authenticating-to-github/connecting-to-github-with-ssh" target="_blank" rel="noopener">githubå…³äºssh</a><br><a href="https://shanyue.tech/op/init.html" target="_blank" rel="noopener">æœåŠ¡å™¨ç™»å½•ç›¸å…³</a></p><p><a href="https://shanyue.tech/op/" target="_blank" rel="noopener">æœåŠ¡å™¨åŸºç¡€æ•™ç¨‹</a> è¿™æ˜¯ä¸ªå¥½æ•™ç¨‹ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ä¸€äº›å…¥é—¨çº§çš„ä¸œè¥¿ å¯¹æ–°æ‰‹å¾ˆå‹å¥½</p><hr>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¿™é‡Œåªæœ‰ç®€å•çš„æœåŠ¡ç«¯å…¥é—¨ä¸œè¥¿æ²¡å•¥å¥½çœ‹â€¦&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;redis-å®‰è£…&quot;&gt;&lt;a href=&quot;#redis-å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;redis å®‰è£…&quot;&gt;&lt;/a&gt;redis å®‰è£…&lt;/h1&gt;&lt;p&gt;ç”±äºé¡¹ç›®ä¸Šåå°ç”¨åˆ°redis
      
    
    </summary>
    
      <category term="technology" scheme="https://jsonz1993.github.io/categories/technology/"/>
    
    
      <category term="github" scheme="https://jsonz1993.github.io/tags/github/"/>
    
      <category term="server" scheme="https://jsonz1993.github.io/tags/server/"/>
    
  </entry>
  
  <entry>
    <title>React Hooksé£Ÿç”¨æŒ‡å—</title>
    <link href="https://jsonz1993.github.io/2019/08/react-hooks/"/>
    <id>https://jsonz1993.github.io/2019/08/react-hooks/</id>
    <published>2019-08-14T00:35:37.000Z</published>
    <updated>2019-12-21T04:37:05.144Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/jsonz1993/react-source-learn" target="_blank" rel="noopener">react16 Hooksé£Ÿç”¨æŒ‡å—</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://github.com/jsonz1993/react-source-learn&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;react16 Hooksé£Ÿç”¨æŒ‡å—&lt;/a&gt;&lt;/p&gt;

      
    
    </summary>
    
      <category term="technology" scheme="https://jsonz1993.github.io/categories/technology/"/>
    
    
      <category term="github" scheme="https://jsonz1993.github.io/tags/github/"/>
    
      <category term="React" scheme="https://jsonz1993.github.io/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>hello angular1.5</title>
    <link href="https://jsonz1993.github.io/2019/04/hello-angular1-5/"/>
    <id>https://jsonz1993.github.io/2019/04/hello-angular1-5/</id>
    <published>2019-04-24T10:27:33.000Z</published>
    <updated>2019-12-21T04:37:05.144Z</updated>
    
    <content type="html"><![CDATA[<p><a href="http://docs.ngnice.com/guide/filter" target="_blank" rel="noopener">http://docs.ngnice.com/guide/filter</a><br><a href="https://devdocs.io/angularjs~1.5/api/ng/directive" target="_blank" rel="noopener">https://devdocs.io/angularjs~1.5/api/ng/directive</a><br><a href="https://code.angularjs.org/1.5.3/docs/guide" target="_blank" rel="noopener">https://code.angularjs.org/1.5.3/docs/guide</a></p><p>ç»„ä»¶ã€æ§åˆ¶å™¨ã€æœåŠ¡ã€æŒ‡ä»¤ã€è¿‡æ»¤å™¨<br>å¯¹åº”é¡¹ç›®ä¸Šçš„ componentsã€modulesã€servicesã€xxã€filter</p><p>æ§åˆ¶å™¨ ng-controller =&gt; create scope<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆå§‹åŒ–ï¼Œæ¶‰åŠ scope root ä½œç”¨åŸŸç­‰å¾…</span></span><br><span class="line"><span class="keyword">var</span> App = angular.module(<span class="string">'app'</span>, []);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ§åˆ¶å™¨ C å°† M å’Œ V ç»‘å®š(MVC)</span></span><br><span class="line">App.controller(<span class="string">'ctrl'</span>, $scope=&gt; &#123;</span><br><span class="line">  $scope.data= &#123;&#125;;</span><br><span class="line">  <span class="comment">// ä¸å»ºè®®ç›´æ¥ç”¨ $scope.message = ''; æ”¹åŠ¨çš„è¯ï¼Œå†…å­˜åœ°å€æ”¹å˜å®¹æ˜“å¯¼è‡´ngä¸èƒ½è§¦å‘ç›‘å¬</span></span><br><span class="line">  $scope.onClick = <span class="function"><span class="params">()</span>=&gt;</span> &#123;&#125;; <span class="comment">// `ng-click="onClick"`</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>åŒå‘ç»‘å®š: <code>ng-model</code><br>æ¡ä»¶åˆ¤æ–­: <code>ng-if</code>ã€<code>ng-show</code>ã€<code>ng-hide</code><br>å¾ªç¯: <code>ng-repeat</code> <code>ng-repeat=&quot;x in xx&quot; $index, x.xxx</code></p><p>//è¿‡æ»¤å™¨<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">App.filter(<span class="string">'xxxx'</span>, ()=&gt; <span class="function"><span class="params">text</span>=&gt;</span> textFilter);</span><br><span class="line"><span class="string">`&#123;&#123; data.message | xxxxFilter &#125;&#125;`</span></span><br><span class="line"><span class="comment">// æœç´¢ `ng-repeat="x in xxxx | filter: searchText"`</span></span><br><span class="line">searchText = [<span class="string">'T'</span>, &#123;<span class="attr">name</span>: <span class="string">'T'</span>&#125;, &#123;<span class="attr">name</span>: <span class="string">'T'</span>, <span class="attr">last</span>: <span class="string">'H'</span>&#125;];</span><br></pre></td></tr></table></figure></p><p>æ ·å¼é€‰æ‹©å™¨ <code>ng-class</code>,<code>ng-style</code><br>ä¸‹æ‹‰åˆ—è¡¨é€‰é¡¹ <code>ng-options</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$scope.colors = [</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'black'</span>, <span class="attr">color</span>: <span class="string">'black'</span>&#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'white'</span>, <span class="attr">color</span>: <span class="string">'white'</span>&#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"FirstCtrl"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">ng-model</span>=<span class="string">"colorChoosen"</span> <span class="attr">ng-options</span>=<span class="string">"color.name for color in colors"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>ng-include</code>å’Œ<code>ng-template</code><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-include</span>=<span class="string">"views/part.html"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-include</span>=<span class="string">"template.url"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-include</span>=<span class="string">"getUrl()"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ng-include</span> <span class="attr">src</span>=<span class="string">"views/part.html"</span>&gt;</span><span class="tag">&lt;/<span class="name">ng-include</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p><a href="https://devdocs.io/angularjs~1.5/api/ng/directive/nginclude" target="_blank" rel="noopener">æ›´å¤š</a></p><p>directive<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åå­—å‘½åç”¨é©¼å³°ï¼Œä½¿ç”¨ç”¨-</span></span><br><span class="line">App.directive(<span class="string">'people'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    restrict: <span class="string">'E'</span>, <span class="comment">// ç±»å‹ element A: attribute, C: class</span></span><br><span class="line">    replace: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦ç›´æ¥ä»£æ›¿é¡¶çº§æ ‡ç­¾</span></span><br><span class="line">    template: <span class="string">'xxx'</span> <span class="comment">// `templateUrl`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">.directive(<span class="string">'te'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    scope: &#123;</span><br><span class="line">      <span class="comment">// = å¯¹è±¡; @ æ–‡æœ¬; &amp; å‡½æ•°</span></span><br><span class="line">      info: <span class="string">'='</span> <span class="comment">// ä» attr ä¸­è·å– info å±æ€§ï¼Œå­˜å‚¨åˆ° scope.infoä¸­,, åŒå‘æ•°æ®ç»‘å®šï¼Œæ”¹æˆ@ ä¸ºåªè¯».</span></span><br><span class="line">    &#125;,</span><br><span class="line">    link(scope, element, attrs) &#123;</span><br><span class="line">      <span class="comment">// scope ä½œç”¨åŸŸ</span></span><br><span class="line">      <span class="comment">// element å°è£…è¿‡çš„é¡µé¢domã€‚ element.children('h1').addClass('text')</span></span><br><span class="line">      <span class="comment">// attrs ä¼ å…¥çš„æ‰€æœ‰ attrs</span></span><br><span class="line">    &#125;,</span><br><span class="line">    transclude: <span class="literal">true</span>, <span class="comment">// æŠŠ directive å˜æˆä¸€ä¸ªå®¹å™¨ è¿™é‡Œæœ‰ç‚¹åƒ React.children çš„æ¦‚å¿µï¼Œæˆ–è€…vueé‡Œé¢çš„ slot</span></span><br><span class="line">    template: <span class="string">`xxxxx&lt;div ng-transclude&gt;&lt;/div&gt;`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™é‡Œä¼ å…¥äº† data</span></span><br><span class="line">&lt;div te=<span class="string">"data"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p><p>ngè¡¨å•ï¼ŒéªŒè¯ç­‰</p><p>ä½œç”¨åŸŸå¹¿æ’­<code>broadcasted</code>çˆ¶çº§=&gt;å­çº§ï¼›<code>emitted</code>å­çº§=&gt; çˆ¶çº§</p><p>filter è‡ªå®šä¹‰ç­›é€‰å™¨<br>data binding åŒå‘ç»‘å®š<br>dependency injection å¼•æ¥æ³¨å…¥<br>ng-src directive å†…ç½®æŒ‡ä»¤<br>event ng-click äº‹ä»¶ç³»ç»ŸæŒ‡ä»¤</p><p>server æ³¨å…¥è‡ªå®šä¹‰server<br>  angular.module(â€˜xxxxâ€™, [])<br>    .factory(â€˜serverNameâ€™, [], fn)</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;http://docs.ngnice.com/guide/filter&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://docs.ngnice.com/guide/filter&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://
      
    
    </summary>
    
      <category term="technology" scheme="https://jsonz1993.github.io/categories/technology/"/>
    
    
      <category term="github" scheme="https://jsonz1993.github.io/tags/github/"/>
    
  </entry>
  
  <entry>
    <title>Dartæ ¸å¿ƒåº“å¸¸è§æ–¹æ³•å­¦ä¹ </title>
    <link href="https://jsonz1993.github.io/2019/04/dart-library/"/>
    <id>https://jsonz1993.github.io/2019/04/dart-library/</id>
    <published>2019-04-18T18:00:31.000Z</published>
    <updated>2019-12-21T04:37:05.144Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>è¿™å‡ ç¯‡å…³äºDartçš„æ–‡ç« ï¼Œåªæ˜¯åœ¨çœ‹å®˜ç½‘æ•™ç¨‹çš„æ—¶å€™æ•²ä¸€éå·©å›ºè®°å¿†è€Œå†™çš„</p></blockquote><h1 id="Dart-core"><a href="#Dart-core" class="headerlink" title="Dart:core"></a>Dart:core</h1><p>æ¯ä¸ªæ–‡ä»¶éƒ½ä¼šé»˜è®¤å¼•å…¥è¿™ä¸ªåŒ…ï¼ŒåŒ…æ‹¬numbers,collections,stringsç­‰ç­‰</p><h1 id="print"><a href="#print" class="headerlink" title="print"></a>print</h1><p>æ‰“å°ï¼Œé»˜è®¤ä¼šè°ƒç”¨æ‰“å°çš„å¯¹è±¡çš„ <code>toString</code> æ–¹æ³•<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(anObject)</span><br><span class="line"><span class="keyword">const</span> name = <span class="string">'Jsonz'</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">'I\'m <span class="subst">$name</span>'</span>);</span><br></pre></td></tr></table></figure></p><h1 id="Numbers"><a href="#Numbers" class="headerlink" title="Numbers"></a>Numbers</h1><h2 id="parse"><a href="#parse" class="headerlink" title="parse"></a>parse</h2><p>è§£ææŠŠå­—ç¬¦ä¸²è½¬ä¸ºæ•°å­—<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">assert</span>(<span class="built_in">int</span>.parse(<span class="string">'42'</span>) == <span class="number">42</span>);</span><br><span class="line"><span class="keyword">assert</span>(<span class="built_in">int</span>.parse(<span class="string">'0x42'</span>) == <span class="number">66</span>);</span><br><span class="line"><span class="keyword">assert</span>(<span class="built_in">double</span>.parse(<span class="string">'0.50'</span>) == <span class="number">0.5</span>);</span><br><span class="line"><span class="keyword">assert</span>(<span class="built_in">num</span>.parse(<span class="string">'42'</span>) <span class="keyword">is</span> <span class="built_in">int</span>);</span><br><span class="line"><span class="keyword">assert</span>(<span class="built_in">num</span>.parse(<span class="string">'0x42'</span>) <span class="keyword">is</span> <span class="built_in">int</span>);</span><br><span class="line"><span class="keyword">assert</span>(<span class="built_in">num</span>.parse(<span class="string">'0.50'</span>) <span class="keyword">is</span> <span class="built_in">double</span>);</span><br><span class="line"><span class="keyword">assert</span>(<span class="built_in">int</span>.parse(<span class="string">'42'</span>, radix: <span class="number">16</span>) == <span class="number">66</span>);</span><br></pre></td></tr></table></figure></p><h2 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a>toString</h2><p>å°†æ•°å­—è½¬ä¸ºå­—ç¬¦ä¸²<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Convert an int to a string.</span></span><br><span class="line"><span class="keyword">assert</span>(<span class="number">42.</span>toString() == <span class="string">'42'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Convert a double to a string.</span></span><br><span class="line"><span class="keyword">assert</span>(<span class="number">123.456</span>.toString() == <span class="string">'123.456'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Specify the number of digits after the decimal.</span></span><br><span class="line"><span class="keyword">assert</span>(<span class="number">123.456</span>.toStringAsFixed(<span class="number">2</span>) == <span class="string">'123.46'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Specify the number of significant figures.</span></span><br><span class="line"><span class="keyword">assert</span>(<span class="number">123.456</span>.toStringAsPrecision(<span class="number">2</span>) == <span class="string">'1.2e+2'</span>);</span><br><span class="line"><span class="keyword">assert</span>(<span class="built_in">double</span>.parse(<span class="string">'1.2e+2'</span>) == <span class="number">120.0</span>);</span><br></pre></td></tr></table></figure></p><h1 id="String"><a href="#String" class="headerlink" title="String"></a>String</h1><h2 id="search-inside-a-string"><a href="#search-inside-a-string" class="headerlink" title="search inside a string"></a>search inside a string</h2><p>å­—ç¬¦ä¸²çš„æŸ¥æ‰¾æœç´¢<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'Never odd or even'</span>;</span><br><span class="line"><span class="keyword">assert</span>(str.contains(<span class="string">'odd'</span>));</span><br><span class="line"><span class="keyword">assert</span>(str.startsWith(<span class="string">'Never'</span>));</span><br><span class="line"><span class="keyword">assert</span>(str.endsWith(<span class="string">'even'</span>));</span><br><span class="line"><span class="keyword">assert</span>(str.indexOf(<span class="string">'odd'</span>) == <span class="number">6</span>);</span><br></pre></td></tr></table></figure></p><h2 id="Extracting-data-from-a-string"><a href="#Extracting-data-from-a-string" class="headerlink" title="Extracting data from a string"></a>Extracting data from a string</h2><p>ä»å­—ç¬¦ä¸²æå–æ•°æ®<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'Never odd or even'</span>;</span><br><span class="line"><span class="keyword">assert</span>(str.substring(<span class="number">6</span>, <span class="number">9</span>) == <span class="string">'odd'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> parts = str.split(<span class="string">' '</span>);</span><br><span class="line"><span class="keyword">assert</span>(parts.length == <span class="number">4</span>);</span><br><span class="line"><span class="keyword">assert</span>(parts[<span class="number">0</span>] == <span class="string">'Never'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span>(str[<span class="number">0</span>] == <span class="string">'N'</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> char <span class="keyword">in</span> <span class="string">'hello'</span>.split(<span class="string">''</span>)) &#123;</span><br><span class="line">  <span class="built_in">print</span>(char);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> codeUnitList = str.codeUnits.toList();</span><br><span class="line"><span class="keyword">assert</span>(codeUnitList[<span class="number">0</span>] == <span class="number">78</span>);</span><br></pre></td></tr></table></figure></p><h2 id="converting-to-uppercase-or-lowercase"><a href="#converting-to-uppercase-or-lowercase" class="headerlink" title="converting to uppercase or lowercase"></a>converting to uppercase or lowercase</h2><p>åˆ‡æ¢å¤§å°å†™<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'Never odd or even'</span>;</span><br><span class="line"><span class="keyword">assert</span>(str.toUpperCase() == <span class="string">'NEVER ODD OR EVEN'</span>);</span><br><span class="line"><span class="keyword">assert</span>(str.toLowerCase() == <span class="string">'never odd or even'</span>);</span><br></pre></td></tr></table></figure></p><h2 id="trimming-amp-amp-empty"><a href="#trimming-amp-amp-empty" class="headerlink" title="trimming &amp;&amp; empty"></a>trimming &amp;&amp; empty</h2><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">assert</span>(<span class="string">'   hello '</span>.trim() == <span class="string">'hello'</span>);</span><br><span class="line"><span class="keyword">assert</span>(<span class="string">''</span>.isEmpty);</span><br><span class="line"><span class="keyword">assert</span>(<span class="string">' '</span>.isNotEmpty);</span><br></pre></td></tr></table></figure><h2 id="replace"><a href="#replace" class="headerlink" title="replace"></a>replace</h2><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> greetingTemplate = <span class="string">'Hello, Name!'</span>;</span><br><span class="line"><span class="keyword">var</span> greeting = greetingTemplate.replaceAll(<span class="built_in">RegExp</span>(<span class="string">'Name'</span>), <span class="string">'Bob'</span>);</span><br><span class="line"><span class="built_in">print</span>(greeting); <span class="comment">// Hello, Bob!</span></span><br><span class="line"><span class="keyword">assert</span>(greeting != greetingTemplate);</span><br></pre></td></tr></table></figure><h2 id="building-a-string"><a href="#building-a-string" class="headerlink" title="building a string"></a>building a string</h2><p>åœ¨è°ƒç”¨<code>toString</code>ä¹‹å‰ä¸ä¼šç”Ÿæˆæ–°çš„å­—ç¬¦ä¸²å¯¹è±¡ã€‚<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sb = <span class="built_in">StringBuffer</span>();</span><br><span class="line"></span><br><span class="line">sb</span><br><span class="line">  ..write(<span class="string">'use a stringBuffer for '</span>)</span><br><span class="line">  ..writeAll([<span class="string">'efficient'</span>, <span class="string">'string'</span>, <span class="string">'creation'</span>], <span class="string">''</span>)</span><br><span class="line">  ..write(<span class="string">'.'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fullString = sb.toString();</span><br><span class="line"><span class="keyword">assert</span>(fullString ==  <span class="string">'Use a StringBuffer for efficient string creation.'</span>);</span><br></pre></td></tr></table></figure></p><h1 id="æ­£åˆ™"><a href="#æ­£åˆ™" class="headerlink" title="æ­£åˆ™"></a>æ­£åˆ™</h1><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> numbers = <span class="built_in">RegExp</span>(<span class="string">r'\d+'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> allCharacters = <span class="string">'llamas live fifteen to twenty years'</span>;</span><br><span class="line"><span class="keyword">const</span> someDigits = <span class="string">'llamas live 15 to 20 years'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span>(!allCharacters.contains(numbers));</span><br><span class="line"><span class="keyword">assert</span>(someDigits.contains(numbers));</span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> exedOut = someDigits.replaceAll(numbers, <span class="string">'XX'</span>);</span><br><span class="line"><span class="keyword">assert</span>(exedOut == <span class="string">'llamas live XX to XX years'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span>(numbers.hasMatch(someDigits));</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> match <span class="keyword">in</span> numbers.allMatches(someDigits)) &#123;</span><br><span class="line">  <span class="built_in">print</span>(match.group(<span class="number">0</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Collections"><a href="#Collections" class="headerlink" title="Collections"></a>Collections</h1><p>Listã€Setã€Map</p><h2 id="List"><a href="#List" class="headerlink" title="List"></a>List</h2><p>æ™®é€šæ•°ç»„<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸºç¡€æ“ä½œ</span></span><br><span class="line">listBase() &#123;</span><br><span class="line">  <span class="comment">// Use a List constructor.</span></span><br><span class="line">  <span class="keyword">var</span> vegetables = <span class="built_in">List</span>();</span><br><span class="line">  <span class="keyword">assert</span>(vegetables.length == <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// simply use a list literal.</span></span><br><span class="line">  <span class="keyword">var</span> fruits = [<span class="string">'apples'</span>, <span class="string">'oranges'</span>];</span><br><span class="line">  <span class="comment">// add to a list.</span></span><br><span class="line">  fruits.add(<span class="string">'kiwis'</span>);</span><br><span class="line">  <span class="comment">// add multiple items to a list.</span></span><br><span class="line">  fruits.addAll([<span class="string">'grapes'</span>, <span class="string">'bananas'</span>]);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Get the list length.</span></span><br><span class="line">  <span class="keyword">assert</span>(fruits.length == <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// remove a single item.</span></span><br><span class="line">  <span class="keyword">var</span> appleIndex = fruits.indexOf(<span class="string">'apples'</span>);</span><br><span class="line">  fruits.removeAt(appleIndex);</span><br><span class="line">  <span class="keyword">assert</span>(fruits.length == <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// remove all elements from a list</span></span><br><span class="line">  fruits.clear();</span><br><span class="line">  <span class="keyword">assert</span>(fruits.length == <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">assert</span>(fruits[<span class="number">0</span>] == <span class="string">'apples'</span>);</span><br><span class="line">  <span class="keyword">assert</span>(fruits.indexOf(<span class="string">'apples'</span>) == <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// sort æ–¹æ³•</span></span><br><span class="line">listSort() &#123;</span><br><span class="line">  <span class="keyword">var</span> fruits = [<span class="string">'bananas'</span>, <span class="string">'apples'</span>, <span class="string">'oranges'</span>];</span><br><span class="line">  <span class="comment">// Sort a list.</span></span><br><span class="line">  fruits.sort((a, b) =&gt; a.compareTo(b));</span><br><span class="line">  <span class="keyword">assert</span>(fruits[<span class="number">0</span>] == <span class="string">'apples'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// list type </span></span><br><span class="line">listType() &#123;</span><br><span class="line">  <span class="keyword">var</span> fruits = <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;();</span><br><span class="line">  fruits.add(<span class="string">'apples'</span>);</span><br><span class="line">  <span class="keyword">var</span> fruit = fruits[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">assert</span>(fruit <span class="keyword">is</span> <span class="built_in">String</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><p>å»é‡ç±»æ•°ç»„</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Set base</span></span><br><span class="line">setBase() &#123;</span><br><span class="line">  <span class="keyword">var</span> ingredients = <span class="built_in">Set</span>();</span><br><span class="line">  ingredients.addAll([<span class="string">'gold'</span>, <span class="string">'titanium'</span>, <span class="string">'xenon'</span>]);</span><br><span class="line">  <span class="keyword">assert</span>(ingredients.length == <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">  ingredients.add(<span class="string">'gold'</span>);</span><br><span class="line">  <span class="keyword">assert</span>(ingredients.length == <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">  ingredients.remove(<span class="string">'gold'</span>);</span><br><span class="line">  <span class="keyword">assert</span>(ingredients.length == <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ˜¯å¦åŒ…å«</span></span><br><span class="line">setContains() &#123;</span><br><span class="line">  <span class="keyword">var</span> ingredients= <span class="built_in">Set</span>();</span><br><span class="line">  ingredients.addAll([<span class="string">'gold'</span>, <span class="string">'titanium'</span>, <span class="string">'xenon'</span>]);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// check whether an item is in the set.</span></span><br><span class="line">  <span class="keyword">assert</span>(ingredients.contains(<span class="string">'titanium'</span>));</span><br><span class="line"></span><br><span class="line">  <span class="comment">// check whether all the items are in the set.</span></span><br><span class="line">  <span class="keyword">assert</span>(ingredients.containsAll([<span class="string">'titanium'</span>, <span class="string">'xenon'</span>]));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// äº¤é›†</span></span><br><span class="line">setIntersection() &#123;</span><br><span class="line">  <span class="keyword">var</span> ingredients= <span class="built_in">Set</span>();</span><br><span class="line">  ingredients.addAll([<span class="string">'gold'</span>, <span class="string">'titanium'</span>, <span class="string">'xenon'</span>]);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// create the intersection of thw sets.</span></span><br><span class="line">  <span class="keyword">var</span> nobleGases = <span class="built_in">Set</span>.from([<span class="string">'xenon'</span>, <span class="string">'argon'</span>]);</span><br><span class="line">  <span class="keyword">var</span> intersection = ingredients.intersection(nobleGases);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">assert</span>(intersection.length == <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">assert</span>(intersection.contains(<span class="string">'xenon'</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://api.dartlang.org/stable/dart-core/Set-class.html" target="_blank" rel="noopener">å…³äºSetçš„æ›´å¤šæ–¹æ³•</a></p><h2 id="Maps"><a href="#Maps" class="headerlink" title="Maps"></a>Maps</h2><p>jså¯¹è±¡</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸºç¡€åˆ›å»º</span></span><br><span class="line">mapBase() &#123;</span><br><span class="line">  <span class="keyword">var</span> hawaiianBeaches = &#123;</span><br><span class="line">    <span class="string">'Oahu'</span>: [<span class="string">'Waikiki'</span>, <span class="string">'Kailua'</span>, <span class="string">'Waimanalo'</span>],</span><br><span class="line">    <span class="string">'Big Island'</span>: [<span class="string">'Wailea bay'</span>, <span class="string">'Pololu Beach'</span>],</span><br><span class="line">    <span class="string">'Kauai'</span>: [<span class="string">'Hanalei'</span>, <span class="string">'Poipu'</span>],</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> searchTerms = <span class="built_in">Map</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> nobleGases = <span class="built_in">Map</span>&lt;<span class="built_in">int</span>, <span class="built_in">String</span>&gt;(); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç§»é™¤</span></span><br><span class="line">mapRemove() &#123;</span><br><span class="line">  <span class="keyword">var</span> nobleGases = &#123;</span><br><span class="line">    <span class="number">54</span>: <span class="string">'xenon'</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">assert</span>(nobleGases[<span class="number">54</span>] == <span class="string">'xenon'</span>);</span><br><span class="line">  <span class="keyword">assert</span>(nobleGases.containsKey(<span class="number">54</span>));</span><br><span class="line"></span><br><span class="line">  nobleGases.remove(<span class="number">54</span>)  ;</span><br><span class="line">  <span class="keyword">assert</span>(!nobleGases.containsKey(<span class="number">54</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// keys &amp;&amp; values</span></span><br><span class="line">mapKeyValue() &#123;</span><br><span class="line">  <span class="keyword">var</span> hawaiianBeaches = &#123;</span><br><span class="line">    <span class="string">'Oahu'</span>: [<span class="string">'Waikiki'</span>, <span class="string">'Kailua'</span>, <span class="string">'Waimanalo'</span>],</span><br><span class="line">    <span class="string">'Big Island'</span>: [<span class="string">'Wailea bay'</span>, <span class="string">'Pololu Beach'</span>],</span><br><span class="line">    <span class="string">'Kauai'</span>: [<span class="string">'Hanalei'</span>, <span class="string">'Poipu'</span>],</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// keys</span></span><br><span class="line">  <span class="keyword">var</span> keys = hawaiianBeaches.keys;</span><br><span class="line">  <span class="keyword">assert</span>(keys.length == <span class="number">3</span>);</span><br><span class="line">  <span class="keyword">assert</span>(<span class="built_in">Set</span>.from(keys).contains(<span class="string">'Oahu'</span>));</span><br><span class="line"></span><br><span class="line">  <span class="comment">// values</span></span><br><span class="line">  <span class="keyword">var</span> values = hawaiianBeaches.values;</span><br><span class="line">  <span class="keyword">assert</span>(values.length == <span class="number">3</span>);</span><br><span class="line">  <span class="keyword">assert</span>(values.any((v)=&gt; v.contains(<span class="string">'Waikiki'</span>)));</span><br><span class="line"></span><br><span class="line">  <span class="comment">// check a keys</span></span><br><span class="line">  <span class="keyword">assert</span>(hawaiianBeaches.containsKey(<span class="string">'Oahu'</span>));</span><br><span class="line">  <span class="keyword">assert</span>(!hawaiianBeaches.containsKey(<span class="string">'Florida'</span>));</span><br><span class="line"></span><br><span class="line">  <span class="comment">// putIfAbsent å½“ä¸”ä»…å½“æ²¡æœ‰è¯¥Keyèµ‹å€¼ï¼Œæ‰ä¼šæ‰§è¡Œè¯¥å‡½æ•°</span></span><br><span class="line">  <span class="keyword">var</span> teamAssignments = &#123;&#125;;</span><br><span class="line">  teamAssignments.putIfAbsent(<span class="string">'Catcher'</span>, ()=&gt; <span class="string">'test'</span>);</span><br><span class="line">  <span class="keyword">assert</span>(teamAssignments[<span class="string">'Catcher'</span>] != <span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://api.dartlang.org/stable/dart-core/Map-class.html" target="_blank" rel="noopener">æ›´å¤šå…³äºMapsçš„API</a></p><h2 id="é€šç”¨-Map-Set-List-çš„æ–¹æ³•"><a href="#é€šç”¨-Map-Set-List-çš„æ–¹æ³•" class="headerlink" title="é€šç”¨(Map,Set,List)çš„æ–¹æ³•"></a>é€šç”¨(Map,Set,List)çš„æ–¹æ³•</h2><p>Iterable(è¿­ä»£å™¨)æ–¹æ³•æŒ‡Setå’ŒListï¼Œå› ä¸ºä»–ä»¬æ˜¯ç»§æ‰¿Iterable class<br>CollectionsæŒ‡ Setã€Listå’ŒMap.<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">commonSetList() &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//Iterables æŒ‡çš„æ˜¯Listå’ŒSetï¼Œå› ä¸ºéƒ½æ˜¯ç»§æ‰¿è¯¥ç±»å®ç°çš„</span></span><br><span class="line">  <span class="comment">// Collections æŒ‡çš„æ˜¯List,Set,Map</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> coffees = [];</span><br><span class="line">  <span class="keyword">var</span> teas = [<span class="string">'green'</span>, <span class="string">'black'</span>, <span class="string">'chamomile'</span>, <span class="string">'earl grey'</span>];</span><br><span class="line">  <span class="keyword">var</span> teasSet = &#123;<span class="string">'green'</span>, <span class="string">'black'</span>&#125;;</span><br><span class="line">  <span class="keyword">var</span> teasMap = &#123;</span><br><span class="line">    <span class="string">'tea1'</span>: <span class="string">'green'</span>,</span><br><span class="line">    <span class="string">'tea2'</span>: <span class="string">'black'</span>,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Iterables: isEmpty isNotEmpty</span></span><br><span class="line">  <span class="keyword">assert</span>(coffees.isEmpty);</span><br><span class="line">  <span class="keyword">assert</span>(teas.isNotEmpty);</span><br><span class="line">  <span class="keyword">assert</span>(teasSet.isNotEmpty);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Collections: forEach</span></span><br><span class="line">  teas.forEach((tea)=&gt; &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'I drink <span class="subst">$tea</span>'</span>)</span><br><span class="line">  &#125;);</span><br><span class="line">  teasMap.forEach((teaKey, teaValue)=&gt; &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'<span class="subst">$teaKey</span>, <span class="subst">$teaValue</span>'</span>)</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Iterbables: map. mapä½¿ç”¨çš„æ˜¯æƒ°æ€§æ¨¡å¼ï¼Œå³åœ¨ä¸Šä¸€ä¸ªè¿”å›ä¹‹å‰ï¼Œä¸ä¼šæ‰§è¡Œä¸‹ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line">  <span class="keyword">var</span> loudTeas = teas.map((tea)=&gt; tea.toUpperCase());</span><br><span class="line">  loudTeas.forEach(<span class="built_in">print</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¦‚æœæƒ³è¦ç«‹å³æ‰§è¡Œï¼Œå¯ä»¥ä½¿ç”¨ toList æˆ– toSet</span></span><br><span class="line">  <span class="keyword">var</span> loudTeas2 = teas.map((tea)=&gt; tea.toUpperCase()).toList();</span><br><span class="line">  <span class="built_in">print</span>(loudTeas2);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// where any every å’Œjsä¸€æ ·çš„åŠŸèƒ½ï¼Œåˆ†åˆ«æ˜¯æŸ¥æ‰¾æ‰€æœ‰ç¬¦åˆçš„ï¼Œæœ‰ä»»æ„ç¬¦åˆè¿”å›trueï¼Œæ‰€æœ‰ç¬¦åˆè¿”å›true</span></span><br><span class="line">  <span class="built_in">bool</span> isDecaffeinated(<span class="built_in">String</span> teaName)=&gt; teaName == <span class="string">'chamomile'</span>;</span><br><span class="line">  <span class="keyword">var</span> decaffeinatedTeas = teas.where(isDecaffeinated);</span><br><span class="line">  <span class="built_in">print</span>(decaffeinatedTeas);</span><br><span class="line">  <span class="keyword">assert</span>(teas.any(isDecaffeinated));</span><br><span class="line">  <span class="keyword">assert</span>(!teas.every(isDecaffeinated));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="URI"><a href="#URI" class="headerlink" title="URI"></a>URI</h1><p>URIä¸»è¦æä¾›ä¸€äº›è§£ç å’Œç¼–ç urlçš„åŠŸèƒ½</p><h2 id="è§£ç ä¸ç¼–ç "><a href="#è§£ç ä¸ç¼–ç " class="headerlink" title="è§£ç ä¸ç¼–ç "></a>è§£ç ä¸ç¼–ç </h2><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">encodeAndDecode() &#123;</span><br><span class="line">  <span class="keyword">var</span> uri = <span class="string">'http://example.org/api?foo=some message'</span>;</span><br><span class="line">  <span class="keyword">var</span> encoded = <span class="built_in">Uri</span>.encodeFull(uri);</span><br><span class="line">  <span class="keyword">assert</span>(encoded == <span class="string">'http://example.org/api?foo=some%20message'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> decode = <span class="built_in">Uri</span>.decodeFull(encoded);</span><br><span class="line">  <span class="keyword">assert</span>(uri == decode);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> encodeComponent = <span class="built_in">Uri</span>.encodeComponent(uri);</span><br><span class="line">  <span class="keyword">assert</span>(encodeComponent == <span class="string">'http%3A%2F%2Fexample.org%2Fapi%3Ffoo%3Dsome%20message'</span>);</span><br><span class="line">  <span class="keyword">var</span> decoded = <span class="built_in">Uri</span>.decodeComponent(encodeComponent);</span><br><span class="line">  <span class="keyword">assert</span>(uri == decoded);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è§£æä¸æ„å»º"><a href="#è§£æä¸æ„å»º" class="headerlink" title="è§£æä¸æ„å»º"></a>è§£æä¸æ„å»º</h2><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">parseAndBuild() &#123;</span><br><span class="line">  <span class="keyword">var</span> uri = <span class="built_in">Uri</span>.parse(<span class="string">'http://example.org:8080/foo/bar#frag'</span>);</span><br><span class="line">  <span class="keyword">assert</span>(uri.scheme == <span class="string">'http'</span>);</span><br><span class="line">  <span class="keyword">assert</span>(uri.host == <span class="string">'example.org'</span>);</span><br><span class="line">  <span class="keyword">assert</span>(uri.path == <span class="string">'/foo/bar'</span>);</span><br><span class="line">  <span class="keyword">assert</span>(uri.fragment == <span class="string">'frage'</span>);</span><br><span class="line">  <span class="keyword">assert</span>(uri.origin == <span class="string">'http://example.org:8080'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> buildUri = <span class="built_in">Uri</span>(</span><br><span class="line">    scheme: <span class="string">'http'</span>,</span><br><span class="line">    host: <span class="string">'example.org'</span>,</span><br><span class="line">    path: <span class="string">'/foo/bar'</span>,</span><br><span class="line">    fragment: <span class="string">'frag'</span></span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">assert</span>(buildUri.toString() == <span class="string">'http://example.org/foo/bar#frag'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Dates-and-times"><a href="#Dates-and-times" class="headerlink" title="Dates and times"></a>Dates and times</h1><p>æ—¶é—´æ—¥æœŸç›¸å…³<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">date() &#123;</span><br><span class="line">  <span class="keyword">var</span> now = <span class="built_in">DateTime</span>.now();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// create a now DateTime with the local time zone.</span></span><br><span class="line">  <span class="keyword">var</span> y2k = <span class="built_in">DateTime</span>(<span class="number">2000</span>); </span><br><span class="line"></span><br><span class="line">  <span class="comment">// æŒ‡å®šæœˆä»½å’Œæ—¥æœŸ</span></span><br><span class="line">  y2k = <span class="built_in">DateTime</span>(<span class="number">2000</span>, <span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// specify the date as a UTC time.</span></span><br><span class="line">  y2k = <span class="built_in">DateTime</span>.utc(<span class="number">2000</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Specify a date and time in ms since the Unix epoch.</span></span><br><span class="line">  y2k = <span class="built_in">DateTime</span>.fromMillisecondsSinceEpoch(<span class="number">946684800000</span>, isUtc: <span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Parse an ISO 8601 date</span></span><br><span class="line">  y2k = <span class="built_in">DateTime</span>.parse(<span class="string">'2000-01-01T00:00:00Z'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è¿”å›ä»1970åˆ°ç›®æ ‡çš„æ¯«ç§’æ•°</span></span><br><span class="line">  y2k = <span class="built_in">DateTime</span>.utc(<span class="number">2000</span>);</span><br><span class="line">  <span class="keyword">assert</span>(y2k.millisecondsSinceEpoch == <span class="number">946684800000</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> unixEpoch = <span class="built_in">DateTime</span>.utc(<span class="number">1970</span>);</span><br><span class="line">  <span class="keyword">assert</span>(unixEpoch.millisecondsSinceEpoch == <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ—¶é—´æ“ä½œæ–¹æ³•</span></span><br><span class="line">dateOptions() &#123;</span><br><span class="line">  <span class="keyword">var</span> y2k = <span class="built_in">DateTime</span>.utc(<span class="number">2000</span>);</span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">Duration</span>(days: <span class="number">366</span>));</span><br><span class="line">  <span class="keyword">var</span> y2001 = y2k.add(<span class="built_in">Duration</span>(days: <span class="number">366</span>));</span><br><span class="line">  <span class="keyword">assert</span>(y2001.year == <span class="number">2001</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// subtract 30 days</span></span><br><span class="line">  <span class="keyword">var</span> december2000 = y2001.subtract(<span class="built_in">Duration</span>(days: <span class="number">30</span>));</span><br><span class="line">  <span class="keyword">assert</span>(december2000.year == <span class="number">2000</span>);</span><br><span class="line">  <span class="keyword">assert</span>(december2000.month == <span class="number">12</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Calculate the difference between two dates.</span></span><br><span class="line">  <span class="comment">// Returns a Duration object.  </span></span><br><span class="line">  <span class="keyword">var</span> duration = y2001.difference(y2k);</span><br><span class="line">  <span class="keyword">assert</span>(duration.inDays == <span class="number">366</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><a href="https://api.dartlang.org/stable/dart-core/DateTime-class.html" target="_blank" rel="noopener">æ›´å¤šDateTime API</a><br><a href="https://api.dartlang.org/stable/dart-core/Duration-class.html" target="_blank" rel="noopener">æ›´å¤šDuration API</a></p><p><a href="https://www.dartlang.org/guides/libraries/library-tour#utility-classes" target="_blank" rel="noopener">æœªå®Œå¾…ç»­</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;è¿™å‡ ç¯‡å…³äºDartçš„æ–‡ç« ï¼Œåªæ˜¯åœ¨çœ‹å®˜ç½‘æ•™ç¨‹çš„æ—¶å€™æ•²ä¸€éå·©å›ºè®°å¿†è€Œå†™çš„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;Dart-core&quot;&gt;&lt;a href=&quot;#Dart-core&quot; class=&quot;headerlink&quot; title=&quot;Dart:
      
    
    </summary>
    
      <category term="technology" scheme="https://jsonz1993.github.io/categories/technology/"/>
    
    
      <category term="Dart" scheme="https://jsonz1993.github.io/tags/Dart/"/>
    
      <category term="Flutter" scheme="https://jsonz1993.github.io/tags/Flutter/"/>
    
  </entry>
  
  <entry>
    <title>DartåŸºç¡€è¯­æ³•ï¼ˆäºŒï¼‰</title>
    <link href="https://jsonz1993.github.io/2019/04/dart-learn-2/"/>
    <id>https://jsonz1993.github.io/2019/04/dart-learn-2/</id>
    <published>2019-04-17T21:53:21.000Z</published>
    <updated>2019-12-21T04:37:05.144Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Class"><a href="#Class" class="headerlink" title="Class"></a>Class</h1><p><code>Dart</code>æ˜¯ä¸€ä¸ªé¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œå…·æœ‰ç±»å’ŒåŸºäºmixinçš„ç»§æ‰¿ã€‚æ¯ä¸ªå¯¹è±¡éƒ½æ˜¯ä¸€ä¸ªclassçš„å®ä¾‹ï¼Œæ‰€æœ‰çš„classéƒ½æ˜¯åŸºäºObjectã€‚</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰€æœ‰æœªåˆå§‹åŒ–çš„å˜é‡éƒ½ä¸ºnull</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">  <span class="built_in">num</span> x;</span><br><span class="line">  <span class="built_in">num</span> y;</span><br><span class="line">  <span class="built_in">num</span> z = <span class="number">0</span>;</span><br><span class="line">  <span class="built_in">num</span> d;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">  <span class="comment">// Point(num x, num y) &#123;</span></span><br><span class="line">  <span class="comment">//   this.x = x;</span></span><br><span class="line">  <span class="comment">//   this.y = y;</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ›´ç®€ä¾¿çš„å†™æ³•</span></span><br><span class="line">  Point(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ„é€ å‡½æ•°çš„å‘½å</span></span><br><span class="line">  Point.origin() &#123;</span><br><span class="line">    x = <span class="number">0</span>;</span><br><span class="line">    y = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="keyword">var</span> point = <span class="keyword">new</span> Point(<span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line">  point.x = <span class="number">4</span>;</span><br><span class="line">  <span class="keyword">assert</span>(point.x == <span class="number">4</span>);</span><br><span class="line">  <span class="keyword">assert</span>(point.d == <span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h2><h3 id="æ„é€ å‡½æ•°ä¸ç»§æ‰¿"><a href="#æ„é€ å‡½æ•°ä¸ç»§æ‰¿" class="headerlink" title="æ„é€ å‡½æ•°ä¸ç»§æ‰¿"></a>æ„é€ å‡½æ•°ä¸ç»§æ‰¿</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> x;</span><br><span class="line">  <span class="keyword">var</span> y;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç®€å•çš„æ„é€ å‡½æ•°ä½¿ç”¨ï¼Œç›¸å½“äº Point(x, y) &#123; this.x = x; this.y = y; &#125;</span></span><br><span class="line">  Point(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y); </span><br><span class="line"></span><br><span class="line">  <span class="comment">// åœ¨å¼€å‘ç¯å¢ƒä¸‹å¯ä»¥ç”¨ assertå¯¹å‚æ•°è¿›è¡Œæ–­è¨€</span></span><br><span class="line">  Point.withAssert(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y): <span class="keyword">assert</span>(x&gt;= <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'in person.withAssert(): (<span class="subst">$x</span>, <span class="subst">$y</span>)'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è¿™ä¸€å—çš„åˆå§‹åŒ–åˆ—è¡¨æœ‰ç‚¹åƒ java è¿˜æ˜¯ c++</span></span><br><span class="line">  Point.fromJson2(<span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="built_in">num</span>&gt; json):</span><br><span class="line">    x = json[<span class="string">'x'</span>],</span><br><span class="line">    y = json[<span class="string">'y'</span>] &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'In Person.fromJson2() : (<span class="subst">$x</span>, <span class="subst">$y</span>)'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å†…éƒ¨ä½¿ç”¨æ„é€ å‡½æ•°</span></span><br><span class="line">  Point.alongXAxis(<span class="built_in">num</span> x): <span class="keyword">this</span>(x, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">getDefaultData() &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="built_in">String</span> firstName;</span><br><span class="line">  Person.fromJson(<span class="built_in">Map</span> data) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'in Person'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  Employee.fromJson(<span class="built_in">Map</span> data): <span class="keyword">super</span>.fromJson(data) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'in Employee'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å› ä¸ºè°ƒç”¨æ„é€ å‡½æ•°ä¹‹å‰ä¼šè®¡ç®—è¶…ç±»æ„é€ å‡½æ•°çš„å‚æ•°ï¼Œæ‰€ä»¥å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼</span></span><br><span class="line">  Employee(): <span class="keyword">super</span>.fromJson(getDefaultData());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line">  <span class="keyword">var</span> emp = <span class="keyword">new</span> Employee.fromJson(&#123;&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (emp <span class="keyword">is</span> Person) &#123;</span><br><span class="line">    emp.firstName = <span class="string">'Bob'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  (emp <span class="keyword">as</span> Person).firstName = <span class="string">'bob'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¸¸é‡æ„é€ å‡½æ•°"><a href="#å¸¸é‡æ„é€ å‡½æ•°" class="headerlink" title="å¸¸é‡æ„é€ å‡½æ•°"></a>å¸¸é‡æ„é€ å‡½æ•°</h3><p>å¦‚æœä½ çš„ç±»ä¸éœ€è¦æ”¹å˜ï¼Œä½ å¯ä»¥å°†ä»–å†™æˆç¼–è¯‘æ—¶å¸¸é‡ï¼Œä½†æ˜¯è¦ç¡®ä¿æ‰€æœ‰çš„å®ä¾‹å˜é‡éƒ½æ˜¯<code>final</code>ã€‚</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ImmutablePoint</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">final</span> ImmutablePoint origin = <span class="keyword">const</span> ImmutablePoint(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  <span class="comment">// ç¡®ä¿æ‰€æœ‰çš„å®ä¾‹å˜é‡éƒ½æ˜¯ final</span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">num</span> x, y;</span><br><span class="line">  <span class="keyword">const</span> ImmutablePoint(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> a = ImmutablePoint(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">const</span> b = ImmutablePoint(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">assert</span>(a == b);</span><br></pre></td></tr></table></figure><h3 id="å·¥å‚æ„é€ å‡½æ•°"><a href="#å·¥å‚æ„é€ å‡½æ•°" class="headerlink" title="å·¥å‚æ„é€ å‡½æ•°"></a>å·¥å‚æ„é€ å‡½æ•°</h3><p>åœ¨å®ç°å¹¶ä¸æ€»æ˜¯åˆ›å»ºå…¶ç±»çš„æ–°å®ä¾‹çš„æ„é€ å‡½æ•°æ—¶ï¼Œè¯·ä½¿ç”¨factoryå…³é”®å­—ã€‚ä¾‹å¦‚ï¼Œå·¥å‚æ„é€ å‡½æ•°å¯èƒ½ä»ç¼“å­˜ä¸­è¿”å›å®ä¾‹ï¼Œæˆ–è€…å®ƒå¯èƒ½è¿”å›å­ç±»å‹çš„å®ä¾‹ã€‚</p><p>æ³¨æ„ å·¥å‚æ„é€ å‡½æ•°ä¸èƒ½è®¿é—®<code>this</code>ã€‚<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å·¥å‚æ„é€ å‡½æ•°,ä¸éœ€è¦ç»å¸¸å®ä¾‹åŒ–çš„æƒ…å†µï¼Œä¼šä»ç¼“å­˜è·å–</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Logger</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> name;</span><br><span class="line">  <span class="built_in">bool</span> mute = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// _cache is library-private, thanks to the _ in front of its name.</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">final</span> <span class="built_in">Map</span>&lt;<span class="built_in">String</span>, Logger&gt; _cache = &lt;<span class="built_in">String</span>, Logger&gt;&#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">factory</span> Logger(<span class="built_in">String</span> name) &#123;</span><br><span class="line">    <span class="keyword">if</span> (_cache.containsKey(name)) <span class="keyword">return</span> _cache[name];</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">final</span> logger = Logger._internal(name);</span><br><span class="line">      _cache[name] = logger;</span><br><span class="line">      <span class="keyword">return</span> logger;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Logger._internal(<span class="keyword">this</span>.name);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> log(<span class="built_in">String</span> msg) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!mute) <span class="built_in">print</span>(msg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="Methods-æ–¹æ³•"><a href="#Methods-æ–¹æ³•" class="headerlink" title="Methods(æ–¹æ³•)"></a>Methods(æ–¹æ³•)</h2><h3 id="Instance-methods-å®ä¾‹æ–¹æ³•"><a href="#Instance-methods-å®ä¾‹æ–¹æ³•" class="headerlink" title="Instance methods(å®ä¾‹æ–¹æ³•)"></a>Instance methods(å®ä¾‹æ–¹æ³•)</h3><p>æ™®é€šçš„å®ä¾‹æ–¹æ³•<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">  <span class="built_in">num</span> x, y;</span><br><span class="line"></span><br><span class="line">  Point(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ™®é€šçš„æ–¹æ³•</span></span><br><span class="line">  <span class="built_in">num</span> distanceTo(Point other) &#123;</span><br><span class="line">    <span class="keyword">var</span> dx = x - other.x;</span><br><span class="line">    <span class="keyword">var</span> dy = y - other.y;</span><br><span class="line">    <span class="keyword">return</span> sqrt(dx * dx + dy * dy);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="Getters-amp-amp-Setters"><a href="#Getters-amp-amp-Setters" class="headerlink" title="Getters &amp;&amp; Setters"></a>Getters &amp;&amp; Setters</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> </span>&#123;</span><br><span class="line">  <span class="built_in">num</span> left, top, width, height;</span><br><span class="line"></span><br><span class="line">  Rectangle(<span class="keyword">this</span>.left, <span class="keyword">this</span>.top, <span class="keyword">this</span>.width, <span class="keyword">this</span>.height);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">num</span> <span class="keyword">get</span> right =&gt; left + width;</span><br><span class="line">  <span class="keyword">set</span> right(<span class="built_in">num</span> value)=&gt; left = value - width;</span><br><span class="line">  <span class="built_in">num</span> <span class="keyword">get</span> bottom =&gt; top + height;</span><br><span class="line">  <span class="keyword">set</span> bottom(<span class="built_in">num</span> value)=&gt; top = value - height;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Abstract-methods-Abstract-Class"><a href="#Abstract-methods-Abstract-Class" class="headerlink" title="Abstract methods/ Abstract Class"></a>Abstract methods/ Abstract Class</h3><p>æŠ½è±¡ç±»<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Doer</span> </span>&#123;</span><br><span class="line">  <span class="keyword">void</span> doSomething(); <span class="comment">// å®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡æ–¹æ³•</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EffectiveDoer</span> <span class="keyword">extends</span> <span class="title">Doer</span> </span>&#123;</span><br><span class="line">  <span class="keyword">void</span> doSomething() &#123; <span class="built_in">print</span>(<span class="string">'xxx'</span>); &#125; <span class="comment">// å®ç°è¯¥æ–¹æ³•</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="Implicit-interfaces"><a href="#Implicit-interfaces" class="headerlink" title="Implicit interfaces"></a>Implicit interfaces</h3><p>æ¥å£å’Œjavaå¾ˆåƒ<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// implicit interfaces</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// A person. The implicit interface contains greet().</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="comment">// In the interface, but visible only in this library</span></span><br><span class="line">  <span class="keyword">final</span> _name;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Not in the interface, since this is a constructor.</span></span><br><span class="line">  Person(<span class="keyword">this</span>._name);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// In the interface</span></span><br><span class="line">  <span class="built_in">String</span> greet(<span class="built_in">String</span> who) =&gt; <span class="string">'Hello, <span class="subst">$who</span>. I am <span class="subst">$_name</span>'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// an implementation of the Person interface.</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Impostor</span> <span class="keyword">implements</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">get</span> _name =&gt; <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">String</span> greet(<span class="built_in">String</span> who)=&gt; <span class="string">'Hi <span class="subst">$who</span>. Do you know who I am?'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">String</span> greetBob(Person person)=&gt; person.greet(<span class="string">'Bob'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="built_in">print</span>(greetBob(Person(<span class="string">'Jsonz'</span>)));</span><br><span class="line">  <span class="built_in">print</span>(greetBob(Impostor()));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤šä¸ªæ¥å£</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> <span class="keyword">implements</span> <span class="title">Comparable</span>, <span class="title">Location</span> </span>&#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="extending-a-classæ‰©å±•ç»§æ‰¿"><a href="#extending-a-classæ‰©å±•ç»§æ‰¿" class="headerlink" title="extending a classæ‰©å±•ç»§æ‰¿"></a>extending a classæ‰©å±•ç»§æ‰¿</h2><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Television</span> </span>&#123;</span><br><span class="line"> <span class="keyword">void</span> turnOn() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'television turnOn'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SmartTelevision</span> <span class="keyword">extends</span> <span class="title">Television</span> </span>&#123;</span><br><span class="line">  <span class="keyword">void</span> turnOn() &#123;</span><br><span class="line">    <span class="keyword">super</span>.turnOn();</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'SmartTelevision'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="overriding-members-é‡å†™æ–¹æ³•"><a href="#overriding-members-é‡å†™æ–¹æ³•" class="headerlink" title="overriding members é‡å†™æ–¹æ³•"></a>overriding members é‡å†™æ–¹æ³•</h3><p>å­ç±»é‡å†™å®ä¾‹æ–¹æ³•,ä½†æ˜¯æœ‰åŠ å’Œæ²¡åŠ å’Œä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿè¿™ä¸ªç–‘æƒ‘åœ¨<a href="https://stackoverflow.com/questions/51224205/what-is-the-purpose-of-override-used-in-flutter" target="_blank" rel="noopener">stackoverflowæœ‰è§£ç­”</a></p><blockquote><p><code>@override</code> just points out that the function is also defined in an ancestor class, but is being redefined to do something else in the current class. Itâ€™s also used to annotate the implementation of an abstract method. It is optional to use but recommended as it improves readability.</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SmartTelevision</span> <span class="keyword">extends</span> <span class="title">Television</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> turnOn() &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Overridable-operators"><a href="#Overridable-operators" class="headerlink" title="Overridable operators"></a>Overridable operators</h3><p>é‡å†™æ“ä½œç¬¦ï¼Ÿ çœ‹çœ‹å°±å¥½</p><h3 id="Enumerated-types"><a href="#Enumerated-types" class="headerlink" title="Enumerated types"></a>Enumerated types</h3><p>æšä¸¾ç±»å‹<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> Color &#123; red, green, blue &#125;</span><br><span class="line">enums() &#123;</span><br><span class="line">  <span class="comment">// æšä¸¾ç±»å‹: è¡¨ç¤ºå›ºå®šæ•°é‡çš„å¸¸æ•°å€¼</span></span><br><span class="line">  <span class="keyword">assert</span>(Color.red.index == <span class="number">0</span>);</span><br><span class="line">  <span class="keyword">assert</span>(Color.green.index == <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">assert</span>(Color.blue.index == <span class="number">2</span>);</span><br><span class="line">  <span class="built_in">List</span>&lt;Color&gt; colors = Color.values;</span><br><span class="line">  <span class="keyword">assert</span>(colors[<span class="number">2</span>] == Color.blue);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> aColor = Color.blue;</span><br><span class="line">  <span class="keyword">switch</span> (aColor) &#123;</span><br><span class="line">    <span class="keyword">case</span> Color.red:</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">'red'</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>: </span><br><span class="line">      <span class="built_in">print</span>(aColor);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="mixins"><a href="#mixins" class="headerlink" title="mixins"></a>mixins</h3><p><code>mixins</code>ä½¿ç”¨<code>with</code>å…³é”®å­—ï¼Œ<code>Class TAS = A with S</code>,åˆ™ <code>TAS</code>åŒ…å«äº†æ‰€æœ‰<code>A</code>å’Œ<code>S</code>çš„æ–¹æ³•å±æ€§ï¼Œä»¥<code>S</code>ä¸ºæœ€ç»ˆè¦†ç›–ï¼Œå³å¦‚æœAä¸Sæœ‰ç›¸åŒçš„æ–¹æ³•ï¼Œåˆ™Sè¦†ç›–Aã€‚<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">S</span> </span>&#123;</span><br><span class="line">  a() &#123; <span class="built_in">print</span>(<span class="string">'S.a'</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  a() &#123; <span class="built_in">print</span>(<span class="string">'A.a'</span>); &#125;</span><br><span class="line">  b() &#123; <span class="built_in">print</span>(<span class="string">'A.b'</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">  a() &#123; <span class="built_in">print</span>(<span class="string">'B.a'</span>); &#125;</span><br><span class="line">  b() &#123; <span class="built_in">print</span>(<span class="string">'B.b'</span>); &#125;</span><br><span class="line">  c() &#123; <span class="built_in">print</span>(<span class="string">'B.c'</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TAS</span> = <span class="title">A</span> <span class="title">with</span> <span class="title">S</span>;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">TBAS</span> = <span class="title">B</span> <span class="title">with</span> <span class="title">A</span>, <span class="title">S</span>;</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">main</span>() </span>&#123;</span><br><span class="line">  TAS t = <span class="keyword">new</span> TAS();</span><br><span class="line">  t.a(); <span class="comment">// S.a</span></span><br><span class="line">  t.b(); <span class="comment">// A.b</span></span><br><span class="line">  TBAS b = <span class="keyword">new</span> TBAS();</span><br><span class="line">  b.a(); <span class="comment">// S.a</span></span><br><span class="line">  b.b(); <span class="comment">// A.b</span></span><br><span class="line">  b.c(); <span class="comment">// B.c</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="Class-variables-and-methods"><a href="#Class-variables-and-methods" class="headerlink" title="Class variables and methods"></a>Class variables and methods</h2><p>é™æ€æ–¹æ³•ä¸é™æ€å±æ€§<code>static</code>å…³é”®å­—å®ç°<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Queue</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">const</span> name = <span class="string">'queue'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="built_in">num</span> log(<span class="built_in">String</span> str) &#123;</span><br><span class="line">    <span class="built_in">print</span>(str);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Queue.log(Queue.name);</span><br></pre></td></tr></table></figure></p><h1 id="Generics-æ³›å‹"><a href="#Generics-æ³›å‹" class="headerlink" title="Generics æ³›å‹"></a>Generics æ³›å‹</h1><p>æ³›å‹è¿™å—åé¢ç”¨åˆ°çš„è¯è¿˜è¦è¡¥ï¼Œç¡®å®ä¸æ˜¯å¾ˆç†Ÿ</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;();</span><br><span class="line"><span class="comment">// ç­‰äº var names = &lt;String&gt;[];</span></span><br><span class="line">name.addAll([<span class="string">'a'</span>,<span class="string">'b'</span>]);</span><br><span class="line">name.add(<span class="number">2</span>); <span class="comment">// æŠ¥é”™</span></span><br></pre></td></tr></table></figure><h2 id="ç±»å‹é™åˆ¶"><a href="#ç±»å‹é™åˆ¶" class="headerlink" title="ç±»å‹é™åˆ¶"></a>ç±»å‹é™åˆ¶</h2><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> names = &lt;<span class="built_in">String</span>&gt;[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]; <span class="comment">// list</span></span><br><span class="line"><span class="keyword">var</span> uniqueNames = &lt;<span class="built_in">String</span>&gt;&#123;<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>&#125;; <span class="comment">// set</span></span><br><span class="line"><span class="keyword">var</span> pages = &lt;<span class="built_in">String</span>, <span class="built_in">String</span>&gt; &#123;</span><br><span class="line">  <span class="string">'index.html'</span>: <span class="string">'homePage'</span>,</span><br><span class="line">&#125; <span class="comment">// map</span></span><br><span class="line"><span class="keyword">var</span> nameSet = <span class="built_in">Set</span>&lt;<span class="built_in">String</span>&gt;.from(names);</span><br><span class="line"><span class="keyword">var</span> newMap = <span class="built_in">Map</span>&lt;<span class="built_in">int</span>, <span class="built_in">String</span>&gt;();</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(names <span class="keyword">is</span> <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h1 id="Libraries"><a href="#Libraries" class="headerlink" title="Libraries"></a>Libraries</h1><p>å¼•å…¥ç”¨<code>import</code>å…³é”®å­—</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'dart:html'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:test/test.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ºæŸä¸ªåº“æŒ‡å®šåˆ«åï¼Œjseræ¯”è¾ƒå–œæ¬¢è¿™ç§ï¼Œä¸ä¼šå…¨å±€å˜é‡åˆ°å¤„é£˜ï¼</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:lib/lib.dart'</span> <span class="keyword">as</span> lib;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å±€éƒ¨å¼•å…¥</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:lib/lib.dart'</span> show foo; <span class="comment">// åªå¼•å…¥foo</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:lib/lib.dart'</span> hide foo; <span class="comment">// é™¤äº†fooå…¶ä»–éƒ½å¼•å…¥</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‡’åŠ è½½</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:greetings/hello.dart'</span> deferred <span class="keyword">as</span> hello;</span><br><span class="line"></span><br><span class="line">Future greet() <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="keyword">await</span> hello.loadLibrary(); <span class="comment">// å…ˆåŠ è½½ loadLibraryä¼šè¿”å›ä¸€ä¸ªFuture</span></span><br><span class="line">  hello.printGreeting(); <span class="comment">// å†ä½¿ç”¨</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºä¸€ä¸ªåº“"><a href="#åˆ›å»ºä¸€ä¸ªåº“" class="headerlink" title="åˆ›å»ºä¸€ä¸ªåº“"></a>åˆ›å»ºä¸€ä¸ªåº“</h2><p><a href="https://www.dartlang.org/guides/libraries/create-library-packages" target="_blank" rel="noopener">create library packages</a></p><h1 id="asynchrony-support-å¼‚æ­¥æ”¯æŒ"><a href="#asynchrony-support-å¼‚æ­¥æ”¯æŒ" class="headerlink" title="asynchrony support å¼‚æ­¥æ”¯æŒ"></a>asynchrony support å¼‚æ­¥æ”¯æŒ</h1><p>Dartä¸€èˆ¬ç”¨<code>Future</code>å’Œ<code>Stream</code>æ¥å¤„ç†å¼‚æ­¥ã€‚</p><h2 id="handling-Futures"><a href="#handling-Futures" class="headerlink" title="handling Futures"></a>handling Futures</h2><p><a href="https://www.dartlang.org/guides/libraries/library-tour#future" target="_blank" rel="noopener">Future</a></p><p>ä½¿ç”¨<code>await/async</code>,æ‰€ä»¥<code>Futures</code>ç±»ä¼¼<code>js</code>çš„<code>Promise</code>?<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Future checkVersion() <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> version = <span class="keyword">await</span> lookUpVersion();</span><br><span class="line">  <span class="comment">// Do something with version</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="å£°æ˜å¼‚æ­¥å‡½æ•°"><a href="#å£°æ˜å¼‚æ­¥å‡½æ•°" class="headerlink" title="å£°æ˜å¼‚æ­¥å‡½æ•°"></a>å£°æ˜å¼‚æ­¥å‡½æ•°</h3><p>å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œåˆ™è¿”å›ç±»å‹ä¸º <code>Future&lt;void&gt;</code>.<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span> lookUpVersion() =&gt; <span class="string">'1.0.0'</span>;</span><br><span class="line">Future&lt;<span class="built_in">String</span>&gt; lookUpVersion() <span class="keyword">async</span> =&gt; <span class="string">'1.0.0'</span>;</span><br></pre></td></tr></table></figure></p><h2 id="Handling-Streams"><a href="#Handling-Streams" class="headerlink" title="Handling Streams"></a>Handling Streams</h2><p>ä½¿ç”¨ <code>async</code> å’Œ <code>await for</code><br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. ç­‰å¾…æµçš„æ¯ä¸€æ¬¡å€¼</span></span><br><span class="line"><span class="comment">// 2. æ‰§è¡Œforå¾ªç¯çš„ä¸»ä½“</span></span><br><span class="line"><span class="comment">// 3. é‡å¤1å’Œ2ç›´åˆ°æµç»“æŸ</span></span><br><span class="line"><span class="comment">// 4. å¦‚æœè¦ä¸­æ–­æµç›‘å¬ï¼Œå¯ä»¥ç”¨ break æˆ– return</span></span><br><span class="line"><span class="keyword">await</span> <span class="keyword">for</span> (varOrType identifier <span class="keyword">in</span> expression) &#123;</span><br><span class="line">  <span class="comment">// Executes each time the stream emits a value.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="Generators"><a href="#Generators" class="headerlink" title="Generators"></a>Generators</h1><p>emmm <code>js</code>æœ€è®¨åŒçš„è¯­æ³•æ¥åˆ°<code>Dart</code>è¿˜æ˜¯æ— æ³•é¿å…ï¼Œä¹‹å‰å¤„ç†å¼‚æ­¥éƒ½æ˜¯<code>promise</code>è¦ä¸å°±æ˜¯<code>await</code>â€¦</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒæ­¥Generators</span></span><br><span class="line"><span class="built_in">Iterable</span>&lt;<span class="built_in">int</span>&gt; naturalsTo(<span class="built_in">int</span> n) <span class="keyword">sync</span>* &#123;</span><br><span class="line">  <span class="built_in">int</span> k = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (k &lt; n) <span class="keyword">yield</span> k++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼‚æ­¥Generators</span></span><br><span class="line">Stream&lt;<span class="built_in">int</span>&gt; asynchronousNaturalsTo(<span class="built_in">int</span> n) <span class="keyword">async</span>* &#123;</span><br><span class="line">  <span class="built_in">int</span> k = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (k &lt; n) <span class="keyword">yield</span> k++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœä½ çš„Generatoræ˜¯é€’å½’çš„ï¼Œå¯ä»¥ç”¨ yield*æ¥ä¼˜åŒ–</span></span><br><span class="line"><span class="comment">// æ€ä¹ˆä¼˜åŒ–å‘¢ï¼Ÿå°¾è°ƒç”¨ä¼˜åŒ–ï¼Ÿ</span></span><br><span class="line"><span class="built_in">Iterable</span>&lt;<span class="built_in">int</span>&gt; naturalsDownFrom(<span class="built_in">int</span> n) <span class="keyword">sync</span>* &#123;</span><br><span class="line">  <span class="keyword">if</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">yield</span> n;</span><br><span class="line">    <span class="keyword">yield</span>* naturalsDownFrom(n - <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Callable-classes-å¯è°ƒç”¨ç±»"><a href="#Callable-classes-å¯è°ƒç”¨ç±»" class="headerlink" title="Callable classes å¯è°ƒç”¨ç±»"></a>Callable classes å¯è°ƒç”¨ç±»</h1><p>è¦å®ç°ç±»å’Œæ–¹æ³•ä¸€æ ·çš„è°ƒç”¨ï¼Œåˆ™åœ¨ç±»é‡Œé¢å®ç° <code>call</code>æ–¹æ³•.</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WannabeFunction</span> </span>&#123;</span><br><span class="line">  call(<span class="built_in">String</span> a, <span class="built_in">String</span> b, <span class="built_in">String</span> c) =&gt; <span class="string">'<span class="subst">$a</span> <span class="subst">$b</span> <span class="subst">$c</span>!'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="keyword">var</span> wf = <span class="keyword">new</span> WannabeFunction();</span><br><span class="line">  <span class="keyword">var</span> out = wf(<span class="string">"Hi"</span>,<span class="string">"there,"</span>,<span class="string">"gang"</span>);</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">'<span class="subst">$out</span>'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Typedefs"><a href="#Typedefs" class="headerlink" title="Typedefs"></a>Typedefs</h1><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> Compare&lt;T&gt; = <span class="built_in">int</span> <span class="built_in">Function</span>(T a, T b);</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> sort(<span class="built_in">int</span> a, <span class="built_in">int</span> b) =&gt; a - b;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="keyword">assert</span>(sort <span class="keyword">is</span> Compare&lt;<span class="built_in">int</span>&gt;); <span class="comment">// True!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Class&quot;&gt;&lt;a href=&quot;#Class&quot; class=&quot;headerlink&quot; title=&quot;Class&quot;&gt;&lt;/a&gt;Class&lt;/h1&gt;&lt;p&gt;&lt;code&gt;Dart&lt;/code&gt;æ˜¯ä¸€ä¸ªé¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œå…·æœ‰ç±»å’ŒåŸºäºmixinçš„ç»§æ‰¿ã€‚æ¯ä¸ªå¯¹è±¡éƒ½æ˜¯ä¸€ä¸ªclassçš„å®
      
    
    </summary>
    
      <category term="technology" scheme="https://jsonz1993.github.io/categories/technology/"/>
    
    
      <category term="Dart" scheme="https://jsonz1993.github.io/tags/Dart/"/>
    
      <category term="Flutter" scheme="https://jsonz1993.github.io/tags/Flutter/"/>
    
  </entry>
  
  <entry>
    <title>DartåŸºç¡€è¯­æ³•ï¼ˆä¸€ï¼‰</title>
    <link href="https://jsonz1993.github.io/2019/04/dart-learn/"/>
    <id>https://jsonz1993.github.io/2019/04/dart-learn/</id>
    <published>2019-04-16T22:58:47.000Z</published>
    <updated>2019-12-21T04:37:05.144Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸€ä¸ªæœ€åŸºç¡€çš„Dartç¨‹åº<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line">printInterger(<span class="built_in">int</span> aNumber, <span class="built_in">int</span> bNumber) &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">'the number is <span class="subst">$aNumber</span> and <span class="subst">$&#123;bNumber&#125;</span>'</span>); <span class="comment">// $aNumber or $&#123;bNumber&#125; éƒ½å¯ä»¥åœ¨å­—ç¬¦ä¸²ä¸­ä½¿ç”¨å˜é‡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¨‹åºåˆå§‹è¿è¡Œçš„å‡½æ•°</span></span><br><span class="line">main() </span><br><span class="line">  <span class="keyword">var</span> number = <span class="number">42</span>; <span class="comment">// å£°æ˜ä¸åˆå§‹åŒ–å˜é‡</span></span><br><span class="line">  printInterger(number);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>é‡è¦æ¦‚å¿µ:</p><ul><li>æ‰€æœ‰å˜é‡éƒ½å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ª<code>object</code>ï¼Œæ‰€æœ‰çš„<code>object</code>éƒ½æ˜¯é€šè¿‡<code>Object</code>classå®ä¾‹åŒ–å‡ºæ¥çš„ã€‚è¿™ç‚¹å’Œjsä¸€æ ·</li><li>Dartæ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œç´¯å¿ƒæ³¨é‡Šæ˜¯å¯é€‰çš„ï¼Œå› ä¸ºDartå¯ä»¥æ¨æ–­ç±»å‹ï¼Œå¦‚æœæƒ³è¦å®šä¹‰ä¸€ä¸ªæ²¡æœ‰ç±»å‹çš„å¯ä»¥ä½¿ç”¨<code>dynamic</code>ç±»å‹ã€‚å¦‚<code>- Dartæ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œç´¯å¿ƒæ³¨é‡Šæ˜¯å¯é€‰çš„ï¼Œå› ä¸ºDartå¯ä»¥æ¨æ–­ç±»å‹ï¼Œå¦‚æœæƒ³è¦å®šä¹‰ä¸€ä¸ªæ²¡æœ‰ç±»å‹çš„å¯ä»¥ä½¿ç”¨`dynamic`ç±»å‹ã€‚å¦‚</code>- Dartæ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œç´¯å¿ƒæ³¨é‡Šæ˜¯å¯é€‰çš„ï¼Œå› ä¸ºDartå¯ä»¥æ¨æ–­ç±»å‹ï¼Œå¦‚æœæƒ³è¦å®šä¹‰ä¸€ä¸ªæ²¡æœ‰ç±»å‹çš„å¯ä»¥ä½¿ç”¨<code>dynamic</code>ç±»å‹ã€‚å¦‚<code></code>- Dartæ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œç´¯å¿ƒæ³¨é‡Šæ˜¯å¯é€‰çš„ï¼Œå› ä¸ºDartå¯ä»¥æ¨æ–­ç±»å‹ï¼Œå¦‚æœæƒ³è¦å®šä¹‰ä¸€ä¸ªæ²¡æœ‰ç±»å‹çš„å¯ä»¥ä½¿ç”¨<code>dynamic</code>ç±»å‹ã€‚å¦‚<code>var list= &lt;dynamic&gt;[1]</code></li><li>Dartçš„ç§æœ‰æ–¹æ³•ï¼Œéƒ½æ˜¯ä»¥<code>_</code>ä¸‹åˆ’çº¿å¼€å¤´çš„ï¼Œä¸åƒjavaç›´æ¥å†™å…³é”®å­—<code>private</code>.</li></ul><h1 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h1><h2 id="å£°æ˜å˜é‡"><a href="#å£°æ˜å˜é‡" class="headerlink" title="å£°æ˜å˜é‡"></a>å£°æ˜å˜é‡</h2><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜ä¸åˆå§‹åŒ–ä¸€ä¸ªStringç±»å‹çš„å˜é‡</span></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'Bob'</span>;</span><br><span class="line"><span class="comment">// å¦‚æœæƒ³è¦ä»»æ„ç±»å‹ï¼Œå¯ä»¥ç”¨ dynamic</span></span><br><span class="line"><span class="keyword">dynamic</span> name2 = <span class="string">'Bob'</span>;</span><br><span class="line"><span class="comment">// æ˜¾å¼å£°æ˜å­—ç¬¦ä¸²ç±»å‹</span></span><br><span class="line"><span class="built_in">String</span> name3 = <span class="string">'Bob'</span>;</span><br></pre></td></tr></table></figure><h2 id="å˜é‡é»˜è®¤å€¼"><a href="#å˜é‡é»˜è®¤å€¼" class="headerlink" title="å˜é‡é»˜è®¤å€¼"></a>å˜é‡é»˜è®¤å€¼</h2><p>å’Œ<code>js</code>ä¸ä¸€æ ·çš„æ˜¯ï¼Œå¦‚æœåœ¨<code>Dart</code>é‡Œé¢å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œä½†æ˜¯ä¸èµ‹å€¼çš„è¯ï¼Œä»–çš„é»˜è®¤å€¼æ˜¯<code>null</code>è€Œä¸æ˜¯<code>undefined</code>.</p><p>è¿™ä¹Ÿä»å¦ä¸€ä¸ªè§’åº¦è¯´æ˜åœ¨<code>Dart</code>ä¸­ï¼Œä¸‡ç‰©çš†å¯¹è±¡.<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> lineCount;</span><br><span class="line"><span class="keyword">var</span> line;</span><br><span class="line"><span class="keyword">assert</span>(lineCount == <span class="keyword">null</span>);</span><br><span class="line"><span class="keyword">assert</span>(line == <span class="keyword">null</span>);</span><br></pre></td></tr></table></figure></p><h2 id="final-amp-amp-const"><a href="#final-amp-amp-const" class="headerlink" title="final &amp;&amp; const"></a>final &amp;&amp; const</h2><p><code>Dart</code>é‡Œé¢çš„å¸¸é‡ç”¨ <code>final</code>å’Œ<code>const</code>å£°æ˜ã€‚</p><p><code>final</code>è¡¨ç¤ºå•ä¸ªèµ‹å€¼ï¼Œä¸€æ—¦èµ‹å€¼ï¼Œå°±ä¸èƒ½è¢«æ”¹å˜ã€‚<br><code>const</code>è¡¨ç¤ºç¼–è¯‘æ—¶ç¡®å®šçš„å€¼ï¼Œå¹¶ä¸”å¯¹è±¡ä¼šè¢«å†»ç»“è€Œå®Œå…¨ä¸å¯å˜ã€‚</p><p><a href="https://stackoverflow.com/questions/50431055/what-is-the-difference-in-between-const-and-final-keyword-in-dart" target="_blank" rel="noopener">stackoverflow</a></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">1</span>+<span class="number">2</span>;</span><br><span class="line"><span class="keyword">final</span> b = <span class="built_in">DateTime</span>.now();</span><br></pre></td></tr></table></figure><h1 id="å†…ç½®ç±»å‹"><a href="#å†…ç½®ç±»å‹" class="headerlink" title="å†…ç½®ç±»å‹"></a>å†…ç½®ç±»å‹</h1><ul><li>numbers</li><li>strings</li><li>booleans</li><li>lists(Array)</li><li>sets</li><li>maps</li><li>runes (Unicode characters in a string)</li><li>symbols</li></ul><p>å¯ä»¥é€šè¿‡<code>x.runtimeType</code>æ¥è·å–å¯¹è±¡çš„ç±»å‹</p><h2 id="number"><a href="#number" class="headerlink" title="number"></a>number</h2><p>Dartçš„numberæœ‰ä¸¤ç§ç±»å‹: <code>int</code> å’Œ <code>double</code></p><p>ç®€å•çš„åŒºåˆ†ï¼Œå°çš„æ•´æ•°ç”¨<code>int</code>,æµ®ç‚¹æ•°ç”¨<code>double</code>ã€‚ä¸€èˆ¬ç›´æ¥ç”¨<code>var</code>å£°æ˜çš„è¯ï¼Œä¼šæ ¹æ®ä½ å£°æ˜æ—¶çš„ç±»å‹åšæ¨æ–­ï¼Œæ‰€ä»¥å¦‚æœå£°æ˜å’Œåé¢ä½¿ç”¨ä¸ä¸€æ ·çš„è¯ï¼Œå»ºè®®æ˜¾å¼å£°æ˜.ä¾‹</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>; <span class="comment">// è¿™é‡ŒDartä¼šæ¨æ–­æ˜¯intç±»å‹</span></span><br><span class="line">x = <span class="number">2.0</span>; <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ä»¥æ¢æˆè¿™ä¸¤ç§</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">1.0</span>; </span><br><span class="line"><span class="built_in">double</span> x = <span class="number">1</span>;  <span class="comment">// ç›¸å½“äº double x = 1.0;</span></span><br></pre></td></tr></table></figure><h3 id="å­—ç¬¦ä¸²è½¬æ•°å­—"><a href="#å­—ç¬¦ä¸²è½¬æ•°å­—" class="headerlink" title="å­—ç¬¦ä¸²è½¬æ•°å­—"></a>å­—ç¬¦ä¸²è½¬æ•°å­—</h3><p>åœ¨Darté‡Œé¢ï¼Œå¦‚æœå­—ç¬¦ä¸²å’Œæ•°å­—ç›¸åŠ ï¼Œä¼šæŠ¥é”™ï¼Œè¿™ä¸€ç‚¹å’Œjséšå¼è½¬æ¢ä¸åŒã€‚</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> one = <span class="built_in">int</span>.parse(<span class="string">'1'</span>); <span class="comment">// String 2 int</span></span><br><span class="line"><span class="keyword">var</span> onePointOne = <span class="built_in">double</span>.parse(<span class="string">'1.1'</span>); <span class="comment">// string 2 double</span></span><br><span class="line"><span class="built_in">String</span> oneAsString = <span class="number">1.</span>toString(); <span class="comment">// int 2 String</span></span><br><span class="line"><span class="built_in">String</span> piAsString = <span class="number">3.141592654</span>.toStringAsFixed(<span class="number">2</span>); <span class="comment">// double 2 string 3.14</span></span><br></pre></td></tr></table></figure><h2 id="Strings"><a href="#Strings" class="headerlink" title="Strings"></a>Strings</h2><p>å¯ä»¥ç”¨<code>&#39;</code>æˆ–<code>&quot;</code>æ¥è¡¨ç¤ºå­—ç¬¦ä¸²ã€‚</p><p>å­—ç¬¦ä¸²å†…éƒ¨çš„å˜é‡å¯ä»¥ç”¨<code>$value</code>æˆ–è€…<code>${value}</code>ï¼Œä¸€èˆ¬æ¥è¯´å¦‚æœæ˜¯å˜é‡ï¼Œç›´æ¥ç”¨<code>$value</code>è¡¨ç¤ºï¼Œè¡¨è¾¾å¼ç”¨<code>${value}</code>ï¼Œä¾‹:</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">'String1'</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">"String2"</span>;</span><br><span class="line"><span class="keyword">assert</span>(<span class="string">'String1 STRING2'</span> == <span class="string">'<span class="subst">$a</span> <span class="subst">$&#123;b.toUpperCase()&#125;</span>'</span>);</span><br></pre></td></tr></table></figure><p>å¦‚æœè¦åˆ›å»ºå¤šè¡Œçš„å­—ç¬¦ä¸²ï¼Œåˆ™å¯ä»¥ç”¨<code>&#39;&#39;&#39;</code>æˆ–<code>&quot;&quot;&quot;</code>,<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s1 = <span class="string">'''</span></span><br><span class="line"><span class="string">hi</span></span><br><span class="line"><span class="string">I'm Jsonz</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="keyword">var</span> s2 = <span class="string">'</span></span><br></pre></td></tr></table></figure></p><h2 id="Booleans"><a href="#Booleans" class="headerlink" title="Booleans"></a>Booleans</h2><p><code>Dart</code>é‡Œé¢<code>if</code>ä¸<code>assert</code>éƒ½åªä¼šå¯¹ <code>bool</code>åšåˆ¤æ–­ï¼Œè¿™ç‚¹åŒæ ·ä¸jsçš„éšå¼è½¬æ¢ä¸åŒã€‚<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fullName = <span class="string">''</span>;</span><br><span class="line"><span class="keyword">assert</span>(fullName); <span class="comment">// error</span></span><br><span class="line"><span class="keyword">assert</span>(fullName.isEmpty); </span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> hitPoints = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">assert</span>(hitPoints &lt;= <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> iMeantToDoThis = <span class="number">0</span> / <span class="number">0</span>;</span><br><span class="line"><span class="keyword">assert</span>(iMeantToDoThis.isNaN);</span><br></pre></td></tr></table></figure></p><h2 id="Lists-æ—¢jsé‡Œé¢çš„æ•°ç»„"><a href="#Lists-æ—¢jsé‡Œé¢çš„æ•°ç»„" class="headerlink" title="Lists (æ—¢jsé‡Œé¢çš„æ•°ç»„)"></a>Lists (æ—¢jsé‡Œé¢çš„æ•°ç»„)</h2><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>, <span class="string">'4'</span>]; <span class="comment">// æ™®é€šlist</span></span><br><span class="line"><span class="keyword">var</span> typeList = &lt;<span class="built_in">int</span>&gt;[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]; <span class="comment">// å¸¦ç±»å‹çš„list</span></span><br><span class="line"><span class="keyword">assert</span>(list.length == <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">typeList[<span class="number">0</span>] = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">assert</span>(typeList[<span class="number">0</span>] == <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºconstç±»å‹çš„list</span></span><br><span class="line"><span class="keyword">var</span> constantList = <span class="keyword">const</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">constantList[<span class="number">1</span>] = <span class="number">1</span>; <span class="comment">// error</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¹Ÿå¯ä»¥è¿™æ ·åˆ›å»º</span></span><br><span class="line"><span class="built_in">List</span>&lt;<span class="built_in">int</span>&gt; list = <span class="keyword">const</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br></pre></td></tr></table></figure><h2 id="Sets"><a href="#Sets" class="headerlink" title="Sets"></a>Sets</h2><p><code>Sets</code>ä¼šæ ¹æ®åˆå§‹åŒ–æ¨æ–­ç±»å‹ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä¾‹å­<code>halogens</code>ä¼šåˆ¤æ–­ä¸º<code>String</code>ç±»å‹ï¼Œè¿™æ—¶å€™æ·»åŠ å…¶ä»–ç±»å‹çš„å€¼å°±ä¼šæŠ¥é”™ã€‚</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> halogens = &#123;<span class="string">'fluorine'</span>, <span class="string">'chlorine'</span>, <span class="string">'bromine'</span>, <span class="string">'iodine'</span>, <span class="string">'astatine'</span>&#125;;</span><br><span class="line">halogens.add(<span class="number">1</span>); <span class="comment">// error</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¦åˆ›å»ºä¸€ä¸ªç©ºçš„setï¼Œæ¯”å¦‚è¦æœ‰ç±»å‹å‰ç¼€ï¼Œä¸ç„¶ä¼šè¢«åˆ¤æ–­ä¸ºåˆ›å»ºçš„æ˜¯Mapsè€Œä¸æ˜¯Sets</span></span><br><span class="line"><span class="keyword">var</span> name = &#123;&#125;; <span class="comment">// mapï¼Œ not a set</span></span><br><span class="line"><span class="keyword">var</span> names = &lt;<span class="built_in">String</span>&gt;&#123;&#125;; <span class="comment">// String set</span></span><br><span class="line"><span class="built_in">Set</span>&lt;<span class="built_in">String</span>&gt; name2 = &#123;&#125;; <span class="comment">// Srting set</span></span><br></pre></td></tr></table></figure><p><code>Set</code>é€šè¿‡<code>add</code>æˆ–è€…<code>addAll</code>æ·»åŠ <code>item</code>ã€‚<br>å¯ä»¥é€šè¿‡<code>const</code>å…³é”®å­—åˆ›å»ºç¼–è¯‘å¸¸é‡<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// add ä¸ addAll</span></span><br><span class="line"><span class="keyword">var</span> el = &lt;<span class="built_in">String</span>&gt;&#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> el2 = &#123;<span class="string">'a'</span>, <span class="string">'b'</span>&#125;;</span><br><span class="line">el.add(<span class="string">'c'</span>);</span><br><span class="line">el.addAll(el2);</span><br><span class="line"><span class="keyword">assert</span>(el.length == <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// const</span></span><br><span class="line"><span class="keyword">final</span> constantSet = <span class="keyword">const</span> &#123;</span><br><span class="line">  <span class="string">'a'</span>, <span class="string">'b'</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="Maps-ç›¸å½“äºjsçš„å¯¹è±¡"><a href="#Maps-ç›¸å½“äºjsçš„å¯¹è±¡" class="headerlink" title="Maps(ç›¸å½“äºjsçš„å¯¹è±¡)"></a>Maps(ç›¸å½“äºjsçš„å¯¹è±¡)</h2><p><code>Dart</code>çš„<code>Map</code>ä¸é™åˆ¶<code>key</code>çš„ç±»å‹ï¼Œæ„å‘³ç€å¦‚æœæ˜¯<code>number</code>ç±»å‹ï¼Œä¸éœ€è¦å’Œ<code>js</code>ä¸€æ ·ï¼Œç”¨<code>[]</code>åŒ…ç€ã€‚</p><p><code>Map</code>ä¹Ÿä¼šæ¨æ–­<code>key</code>å’Œ<code>value</code>çš„ç±»å‹,æ¯”å¦‚ä¸‹é¢çš„ <code>map1</code> å°±æ˜¯<code>key</code>ä¸º<code>int</code>ç±»å‹ï¼Œ<code>value</code>ä¸º<code>string</code>ç±»å‹çš„<code>map</code>.</p><p>å¦‚æœè·å–æŸä¸ª<code>map</code>æ²¡æœ‰çš„<code>value</code>,åˆ™<code>value</code>é»˜è®¤æ˜¯<code>null</code>ã€‚è¿™ç‚¹å’Œ<code>js</code>çš„<code>undefined</code>ä¸åŒï¼Œå¯ä»¥å¯¹æ¯”å˜é‡åˆå§‹åŒ–çš„æƒ…å†µç±»æ¨ã€‚</p><p><code>map</code>ä¹Ÿæœ‰<code>length</code>å±æ€§ï¼Œç±»æ¯”<code>js</code>çš„<code>Object.keys(obj).length</code>.</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// mapçš„keyå¯ä»¥æ˜¯ä»»æ„ç±»å‹</span></span><br><span class="line"><span class="keyword">var</span> gif = &#123;</span><br><span class="line">  <span class="string">'a'</span>: <span class="string">'b'</span>,</span><br><span class="line">  <span class="number">1</span>: <span class="number">2</span>,</span><br><span class="line">  <span class="number">3</span>: <span class="string">'4'</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &lt;int&gt;: &lt;String&gt; ç±»å‹çš„map</span></span><br><span class="line"><span class="keyword">var</span> map1 = &#123;</span><br><span class="line">  <span class="number">1</span>: <span class="string">'2'</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¼–è¯‘æ—¶å¸¸é‡map</span></span><br><span class="line"><span class="keyword">final</span> constantMap = <span class="keyword">const</span> &#123;</span><br><span class="line">  <span class="number">2</span>: <span class="string">'2'</span>,</span><br><span class="line">&#125;</span><br><span class="line">constantMap[<span class="number">2</span>] = <span class="string">'3'</span>; <span class="comment">// error</span></span><br></pre></td></tr></table></figure><h2 id="Runes"><a href="#Runes" class="headerlink" title="Runes"></a>Runes</h2><p>emmm è¿™ä¸ªæˆ‘çš„ç†è§£æ˜¯UTF-32ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œç®€å•ç†è§£å°±æ˜¯å¯ä»¥æ”¯æŒæ›´å¤šç±»å‹çš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚emojiï¼Œå·¥ä½œç”¨åˆ°å†å»æŸ¥ã€‚<br>æ¯”å¦‚<code>&#39;\u{1f44f}&#39;;</code>æ˜¯<code>ğŸ‘</code>,<code>\u2665</code>æ˜¯<code>â™¥</code>ã€‚</p><h2 id="Symbols-ç±»æ¯”jsçš„Symbol"><a href="#Symbols-ç±»æ¯”jsçš„Symbol" class="headerlink" title="Symbols (ç±»æ¯”jsçš„Symbol)"></a>Symbols (ç±»æ¯”jsçš„Symbol)</h2><p>å¯¹<code>Symbol</code>çš„ç†è§£å¯ä»¥ç›´æ¥çœ‹<a href="https://es6.ruanyifeng.com/#docs/symbol" target="_blank" rel="noopener">é˜®ä¸€å³°çš„ES6-Symbol</a>ï¼ŒåŸºæœ¬çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ã€‚</p><p><code>Dart</code>çš„<code>Symbol</code>æ˜¯<code>compoile-time constants</code>ï¼Œå°±æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ã€‚<br>ä½¿ç”¨ä¹Ÿå¾ˆç®€å•ï¼Œç›´æ¥åœ¨æ ‡è¯†å‰é¢åŠ ä¸ª<code>#</code></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> symbol = #symbol;</span><br></pre></td></tr></table></figure><h1 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h1><p>Dartæ˜¯é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œæ‰€ä»¥å‡½æ•°ä¹Ÿæ˜¯ä¸€ç§<code>Function</code>ç±»å‹çš„å¯¹è±¡ã€‚</p><p>å‚æ•°çš„é»˜è®¤å€¼éƒ½ä¸º<code>null</code>ã€‚</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸºæœ¬ç”¨æ³•</span></span><br><span class="line"><span class="built_in">bool</span> isNaN(<span class="built_in">int</span> number) &#123;</span><br><span class="line">  <span class="keyword">return</span> number.isNaN;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">isNaN2(number) &#123;</span><br><span class="line">  <span class="keyword">return</span> number.isNaN;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">bool</span> isNaN3(<span class="built_in">int</span> number)=&gt; number.isNaN;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‚æ•°ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">void</span> enableFlags(&#123;</span><br><span class="line">  <span class="built_in">bool</span> bold,</span><br><span class="line">  <span class="built_in">bool</span> hidden</span><br><span class="line">&#125;) &#123;</span><br><span class="line">  <span class="built_in">print</span>(bold);</span><br><span class="line">  <span class="built_in">print</span>(hidden);</span><br><span class="line">&#125;</span><br><span class="line">enableFlags(bold: <span class="keyword">true</span>, hidden: <span class="keyword">false</span>); <span class="comment">// true false</span></span><br><span class="line">enableFlags(hidden: <span class="keyword">false</span>, bold: <span class="keyword">true</span>); <span class="comment">// true false</span></span><br><span class="line">enableFlags(hidden: <span class="keyword">false</span>); <span class="comment">// null false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™ç§å¯¹å‚æ•°çš„é¡ºåºæœ‰ä¸¥æ ¼è¦æ±‚, []è¡¨ç¤ºå¯é€‰å‚æ•°</span></span><br><span class="line"><span class="keyword">void</span> enableFlags2(<span class="built_in">bool</span> bold, <span class="built_in">bool</span> hidden, [<span class="built_in">String</span> device]) &#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">enableFlags2(<span class="keyword">true</span>, <span class="keyword">false</span>, <span class="string">'device'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// é»˜è®¤å‚æ•°</span></span><br><span class="line"><span class="keyword">void</span> enableFlags(&#123;</span><br><span class="line">  <span class="built_in">bool</span> bold= <span class="keyword">false</span>,</span><br><span class="line">  <span class="built_in">bool</span> hidden= <span class="keyword">false</span>,</span><br><span class="line">&#125;) &#123;&#125;</span><br><span class="line">enableFlags(hidden: <span class="keyword">true</span>); <span class="comment">// false true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½ ä¹Ÿå¯ä»¥ç”¨ list å’Œ mapä½œä¸ºé»˜è®¤å‚æ•°</span></span><br><span class="line"><span class="keyword">void</span> doStuff(&#123;</span><br><span class="line">  <span class="built_in">List</span>&lt;<span class="built_in">int</span>&gt; list = <span class="keyword">const</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line">  <span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="built_in">String</span>&gt; gifts = <span class="keyword">const</span> &#123;</span><br><span class="line">    <span class="string">'first'</span>: <span class="string">'paper'</span>,</span><br><span class="line">    <span class="string">'second'</span>: <span class="string">'cotton'</span>,</span><br><span class="line">    <span class="string">'third'</span>: <span class="string">'leather'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;) &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">'list: <span class="subst">$list</span>'</span>);</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">'gifts: <span class="subst">$gifts</span>'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="main-å‡½æ•°"><a href="#main-å‡½æ•°" class="headerlink" title="main å‡½æ•°"></a>main å‡½æ•°</h2><p>æ¯ä¸ªappéƒ½éœ€è¦åœ¨æœ€é¡¶å±‚æä¾›ä¸€ä¸ª<code>main</code>å‡½æ•°ç”¨äºå…¥å£å‡½æ•°ï¼Œ<code>main</code>å‡½æ•°æä¾›ä¸€ä¸ªvoidè¿”å›å€¼ä¸<code>List&lt;String&gt;</code>å‚æ•°(å‚æ•°æŒ‡çš„æ˜¯å‘½ä»¤è¡Œä¼ å…¥çš„å‚æ•°)ã€‚</p><h2 id="å‡½æ•°ä¸ºç¬¬ä¸€å…¬æ°‘"><a href="#å‡½æ•°ä¸ºç¬¬ä¸€å…¬æ°‘" class="headerlink" title="å‡½æ•°ä¸ºç¬¬ä¸€å…¬æ°‘"></a>å‡½æ•°ä¸ºç¬¬ä¸€å…¬æ°‘</h2><p>å’Œjsä¸€æ ·ï¼ŒDartä¹Ÿæ”¯æŒå°†å‡½æ•°ä½œä¸ºå‚æ•°ä¼ ç»™å¦ä¸€ä¸ªå‡½æ•°ï¼ˆé«˜é˜¶å‡½æ•°ï¼‰ã€‚<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> printE(<span class="built_in">int</span> e) &#123;</span><br><span class="line">  <span class="built_in">print</span>(e);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> list = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">list.forEach(printE);</span><br></pre></td></tr></table></figure></p><h2 id="åŒ¿åå‡½æ•°ã€ä½œç”¨åŸŸä¸é—­åŒ…"><a href="#åŒ¿åå‡½æ•°ã€ä½œç”¨åŸŸä¸é—­åŒ…" class="headerlink" title="åŒ¿åå‡½æ•°ã€ä½œç”¨åŸŸä¸é—­åŒ…"></a>åŒ¿åå‡½æ•°ã€ä½œç”¨åŸŸä¸é—­åŒ…</h2><p>è¿™å‡ ä¸ªå’Œjsæ˜¯ä¸€æ ·çš„ï¼Œæ²¡å•¥å¥½è¯´</p><p>å¯¹è¯æ³•ä½œç”¨åŸŸå’ŒåŠ¨æ€ä½œç”¨åŸŸæœ‰ç–‘é—®çš„å¯ä»¥çœ‹<a href="https://github.com/mqyqingfeng/Blog/issues/3" target="_blank" rel="noopener">è¿™ç¯‡</a></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒ¿åå‡½æ•°</span></span><br><span class="line"><span class="keyword">var</span> list = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">list.forEach((item)=&gt; <span class="built_in">print</span>(item));</span><br><span class="line">list.forEach((item) &#123;<span class="built_in">print</span>(item);&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯æ³•ä½œç”¨åŸŸ</span></span><br><span class="line">a() &#123;</span><br><span class="line">  <span class="keyword">var</span> a1 = <span class="keyword">true</span>;</span><br><span class="line">  b() &#123;</span><br><span class="line">    <span class="keyword">var</span> b1 = <span class="keyword">true</span>;</span><br><span class="line">    c() &#123;</span><br><span class="line">      <span class="keyword">var</span> c1 = <span class="keyword">true</span>;</span><br><span class="line">      <span class="keyword">assert</span>(a1);</span><br><span class="line">      <span class="keyword">assert</span>(b1);</span><br><span class="line">      <span class="keyword">assert</span>(c1);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é—­åŒ…</span></span><br><span class="line"><span class="built_in">Function</span> makeAdder(<span class="built_in">num</span> addBy) &#123;</span><br><span class="line">  <span class="keyword">return</span> (<span class="built_in">num</span> i) =&gt; addBy + i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="comment">// Create a function that adds 2.</span></span><br><span class="line">  <span class="keyword">var</span> add2 = makeAdder(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Create a function that adds 4.</span></span><br><span class="line">  <span class="keyword">var</span> add4 = makeAdder(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">assert</span>(add2(<span class="number">3</span>) == <span class="number">5</span>);</span><br><span class="line">  <span class="keyword">assert</span>(add4(<span class="number">3</span>) == <span class="number">7</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å‡½æ•°ç±»å‹-Testing-functions-for-equality"><a href="#å‡½æ•°ç±»å‹-Testing-functions-for-equality" class="headerlink" title="å‡½æ•°ç±»å‹(Testing functions for equality)"></a>å‡½æ•°ç±»å‹(Testing functions for equality)</h2><p>çœ‹ç€è‡ªå·±ç†è§£ä¸€ä¸‹å°±å¥½<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> foo() &#123;&#125; <span class="comment">// A top-level function</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">void</span> bar() &#123;&#125; <span class="comment">// A static method</span></span><br><span class="line">  <span class="keyword">void</span> baz() &#123;&#125; <span class="comment">// An instance method</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="keyword">var</span> x;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Comparing top-level functions.</span></span><br><span class="line">  x = foo;</span><br><span class="line">  <span class="keyword">assert</span>(foo == x);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Comparing static methods.</span></span><br><span class="line">  x = A.bar;</span><br><span class="line">  <span class="keyword">assert</span>(A.bar == x);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Comparing instance methods.</span></span><br><span class="line">  <span class="keyword">var</span> v = A(); <span class="comment">// Instance #1 of A</span></span><br><span class="line">  <span class="keyword">var</span> w = A(); <span class="comment">// Instance #2 of A</span></span><br><span class="line">  <span class="keyword">var</span> y = w;</span><br><span class="line">  x = w.baz;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// These closures refer to the same instance (#2),</span></span><br><span class="line">  <span class="comment">// so they're equal.</span></span><br><span class="line">  <span class="keyword">assert</span>(y.baz == x);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// These closures refer to different instances,</span></span><br><span class="line">  <span class="comment">// so they're unequal.</span></span><br><span class="line">  <span class="keyword">assert</span>(v.baz != w.baz);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="å‡½æ•°è¿”å›å€¼"><a href="#å‡½æ•°è¿”å›å€¼" class="headerlink" title="å‡½æ•°è¿”å›å€¼"></a>å‡½æ•°è¿”å›å€¼</h2><p>å‡½æ•°éƒ½ä¼šè¿”å›ä¸€ä¸ªå€¼ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šçš„è¯ï¼Œåˆ™ä¼šè¿”å›nullã€‚<em><code>Dart</code>é‡Œé¢æ²¡æœ‰<code>undefined</code>çš„æ¦‚å¿µï¼Œç›®å‰çœ‹æ¥æ‰€æœ‰å¯¹äºjsçš„<code>undefined</code>éƒ½å¯ä»¥æ›¿æ¢æˆ<code>null</code></em></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">foo() &#123;&#125;</span><br><span class="line"><span class="keyword">assert</span>(foo() == <span class="keyword">null</span>);</span><br></pre></td></tr></table></figure><h1 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h1><h2 id="ç±»å‹æµ‹è¯•è¿ç®—ç¬¦"><a href="#ç±»å‹æµ‹è¯•è¿ç®—ç¬¦" class="headerlink" title="ç±»å‹æµ‹è¯•è¿ç®—ç¬¦"></a>ç±»å‹æµ‹è¯•è¿ç®—ç¬¦</h2><p><code>as</code>ã€<code>is</code>ã€<code>is!</code>ç±»ä¼¼ <code>instanceof</code></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> firstName= <span class="string">'2'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="keyword">var</span> b;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a <span class="keyword">is</span> Person) &#123; <span class="comment">// true</span></span><br><span class="line">  a.firstName = <span class="string">'b'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (b <span class="keyword">is</span>! Person) &#123; <span class="comment">// true</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">'b is not person'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›¸å½“äº if (a is Person) xxx çš„ç¼©å†™</span></span><br><span class="line"><span class="comment">// å¦‚æœ a æ˜¯ Personçš„å®ä¾‹ï¼Œå°±ä¼šæ‰§è¡Œ firstName = 'Bob'</span></span><br><span class="line"><span class="comment">// å¦‚æœ a ä¸æ˜¯ Personçš„å®ä¾‹ï¼Œä¼šæŠ›é”™!</span></span><br><span class="line">(a <span class="keyword">as</span> Person).firstName = <span class="string">'Bob'</span>;</span><br></pre></td></tr></table></figure><h2 id="åˆ†é…è¿ç®—ç¬¦"><a href="#åˆ†é…è¿ç®—ç¬¦" class="headerlink" title="åˆ†é…è¿ç®—ç¬¦"></a>åˆ†é…è¿ç®—ç¬¦</h2><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = value; <span class="comment">// ç›´æ¥æŠŠvalueåˆ†é…ç»™a</span></span><br><span class="line">b ??= value; <span class="comment">// å¦‚æœbä¸ºnullï¼Œåˆ™åˆ†é…valueç»™bï¼Œå¦åˆ™ä¸æ”¹å˜ã€‚è¿™é‡Œç»å¸¸æ˜¯å‡½æ•°é‡Œé¢çš„é»˜è®¤å€¼å¤„ç†ï¼Œç±»ä¼¼jsçš„ var obj = obj || &#123;&#125;;</span></span><br></pre></td></tr></table></figure><h2 id="ä¸‰ç›®è¿ç®—ç¬¦"><a href="#ä¸‰ç›®è¿ç®—ç¬¦" class="headerlink" title="ä¸‰ç›®è¿ç®—ç¬¦"></a>ä¸‰ç›®è¿ç®—ç¬¦</h2><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// condition? expr1: expr2</span></span><br><span class="line"><span class="keyword">var</span> vis = isPublic? <span class="string">'public'</span>: <span class="string">'private'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// expr1?? pxpr2 å¦‚æœexpr1ä¸ºNullï¼Œå°±è¿”å›expr2ï¼Œå¦åˆ™æ˜¯expr1ã€‚æœ‰ç‚¹ç±»ä¼¼åŠ å¼ºç‰ˆçš„jsé‡Œé¢çš„ a=&gt; a || 'test'</span></span><br><span class="line"><span class="built_in">String</span> playName(<span class="built_in">String</span> name)=&gt; name?? <span class="string">'guest'</span>;</span><br></pre></td></tr></table></figure><h2 id="Cascade-notation"><a href="#Cascade-notation" class="headerlink" title="Cascade notation"></a>Cascade notation</h2><p><code>Cascade(..)</code> æœ‰ç‚¹åƒé“¾å¼å†™æ³•çš„è¯­æ³•ç³–,å…è®¸æ‚¨å¯¹åŒä¸€å¯¹è±¡è¿›è¡Œä¸€ç³»åˆ—æ“ä½œ,ä¸å¾—ä¸è¯´è¿™äº›è¯­æ³•ç³–çœŸéªšâ€¦</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .. å†™æ³•</span></span><br><span class="line">querySelect(<span class="string">'#confirm'</span>)</span><br><span class="line">  ..text = <span class="string">'Confirm'</span></span><br><span class="line">  ..classes.add(<span class="string">'important'</span>)</span><br><span class="line">  ..onClick.listen((e)=&gt; <span class="built_in">window</span>.alter(<span class="string">'Confirmed!'</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›¸å½“äº</span></span><br><span class="line"><span class="keyword">var</span> button = <span class="built_in">querySelector</span>(<span class="string">'#confirm'</span>);</span><br><span class="line">button.text = <span class="string">'Confirm'</span>;</span><br><span class="line">button.classes.add(<span class="string">'important'</span>);</span><br><span class="line">button.onClick.listen((e)=&gt; <span class="built_in">window</span>.alter(<span class="string">'Confirmed!'</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½ è¿˜å¯ä»¥éšæ„åµŒå¥—</span></span><br><span class="line"><span class="keyword">final</span> addressBook = (AddressBookBuilder()</span><br><span class="line">  ..name = <span class="string">'jenny'</span></span><br><span class="line">  ..email = <span class="string">'jsonz@qq.com'</span></span><br><span class="line">  ..phone = (</span><br><span class="line">    PhoneNumberBuilder()</span><br><span class="line">      ..number = <span class="string">'13560042631'</span></span><br><span class="line">      ..label = <span class="string">'phone'</span></span><br><span class="line">      .build()</span><br><span class="line">  )</span><br><span class="line">  .build();</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h2 id="å…¶ä»–æ“ä½œç¬¦"><a href="#å…¶ä»–æ“ä½œç¬¦" class="headerlink" title="å…¶ä»–æ“ä½œç¬¦"></a>å…¶ä»–æ“ä½œç¬¦</h2><p><code>()</code> å‡½æ•°è°ƒç”¨<br><code>[]</code> list<br><code>.</code> å±æ€§<br><code>?.</code> ä¸€èˆ¬ç”¨äºå±æ€§èµ‹å€¼ï¼Œæ¯”å¦‚ <code>person?.name = &#39;jsonz&#39;</code>ï¼ˆå¦‚æœpersonä¸ä¸ºnull, åˆ™è®¾ç½®person.nameä¸ºjsonzï¼Œé¿å…å·¦è¾¹personä¸ºnullæ—¶æŠ¥é”™ï¼‰ã€‚</p><h1 id="æ§åˆ¶æµç¨‹è¯­å¥"><a href="#æ§åˆ¶æµç¨‹è¯­å¥" class="headerlink" title="æ§åˆ¶æµç¨‹è¯­å¥"></a>æ§åˆ¶æµç¨‹è¯­å¥</h1><p>è¿™é‡Œåªä¼šæŒ‘ä¸jsä¸åŒçš„æ¥è®²</p><h2 id="if-else"><a href="#if-else" class="headerlink" title="if..else"></a>if..else</h2><p>ä¸åŒç‚¹æ˜¯<code>Dart</code>ä¸ä¼šéšå¼è½¬æ¢ï¼Œæ‰€ä»¥åˆ¤æ–­çš„å†…å®¹åªèƒ½æ˜¯å¸ƒå°”å€¼<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">false</span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">false</span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="loop"><a href="#loop" class="headerlink" title="loop"></a>loop</h2><h3 id="for"><a href="#for" class="headerlink" title="for"></a>for</h3><h3 id="for-in"><a href="#for-in" class="headerlink" title="for in"></a>for in</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> collection = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> x <span class="keyword">in</span> collection) &#123;</span><br><span class="line">  <span class="built_in">print</span>(x); <span class="comment">// 'a' 'b' 'c'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="while-amp-amp-do-while"><a href="#while-amp-amp-do-while" class="headerlink" title="while &amp;&amp; do-while"></a>while &amp;&amp; do-while</h3><h3 id="break-amp-amp-continue"><a href="#break-amp-amp-continue" class="headerlink" title="break &amp;&amp; continue"></a>break &amp;&amp; continue</h3><p>break åœæ­¢å¾ªç¯<br>continueè·³è¿‡å½“å‰æ¬¡ï¼Œè¿›è¡Œä¸‹ä¸€æ¬¡å¾ªç¯</p><h2 id="Switch-amp-amp-case"><a href="#Switch-amp-amp-case" class="headerlink" title="Switch &amp;&amp; case"></a>Switch &amp;&amp; case</h2><p>switch å¯ä»¥å¯¹æ¯” <code>string</code>ã€<code>number</code>ã€<code>bool</code>ä½†æ˜¯ä¸èƒ½æ··ç€ç”¨ã€‚</p><h2 id="Assert-æ–­è¨€"><a href="#Assert-æ–­è¨€" class="headerlink" title="Assert(æ–­è¨€)"></a>Assert(æ–­è¨€)</h2><p>å†™è¿‡å•å…ƒæµ‹è¯•çš„åº”è¯¥å¯¹<code>assert</code>ä¸é™Œç”Ÿï¼Œå¦‚æœå¸ƒå°”æ¡ä»¶ä¸º<code>false</code>åˆ™<code>assert</code>ä¼šä¸­æ–­æ‰§è¡Œã€‚<br>ä¸è¿‡åªä¼šåœ¨å¼€å‘æ¨¡å¼èµ·ä½œç”¨ï¼Œç”Ÿäº§ç¯å¢ƒä¸ä¼šæ‰§è¡Œã€‚</p><h1 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h1><h2 id="Throw-æŠ›é”™"><a href="#Throw-æŠ›é”™" class="headerlink" title="Throw æŠ›é”™"></a>Throw æŠ›é”™</h2><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> FormatException(<span class="string">'expected at least 1 section'</span>);</span><br><span class="line"><span class="keyword">throw</span> <span class="string">'out of llamas!'</span>;</span><br></pre></td></tr></table></figure><h2 id="catch"><a href="#catch" class="headerlink" title="catch"></a>catch</h2><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  breedMoreLlamas();</span><br><span class="line">&#125; on OutOfLlamasException &#123;</span><br><span class="line">  <span class="comment">// A specific exception</span></span><br><span class="line">  buyMoreLlamas();</span><br><span class="line">&#125; on Exception <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="comment">// Anything else that is an exception</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">'Unknown exception: <span class="subst">$e</span>'</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e, s) &#123;</span><br><span class="line">  <span class="comment">// No specified type, handles all</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">'Something really unknown: <span class="subst">$e</span>'</span>);</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">'Stack trace: \n <span class="subst">$s</span>'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="finally"><a href="#finally" class="headerlink" title="finally"></a>finally</h2><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  someThing()</span><br><span class="line">&#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">'Error: <span class="subst">$e</span>'</span>);</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">  clean();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä¸€ä¸ªæœ€åŸºç¡€çš„Dartç¨‹åº&lt;br&gt;&lt;figure class=&quot;highlight dart&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/sp
      
    
    </summary>
    
      <category term="technology" scheme="https://jsonz1993.github.io/categories/technology/"/>
    
    
      <category term="Dart" scheme="https://jsonz1993.github.io/tags/Dart/"/>
    
      <category term="Flutter" scheme="https://jsonz1993.github.io/tags/Flutter/"/>
    
  </entry>
  
  <entry>
    <title>April</title>
    <link href="https://jsonz1993.github.io/2019/04/April/"/>
    <id>https://jsonz1993.github.io/2019/04/April/</id>
    <published>2019-04-15T10:13:29.000Z</published>
    <updated>2019-12-21T04:37:05.144Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨æ·±åœ³å›å¹¿å·çš„é«˜é“ä¸Šå†™çš„</p><p>å››æœˆä»½å¥½åƒè¿‡çš„ç‰¹åˆ«æ··</p><h1 id="å…³äºè‡ªè€ƒ"><a href="#å…³äºè‡ªè€ƒ" class="headerlink" title="å…³äºè‡ªè€ƒ"></a>å…³äºè‡ªè€ƒ</h1><p>è‡ªè€ƒçš„æƒ…å†µ emmm é«˜æ•°å’Œæ¦‚ç‡è®ºç›´æ¥ç¼ºè€ƒï¼Œå› ä¸ºå»äº†å¤§æ¦‚ç‡æ˜¯å‘å‘†ä¸¤å°æ—¶ï¼Œè¿˜ä¸å¦‚åšå…¶ä»–äº‹æƒ…ã€‚<br>æ•°æ®ç»“æ„æ¯”æƒ³è±¡ä¸­çš„ç®€å•ï¼Œè™½ç„¶è‡ªå·±çš„ç®—æ³•ä¸æ€ä¹ˆæ ·ï¼Œä½†æ˜¯è€ƒè¯•å¥½åƒå¯¹ç®—æ³•è¦æ±‚ä¸é«˜ï¼Œå‰©ä¸‹çš„å°±æ˜¯è€ƒ80åˆ†è¿˜æ˜¯90åˆ†çš„åŒºåˆ«äº†<br>é©¬å…‹æ€ä¸»ä¹‰åŸºæœ¬æ¦‚è®ºæ¦‚è¿° emmmm è¿™ä¸ªç©æ„ï¼ŒèƒŒçš„ä¸œè¥¿ä¸è€ƒï¼Œè€ƒçš„ä¸œè¥¿æ²¡èƒŒï¼Œå¸Œæœ›èƒ½ä½åˆ†é£˜è¿‡å§</p><p>æ¥ä¸‹æ¥åº”è¯¥ä¼šé€‰ <code>è½¯ä»¶å·¥ç¨‹</code>è¿˜æœ‰ä¸€ç§‘å…³äºè®¡ç®—æœºåŸºç¡€çš„ï¼Œè¿˜æœ‰ä¸€ç§‘æ•°å­¦ç›¸å…³ï¼Œä¸€ç§‘å¾…è€ƒè™‘ã€‚åæœˆä»½åŠ æ²¹ğŸ’ªï¼Œå°±ç®—è¿‡å››ç§‘ä»Šå¹´çš„è®¡åˆ’ä¹Ÿå®Œæˆä¸äº† â•®(â•¯â–½â•°)â•­</p><h1 id="å…³äºå·¥ä½œ"><a href="#å…³äºå·¥ä½œ" class="headerlink" title="å…³äºå·¥ä½œ"></a>å…³äºå·¥ä½œ</h1><p>å·²ç»æ¥è¿‘ä¸¤ä¸ªæœˆæ²¡æœ‰æ•²ä»£ç äº†ï¼Œæ€•ä¸‹å‘¨ä¸€å…¥èŒæ—¶è¦è¢«ç‚’â€¦ä¸€ç›´æƒ³ç€ä¸‡ä¸€äººå®¶å‘ç°æˆ‘æ˜¯èœé¸¡ç‚’äº†æˆ‘ä¸æ˜¯å¾ˆå°´å°¬ã€‚<br>ä»å¹¿å·æ¬å»æ·±åœ³ï¼Œä¹‹å‰äº¤çš„ç¤¾ä¿ã€å…¬ç§¯é‡‘å•¥çš„å…¶å®åŸºæœ¬ä¸Šå°±åºŸäº†ã€‚å…¶å®æœ‰ç‚¹åƒæ–­äº†è‡ªå·±åè·¯äº†ï¼Œå¦‚æœä¸‹ä¸€ä»½å·¥ä½œä¸èƒ½è¿›åˆ°ç†æƒ³çš„å…¬å¸ï¼Œé‚£å…¶å®åŸºæœ¬ä¸Šå°±å¾ˆéš¾å†ä¸Šå‡ï¼Œåˆ°æ—¶å€™å†å‡ºå»å°±è¦èƒŒå¤–åŒ…çš„èƒŒæ™¯äº†ã€‚</p><p>é¢äº†CDCä¹‹åå°±æ²¡æœ‰æŠ•ç®€å†ï¼Œä¸è¿‡æ¸…æ˜è¿‡åè¿˜æ˜¯å»é¢äº†ä¸¤å®¶ï¼šfordealå’ŒYY</p><h2 id="fordeal"><a href="#fordeal" class="headerlink" title="fordeal"></a>fordeal</h2><p>fordealæ˜¯å› ä¸ºç»™çš„å¾…é‡å®åœ¨æ˜¯è¯±äººï¼ŒæŠ€æœ¯é¢ç”µè¯èŠäº†ä¸€ä¸ªå¤šå°æ—¶ä¹‹åè¿‡äº†ã€‚hré¢ç°åœºèŠäº†ä¸€å°æ—¶ï¼Œhrè¯´ä»–çº ç»“ï¼Œè®©æˆ‘å†å’Œä»–è€å¤§ç”µè¯é¢å¤šä¸€è½®ï¼Œè¿˜æ˜¯æŒ‚äº†ã€‚<br>hré¢ä¸€ç›´é—®çš„å°±æ˜¯å¸Œæœ›ä¸‹ä¸€å®¶å…¬å¸èƒ½ç»™ä½ ä»€ä¹ˆâ€¦emmmæˆ‘ä¹Ÿæ²¡å•¥é«˜è¦æ±‚ï¼ŒæŠ€æœ¯å¥½ç‚¹ï¼Œå¤§å®¶æœ‰ç‚¹è¿½æ±‚å°±å¥½äº†ã€‚</p><p>æŒ‚äº†è¿˜æ˜¯æŒºå¯æƒœçš„ï¼Œæ¯•ç«Ÿä¸€å¹´æœ€å¤š18ä¸ªæœˆæ‘†åœ¨é‚£é‡Œï¼Œä¸å¿ƒåŠ¨æ˜¯å‡çš„</p><h2 id="YY"><a href="#YY" class="headerlink" title="YY"></a>YY</h2><p>YYçš„è¯ï¼Œä¸å¾—ä¸è¯´maxå¯¹æˆ‘æŒºå¥½çš„ï¼Œåœ¨æ‹‰å‹¾çœ‹åˆ°æˆ‘æŠ•ç®€å†ä¹‹åå°±åœ¨å¾®ä¿¡å’Œæˆ‘èŠäº†ä¸€ä¸‹ï¼Œè®©æˆ‘ç›´æ¥å»é¢è¯•ã€‚é¢è¯•çš„æ—¶å€™ä¹Ÿæ²¡æœ‰å…·ä½“èŠæŠ€æœ¯ï¼Œä¹Ÿä¸ç”¨å†åšç¬”è¯•é¢˜äº†ï¼Œå°±é—®äº†æˆ‘</p><blockquote><p>å’Œå»å¹´å¯¹æ¯”ä½ æˆé•¿äº†ä»€ä¹ˆï¼Ÿ</p></blockquote><p>è¿™ç®€ç›´æ˜¯çµé­‚æ‹·é—®å•Šâ€¦æ¯”å¼ºå“¥çš„å¹´ç»ˆç»©æ•ˆè€ƒæ ¸è¿˜å°´å°¬â€¦ç¿»äº†18å¹´çš„å¹´ä¸­å’Œå¹´ç»ˆçš„ç»©æ•ˆè€ƒæ ¸è¡¨ï¼Œå‘ç°è¯´å…¶å®æŠ€æœ¯æ²¡æœ‰é•¿è¿›ï¼Œå¹³æ—¶ä¹Ÿåªæ˜¯åšä¸€äº›ä¸šåŠ¡æ€§çš„éœ€æ±‚ï¼Œè™½ç„¶è¿™ä¹Ÿæ˜¯æƒ³ç¦»èŒçš„åŸå› ï¼Œä½†æ˜¯å½’æ ¹åˆ°åº•è¿˜æ˜¯è‡ªå·±å¤ªå¼±äº†ã€‚</p><p>å¦‚æœçœŸçš„è‡ªå·±æœ‰è¶³å¤Ÿçš„å†³å¿ƒæƒ³å»æ”¹å˜è¿™äº›ä¸œè¥¿ï¼Œè‚¯å®šä¹Ÿæ˜¯å¯ä»¥è§£å†³çš„ï¼Œå¼ºå“¥ä¹Ÿæ²¡æœ‰é™åˆ¶æˆ‘çš„å‘æŒ¥ï¼Œæ‰€ä»¥æœ€ç»ˆè¿˜æ˜¯è‡ªå·±é€‰æ‹©å®‰é€¸ä¸€ç›´æ‘¸é±¼ã€‚</p><p>emmm ä¸è¿‡maxä¹Ÿæ²¡è®©æˆ‘éš¾å ªå“ˆå“ˆå“ˆï¼Œè¿˜æ˜¯è®©å¦ä¸€ä¸ªåŒäº‹è¿›è¡ŒäºŒé¢ã€‚èŠäº†ä¸‹æ¥ä¸‹æ¥uedçš„æ–¹å‘æ˜¯webglã€‚è¿™ä¸€å—ä¸€æ¥ä¸æ˜¯æˆ‘æ„Ÿå…´è¶£çš„æ–¹å‘ï¼›äºŒæ¥æˆ‘æœ€è¿‘æ·±çŸ¥è‡ªå·±æ•°å­¦æ¸£ï¼Œç¡®å®æ²¡æœ‰ä¿¡å¿ƒåšã€‚</p><p>æœ€åmaxèµ°äº†é€šé“å¸®æˆ‘æ¨äº†å…¶ä»–éƒ¨é—¨ï¼Œhræ‰“ç”µè¯è¯´</p><blockquote><p>uedçš„åŒäº‹æŠŠä½ ç®€å†æ¨ç»™æˆ‘ï¼Œè¯´æŠ€æœ¯æŒºä¸é”™ï¼Œäººä¹Ÿé è°±</p></blockquote><p>é‚£å¿ƒé‡Œç®€ç›´æ˜¯ä¹æ»‹æ»‹çš„ å“ˆå“ˆå“ˆå“ˆã€‚ä¸è¿‡ä»Šå¤©å·²ç»åœ¨æ·±åœ³ç§Ÿäº†æˆ¿å­ï¼Œæ‰€ä»¥å°±ç®—äº†ï¼Œä¸æ‰“ç®—å†é¢è¯•äº†ã€‚yy uedä¼°è®¡ä»¥åæ˜¯æ²¡æœ‰æœºä¼šå†è¿›äº†ï¼Œåé¢å†åšå°±æ˜¯å››äº”å¹´ç»éªŒï¼Œå¯èƒ½ä»¥åéƒ½æ˜¯èµ°ä¸šåŠ¡è¿™ä¸€å—è·¯çº¿äº†ã€‚</p><h2 id="CDC"><a href="#CDC" class="headerlink" title="CDC"></a>CDC</h2><p>emmmm å…¶å®é€‰æ‹©å»æ·±åœ³åšå¤–åŒ…ä»”ä¸ç»§ç»­é¢çš„ä¸€ä¸ªå¾ˆå¤§çš„åŸå› æ˜¯ï¼Œleaderç»™æˆ‘çš„æ„Ÿè§‰å¾ˆé è°±ï¼Œæˆ‘æ˜¯ä¸€ä¸ªæ¯”è¾ƒæŒ‘leaderçš„äººï¼ˆé¢ç§Ÿç§Ÿè½¦å…¥èŒæ˜¯å› ä¸ºæ˜¯è´¤å“¥é¢æˆ‘çš„ï¼ŒæŠ€æœ¯äººéƒ½è´¼é è°±ï¼‰ã€‚<br>ç„¶åcdc leaderæœ‰å‡ ä¸ªç»†èŠ‚ç‚¹</p><p>ç¬¬ä¸€ä¸ªæ˜¯ç›´å±leaderåœ¨å¾®ä¿¡å’Œæˆ‘è¯´äº† <strong>åç»­ä½ å¾€ç§»åŠ¨ç«¯æ–¹å‘å‘å±•å§ï¼Œåˆ°æ—¶åº”è¯¥æ˜¯æˆ‘åšä½ å¯¼å¸ˆ</strong> ã€‚è¿™ä¸ªç»†èŠ‚æ˜¯å› ä¸ºæˆ‘åœ¨é¢è¯•çš„æ—¶å€™ï¼Œè¯´äº†æˆ‘åé¢ä¸ªäººæ¯”è¾ƒæœŸæœ›çš„æ–¹å‘ä¸€ä¸ªæ˜¯nativeæ–¹å‘ï¼Œä¸€ä¸ªæ˜¯serveræ–¹å‘ã€‚zawaè®°ä½äº† &amp;&amp; å’Œæˆ‘è¯´äº†ï¼Œæ‰€ä»¥å½“æ—¶å°±å¿ƒåŠ¨äº†ä¸€ä¸‹ï¼Œç„¶åè‹ä¸‰åŒå­¦ä¹Ÿè¯´è¿™äººç»™å¥¹çš„æ„Ÿè§‰æ˜¯ <strong>é è°±ï¼Œä¸æ˜¯æµ®å¤¸çš„äºº</strong>ã€‚è™½ç„¶ maxå’Œjlç»™æˆ‘çš„æ„Ÿè§‰ä¹Ÿå¾ˆä¸é”™ï¼Œä¸è¿‡æ–¹å‘ä¸åŒå°±ä»¥åæœ‰æœºä¼šå†è§å§ã€‚</p><p>ç¬¬äºŒä¸ªæ˜¯leaderâ€™s leader åœ¨é¢è¯•çš„æ—¶å€™å’Œæˆ‘èŠäº†å¾ˆå¤šæ¯”è¾ƒå®åœ¨çš„é—®é¢˜ï¼Œäººä¸€çœ‹å°±æ¯”è¾ƒå®åœ¨ å’Œæˆ‘ä¸€æ ·ã€‚ä¸ªäººæ¯”è¾ƒå–œæ¬¢åœ¨è¿™ç§æ°›å›´å·¥ä½œå’Œæˆé•¿ã€‚</p><p>å¸Œæœ›æ¥ä¸‹æ¥çš„å·¥ä½œå¯ä»¥ç”¨ä¸Šæ°¸å“¥æ•™æˆ‘çš„é‚£äº›ä¸œè¥¿ï¼Œä»è‡ªæˆ‘ç®¡ç†åšå‚¨å¤‡ï¼Œæ‰©å±•åˆ°ä»¥åé¡¹ç›®ç®¡ç†ä¸ŠğŸ¶</p><h1 id="å…³äºç§Ÿæˆ¿"><a href="#å…³äºç§Ÿæˆ¿" class="headerlink" title="å…³äºç§Ÿæˆ¿"></a>å…³äºç§Ÿæˆ¿</h1><p>ç§Ÿæˆ¿è¿™äº‹æƒ…çœŸçš„å¾ˆçœ‹ç¼˜åˆ†ï¼Œæœ¬æ¥æ‰¾äº†å‡ ä¸ªç™½çŸ³æ´²çš„ï¼Œå‡ ä¸ªå›ºæˆçš„ï¼Œæœ€åçœ‹å®Œç™½çŸ³æ´²çš„ å°±ä¸æƒ³å†è·‘å…³å¤–å»çœ‹å›ºæˆï¼Œæƒ³ç€æ—¢ç„¶éƒ½æ˜¯ç§Ÿæˆ¿ï¼Œå°±ä¸è¦è®©è‡ªå·±é‚£ä¹ˆç´¯æ•´å¤©åé‚£ä¹ˆä¹…åœ°é“ï¼ŒåŠ ä¸Šæƒ³ç€ä»¥åè‡ªå·±åº”è¯¥å¤§æ¦‚ç‡995ï¼Œæ‰€ä»¥åœ¨å®¿èˆçš„æ—¶é—´å¯èƒ½ä¹Ÿæ²¡æœ‰ç‰¹åˆ«é•¿å°±ä¸è¿½æ±‚ä½å¤§é¢ç§¯äº†ã€‚</p><p>æœ€åé€‰äº†ä¸€ä¸ªåœ¨ç™½çŸ³æ´²åœ°é“5åˆ†é’Ÿè·¯ç¨‹çš„å°åŒºï¼Œ2300+200 åœ¨ä¸€æ¥¼é¢ç§¯ä¼°è®¡åŠ èµ·æ¥ä¸åˆ°8å¹³æ–¹ï¼Œä¸è¿‡æœ‰å¨æˆ¿ï¼Œæœ‰é˜³å…‰ï¼Œæˆ¿é—´çœ‹èµ·æ¥ç›¸å¯¹å¹²å‡€ä¸€ä¸ªäººä½å¤Ÿäº†ã€‚<br>ä»¥åå¦‚æœè¯´ä¹°ä¸ªå¹³è¡¡è½¦ï¼Œä¸Šä¸‹ç­ä¼°è®¡éƒ½ä¸éœ€è¦å»æŒ¤åœ°é“ï¼Œä¹Ÿæ˜¯å€¼äº†ã€‚</p><h1 id="å…³äº2019"><a href="#å…³äº2019" class="headerlink" title="å…³äº2019"></a>å…³äº2019</h1><p>emmm æœ€è¿‘ç¡®å®æ„Ÿè§‰åˆ°è‡ªå·±æ‡’æƒ°äº†ä¸å°‘ï¼Œå¥½åƒæ²¡æœ‰å·¥ä½œä¹‹åï¼Œç”Ÿæ´»åè€Œå˜å¾—ä¸è§„å¾‹ï¼Œæ¯å¤©åˆ’æ°´æ‘¸é±¼ç©æ¸¸æˆã€‚<br>githubå’Œblogä¹Ÿæ²¡æœ‰æ›´æ–°ä»€ä¹ˆä¸œè¥¿ï¼Œç™½ç™½æµªè´¹äº†è¿™ä¸€ä¸ªå¤šæœˆçš„æ—¶é—´ã€‚<br>2019å·²ç»è¿‡äº†1/3, 19å¹´çš„äº”ä¸ªè®¡åˆ’ç›®å‰åªå®Œæˆäº†ä¸¤ä¸ªã€‚</p><p>å‘Šè¾ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åœ¨æ·±åœ³å›å¹¿å·çš„é«˜é“ä¸Šå†™çš„&lt;/p&gt;
&lt;p&gt;å››æœˆä»½å¥½åƒè¿‡çš„ç‰¹åˆ«æ··&lt;/p&gt;
&lt;h1 id=&quot;å…³äºè‡ªè€ƒ&quot;&gt;&lt;a href=&quot;#å…³äºè‡ªè€ƒ&quot; class=&quot;headerlink&quot; title=&quot;å…³äºè‡ªè€ƒ&quot;&gt;&lt;/a&gt;å…³äºè‡ªè€ƒ&lt;/h1&gt;&lt;p&gt;è‡ªè€ƒçš„æƒ…å†µ emmm é«˜æ•°å’Œæ¦‚ç‡è®ºç›´æ¥ç¼ºè€ƒï¼Œå› ä¸º
      
    
    </summary>
    
      <category term="live" scheme="https://jsonz1993.github.io/categories/live/"/>
    
    
      <category term="live" scheme="https://jsonz1993.github.io/tags/live/"/>
    
  </entry>
  
  <entry>
    <title>march say</title>
    <link href="https://jsonz1993.github.io/2019/03/march-say/"/>
    <id>https://jsonz1993.github.io/2019/03/march-say/</id>
    <published>2019-03-27T21:41:58.000Z</published>
    <updated>2019-12-21T04:37:05.144Z</updated>
    
    <content type="html"><![CDATA[<p>æ€€ç–‘ä»Šå¹´æ˜¯ä¸æ˜¯æœ¬å‘½å¹´ï¼Œä¸‰æœˆåˆè£¸è¾ä¹‹åå…ˆç»ƒäº†ä¸€ä¸ªæ˜ŸæœŸçš„è½¦ï¼Œé¡ºæ‰‹æŠŠè½¦è¯è€ƒäº†ã€‚</p><p>è€ƒå®Œè½¦è¯ä¹‹åæŠ•ç®€å†ï¼Œå’Œä¸Šæ¬¡è£¸è¾ä¸€æ ·ï¼Œä¸€å¼€å§‹ç‰¹åˆ«æ–¹ï¼Œæµ·æŠ•ä¸€å †å…¬å¸ï¼Œåªè¦æœ‰é¢è¯•éƒ½å…ˆç­”åº”ç€ï¼Œæ¯å¤©å¼€å§‹ç„¦è™‘æä¸èµ·ç²¾ç¥åšå…¶ä»–äº‹æƒ…ã€‚</p><p>é¢è¿‡å‡ å®¶ä¹‹åå¿ƒæ€å¼€å§‹æ…¢æ…¢å¥½èµ·æ¥ã€‚</p><p>ä¸€æ–¹é¢ç°åœ¨äº’è”ç½‘ç¯å¢ƒæ€æ ·ï¼Ÿæˆ–è€…è¯´å‰ç«¯å¹¿å·è¿™è¾¹çš„å¸‚åœºæ€æ ·ï¼Ÿ</p><p>åé¥±å’Œï¼Œçœ‹æ‹›è˜è¦æ±‚è¶Šæ¥è¶Šé«˜å°±çŸ¥é“äº†ï¼Œç»å¤§éƒ¨åˆ†æ˜¯æœ¬ç§‘èµ·ï¼Œå·¥ä½œç»éªŒäº”å¹´èµ·ã€‚<br>ä½†æ˜¯è¿™ç§æƒ…å†µåªå‡ºç°åœ¨å¤§å‚æˆ–è€…æ¯”è¾ƒå¤§çš„å…¬å¸ï¼Œå°å…¬å¸è¿˜æ˜¯å¾ˆæœ‰ç»éªŒçš„äººï¼ˆå°å…¬å¸æŒ‡ä¸åˆ°500äººï¼‰ã€‚</p><p>ç¬¬äºŒæ–¹é¢æ˜¯å»é¢è¯•çš„å…¬å¸å¤§éƒ¨åˆ†éƒ½èƒ½è¿‡æŠ€æœ¯é¢ï¼Œæ‰€ä»¥æˆ–å¤šæˆ–å°‘å¤šäº†ä¸€ç‚¹ç‚¹ä¿¡å¿ƒå§ã€‚</p><p>ç®—äº†ä¸‹å¤§å¤§å°å°é¢äº†åå®¶å…¬å¸ï¼Œèƒ½åˆ°äººäº‹çš„æœ‰ä¸ƒå®¶ã€‚ä½†æ˜¯æˆ‘åˆ°ç°åœ¨å·¥ä½œç»éªŒä¸ç®—å®ä¹ ä¸ç®—ç©ºçª—å®æ‰“å®ä¹Ÿæœ‰ä¸‰å¹´å¤šâ€¦æ‰€ä»¥å¯¹ä¸‹ä¸€å®¶è¦æ±‚æŒºé«˜çš„ï¼Œå¸Œæœ›æ˜¯è¿›å¤§å‚çš„æœ€åä¸€å—è·³æ¿ï¼ŒåŠ ä¸Šè‡ªå·±å¯¹å…¬å¸æ¯”è¾ƒæŒ‘ï¼Œåˆä¸æƒ³å¤–åŒ…ï¼Œåˆæƒ³å…¬å¸æ°›å›´å¥½äººæ€§åŒ–ï¼Œåˆæƒ³æŠ€æœ¯æ°›å›´å¥½ï¼Œåˆæƒ³å›¢é˜Ÿæœ‰å¤§ç‰›ï¼Œåˆæƒ³æœ‰ä¸ªäººæ—¶é—´å­¦ä¹ æˆé•¿ï¼Œåˆæƒ³æœ‰ç¬¦åˆæœŸæœ›çš„è–ªèµ„ï¼Œåˆæƒ³ç¦»å®¶è¿‘â€¦.</p><p>ä¹‹å‰ä¸Šå‘¨å¾®ä¿¡æ”¶åˆ°ä¸€ä¸ªå¤§ä½¬åŠ å¥½å‹çš„è¯·æ±‚</p><p>æˆ‘çš„å¤©ï¼ï¼ï¼ï¼å±…ç„¶æ˜¯è…¾è®¯çš„ï¼ï¼ï¼å–Šæˆ‘å»é¢è¯•ï¼ï¼ï¼æˆ‘éƒ½è¿˜æ²¡æœ‰æœ¬ç§‘ æ€ä¹ˆå¯èƒ½ï¼ï¼ï¼ï¼<br>åæ­£å¼€å¿ƒäº†å‡ å¤©ï¼ŒæŠŠæ¥ä¸‹æ¥çš„é¢è¯•å…¨æ‹’äº†ç›´æ¥è¯´æœ‰å¿ƒä»ªçš„offerï¼Œç„¶åå‘¨ä¸€æ™šä¸Šå¼€å¿ƒåˆ°ç¡ä¸ç€è§‰ä¸‰ç‚¹æ‰ç¡ï¼Œæƒ³ç€å¦‚æœè¿‡äº†çš„è¯ï¼Œæˆ‘è¦æ€ä¹ˆæ¬è¿‡å»ï¼ŒèƒŒè°ƒå¡«è°æ¯”è¾ƒå¥½ï¼ŒçœŸçš„å°±åƒæŸäº›æ®µå­é‡Œé¢å†™çš„ï¼šâ€œè§åˆ°ä½ çš„æ—¶å€™è¿å­©å­çš„åå­—éƒ½æƒ³å¥½äº†â€ã€‚<br>ç„¶åå‘¨äºŒä¸ƒç‚¹èµ·äº†ä¸ªå¤§æ—©æ­é«˜é“å…ˆå»é™„è¿‘åƒéº¦å½“åŠ³å‘å‘å‘†ç­‰é¢è¯•ã€‚</p><p>è¿›åˆ°ä¼šè®®å®¤ç­‰é¢è¯•çš„æ—¶å€™ä¸ºäº†è®©è‡ªå·±ä¸é‚£ä¹ˆç´§å¼ ä¸€ç›´ç«™ç€æ·±å‘¼å¸ï¼Œä¸€é¢æŠ€æœ¯é¢è™½ç„¶ä¸æ˜¯å¾ˆæ»¡æ„ä½†æ˜¯å¥½åƒä¹Ÿè¿‡äº†ã€‚<br>é¢è¯•å®˜ï¼šæœ‰ä»€ä¹ˆæƒ³é—®çš„å—ï¼Ÿ<br>æˆ‘è¯´ï¼š å¬è¯´è…¾è®¯çš„é¢è¯•æµç¨‹æŒºä¹…çš„ï¼Œæ˜¯è¿™æ ·çš„å—ï¼Ÿ<br>é¢è¯•å®˜çœ‹ç€æˆ‘è¯´ï¼šä½ è¿™é‡Œçš„å­¦å†è‡ªè€ƒè¿˜æ²¡è€ƒå®Œï¼Œæˆ‘ä»¬è¿™é‡Œæœ‰æ­£ç¼–ä¹Ÿæœ‰å¤–åŒ…å²—â€¦<br>é‚£æ—¶å€™å¿ƒæƒ…çœŸæ˜¯è¿‡å±±è½¦ğŸ¢ï¼Œç¬é—´æ˜ç™½å’Œä¹‹å‰é¢ucé‡åˆ°ä¸€æ ·çš„é—®é¢˜ï¼ŒåŸæ¥é¢çš„æ˜¯å¤–åŒ…å²—â€¦.</p><p>ä¸è¿‡é¢è¯•å®˜æŒºå¥½çš„ï¼Œæ²¡æœ‰ç›´æ¥ç‚¹æ˜æˆ‘å¤ªèœäº†åªèƒ½è¿›å¤–åŒ…ï¼Œè€Œæ˜¯è¯´å­¦å†é—®é¢˜ å“ˆå“ˆå“ˆ<br>ä½†æ˜¯ä¸çŸ¥é“æ˜¯ä¸æ˜¯å¯¹è…¾è®¯æœ‰è«åçš„æ‰§ç€ï¼Œæ‰€ä»¥æ²¡æœ‰åƒå½“æ—¶é¢ucä¸€æ ·ç›´æ¥èµ°äººï¼Œè¿˜æ˜¯æƒ³ç»§ç»­é¢ä¸‹å»ï¼Œå¯èƒ½æ˜¯å…¶æ¯…å¤§å“¥å°±åœ¨è…¾è®¯çš„ç¼˜æ•…å§</p><p>äºŒé¢é¢è¯•å®˜ä¹Ÿç‰¹åˆ«å®åœ¨ï¼Œå’Œæˆ‘èŠäº†å¯¹æˆ‘çš„å»ºè®®å’Œå¤–åŒ…æ³¨æ„çš„äº‹æƒ…ä¹‹ç±»çš„ã€‚</p><p>æƒ³æƒ³æˆ‘ä»ç¬¬ä¸€ä»½å·¥ä½œåˆ°ç°åœ¨é‡åˆ°çš„è€å¤§éƒ½å¾ˆä¸é”™ï¼Œæ‰€ä»¥å…¶å®æƒ³ä¸æƒ³å…¥èŒå¾ˆå¤§ç¨‹åº¦æ˜¯çœ‹leaderå¯¹ä¸å¯¹çœ¼</p><p>åœ¨ä¸‰æœˆçš„å°¾å·´ï¼Œæ€»ç»“ä¸€ä¸‹è¿™ä¸ªæ“è›‹çš„ä¸‰æœˆã€‚</p><ol><li>é©¾é©¶è¯åˆ°æ‰‹ï¼Œæ¯”é¢„æƒ³çš„æå‰ä¸€ä¸ªæœˆï¼Œç®—æ˜¯19å¹´çš„ç›®æ ‡å®Œæˆä¸€ä¸ª</li><li>æ‰¾å·¥ä½œé«˜ä¸æˆä½ä¸å°±çš„ï¼Œæœ€å¤§çš„è¦æ±‚è¿˜æ˜¯è¦èƒ½æˆé•¿ï¼Œå…¬å¸äººæ€§åŒ–</li><li>ä¸å‡ºæ„å¤–çš„è¯ä¸‹ä¸€ä»½å·¥ä½œå°±å¯ä»¥å®Œæˆ19å¹´çš„ç¬¬äºŒä¸ªç›®æ ‡</li><li>è‡ªä»é¢äº†cdcé‚£ä¸ªä¹‹åå°±ä¸æ€ä¹ˆæƒ³ç»§ç»­é¢è¯•æ‰¾å·¥ä½œäº†ï¼Œå¯èƒ½è§‰å¾—åé¢é‚£äº›é¢è¯•éƒ½æ²¡æœ‰åœ¨è…¾è®¯é‡Œé¢å­¦ä¹ æˆé•¿å¿«ï¼Œè™½ç„¶åœ¨ä¹‹å‰å¤–åŒ…ä¹‹åå·²ç»å†³å®šä¸å†æ‰¾å¤–åŒ…äº†ï¼Œä¹Ÿè§‰å¾—å¤–åŒ…å¾ˆå®¹æ˜“è¢«äººé„™è§†â€¦.å”‰ åŠ æ²¹å’¯</li><li>19å¹´çš„ç¬¬ä¸‰ä¸ªç›®æ ‡æ˜¯å®Œæˆä¸äº†äº†ï¼Œé«˜æ•°å’Œæ¦‚è®ºæ¯”æƒ³è±¡ä¸­çš„è¦éš¾ï¼Œ å¤ªä½ä¼°ä»–ä»¬äº†</li><li>æœ€è¿‘æ¥è§¦ã€Šæ•°æ®ç»“æ„ã€‹å’Œtypescriptï¼Œæœ‰ç§ç›¸è§æ¨æ™šçš„æ„Ÿè§‰ï¼Œæ…¢æ…¢å¼€å§‹æ˜ç™½è®¡ç®—æœºåŸºç¡€å¥½çš„äººçš„ä¼˜åŠ¿åœ¨å“ªé‡Œ</li></ol><p>æœ€åï¼Œå¸Œæœ›19å¹´æ¥ä¸‹æ¥æ˜¯ä¸€æ®µæ–°çš„çªç ´æœŸï¼Œå°½åŠ›å®Œæˆ19å¹´çš„æœ€åä¸€ä¸ªç›®æ ‡ï¼ å‘Šè¾ åŠ æ²¹</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ€€ç–‘ä»Šå¹´æ˜¯ä¸æ˜¯æœ¬å‘½å¹´ï¼Œä¸‰æœˆåˆè£¸è¾ä¹‹åå…ˆç»ƒäº†ä¸€ä¸ªæ˜ŸæœŸçš„è½¦ï¼Œé¡ºæ‰‹æŠŠè½¦è¯è€ƒäº†ã€‚&lt;/p&gt;
&lt;p&gt;è€ƒå®Œè½¦è¯ä¹‹åæŠ•ç®€å†ï¼Œå’Œä¸Šæ¬¡è£¸è¾ä¸€æ ·ï¼Œä¸€å¼€å§‹ç‰¹åˆ«æ–¹ï¼Œæµ·æŠ•ä¸€å †å…¬å¸ï¼Œåªè¦æœ‰é¢è¯•éƒ½å…ˆç­”åº”ç€ï¼Œæ¯å¤©å¼€å§‹ç„¦è™‘æä¸èµ·ç²¾ç¥åšå…¶ä»–äº‹æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;é¢è¿‡å‡ å®¶ä¹‹åå¿ƒæ€å¼€å§‹æ…¢æ…¢å¥½èµ·æ¥ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€
      
    
    </summary>
    
      <category term="live" scheme="https://jsonz1993.github.io/categories/live/"/>
    
    
      <category term="live" scheme="https://jsonz1993.github.io/tags/live/"/>
    
  </entry>
  
  <entry>
    <title>typescriptåˆä½“éªŒ</title>
    <link href="https://jsonz1993.github.io/2019/03/typescript_experience/"/>
    <id>https://jsonz1993.github.io/2019/03/typescript_experience/</id>
    <published>2019-03-22T22:09:56.000Z</published>
    <updated>2019-12-21T04:37:05.144Z</updated>
    
    <content type="html"><![CDATA[<p>å¿ä¸ä½è¦è®°å½•ä¸€ä¸‹ï¼Œ<code>typescript</code>ç®€ç›´æ˜¯ç¥å™¨!!!</p><p>æœ€è¿‘åœ¨çœ‹è‡ªè€ƒçš„ã€Šæ•°æ®ç»“æ„ã€‹ï¼Œé‡Œé¢çš„ä»£ç æ˜¯<code>C</code>å†™çš„ï¼Œè™½ç„¶çœ‹ç€æŒºå¥½ç†è§£ï¼Œä½†æ˜¯å°±æ˜¯è®°ä¸ä½ã€‚æ‰€ä»¥æƒ³ç€è¿˜æ˜¯è¦è‡ªå·±æ•²ä¸€éæ‰è¡Œï¼Œä½†æ˜¯Cæ–­ç‚¹è°ƒè¯•å¤ªéº»çƒ¦äº†ï¼ˆå…¶å®æ˜¯æˆ‘è¿˜æ²¡æœ‰çœ‹æ€ä¹ˆæ–­æ‰è°ƒè¯•ï¼‰ï¼Œè™½ç„¶ç¯å¢ƒæ­å¥½äº†ï¼Œä½†æ˜¯æ„Ÿè§‰è¿˜æ˜¯å¾ˆå¤šä¸ä¹ æƒ¯ã€‚</p><p>æ‰€ä»¥æƒ³ç€å¹²è„†ç”¨jsæ¥å®ç°ï¼Œç„¶ååˆæƒ³ç€<code>C</code>æœ‰é‚£ä¹ˆå¤šç±»å‹ï¼Œå¹²è„†æˆ‘ç”¨<code>typescript</code>æ¥å®ç°ä¸€ä¸‹ä¹Ÿå¯ä»¥ï¼Œç»™æˆ‘çš„æ„Ÿè§‰<code>typescript</code>å°±å¾ˆåƒ<code>java</code>å’Œ<code>javascript</code>çš„ç»„åˆï¼Œåˆšå¥½ä¹‹å‰å­¦è¿‡ä¸€å°ç‚¹<code>java</code>çš„è¯­æ³•ï¼Œå¯¹<code>java</code>çš„å¼ºç±»å‹æŒºå–œæ¬¢çš„ã€‚</p><p>å­¦<code>ts</code>è¿™ä¸ªç½‘ç«™<a href="https://ts.xcatliu.com" target="_blank" rel="noopener">https://ts.xcatliu.com</a>çœ‹å®ŒåŸºæœ¬ä¸Šéƒ½å¯ä»¥ä¸Šæ‰‹äº†ï¼Œå¤æ‚ä¸€ç‚¹çš„å¯èƒ½è¦æ…¢æ…¢è¡¥ï¼Œ<code>antD</code>ä»“åº“çš„ä»£ç å°±éƒ½æ˜¯<code>ts</code>ã€‚</p><p>ç„¶å!!!!å…³é”®ç‚¹æ¥äº†!!! tsçš„æç¤ºæ¯”æˆ‘æƒ³è±¡ä¸­çš„çˆ½è¶…çº§å¤šï¼</p><p>è¶…çº§çˆ½çš„ä»£ç æ³¨é‡Š &amp;&amp; å‚æ•°æç¤º<br><img src="./ts1.png" alt="ä»£ç æç¤º"></p><p>å€¼ç±»å‹ä¸Šæ–¹æ³•çš„æç¤º<br><img src="./ts2.png" alt="ç±»å‹æ–¹æ³•æç¤º"></p><p>ç®€ç›´æ˜¯å¤§å‹å¼€å‘æˆ–å¤šäººå¼€å‘çš„ç¥å™¨ï¼Œæ³¨é‡Šçš„è§„èŒƒå¯ä»¥å‚ç…§è¿™ä¸ª<a href="https://github.com/fex-team/styleguide/blob/master/javascript.md#24-%E6%B3%A8%E9%87%8A" target="_blank" rel="noopener">fex-team</a> å‘Šè¾ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å¿ä¸ä½è¦è®°å½•ä¸€ä¸‹ï¼Œ&lt;code&gt;typescript&lt;/code&gt;ç®€ç›´æ˜¯ç¥å™¨!!!&lt;/p&gt;
&lt;p&gt;æœ€è¿‘åœ¨çœ‹è‡ªè€ƒçš„ã€Šæ•°æ®ç»“æ„ã€‹ï¼Œé‡Œé¢çš„ä»£ç æ˜¯&lt;code&gt;C&lt;/code&gt;å†™çš„ï¼Œè™½ç„¶çœ‹ç€æŒºå¥½ç†è§£ï¼Œä½†æ˜¯å°±æ˜¯è®°ä¸ä½ã€‚æ‰€ä»¥æƒ³ç€è¿˜æ˜¯è¦è‡ªå·±æ•²ä¸€éæ‰è¡Œï¼Œä½†æ˜¯Cæ–­ç‚¹è°ƒè¯•å¤ªéº»çƒ¦äº†ï¼ˆå…¶å®æ˜¯æˆ‘è¿˜æ²¡æœ‰çœ‹
      
    
    </summary>
    
      <category term="technology" scheme="https://jsonz1993.github.io/categories/technology/"/>
    
    
      <category term="github" scheme="https://jsonz1993.github.io/tags/github/"/>
    
  </entry>
  
  <entry>
    <title>quicklinkå­¦ä¹ ä»¥åŠç»“åˆReact</title>
    <link href="https://jsonz1993.github.io/2019/02/quicklink/"/>
    <id>https://jsonz1993.github.io/2019/02/quicklink/</id>
    <published>2019-02-26T19:49:46.000Z</published>
    <updated>2019-12-21T04:37:05.144Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>è°·æ­Œå›¢é˜Ÿåœ¨å‡ ä¸ªæœˆå‰å¼€æºäº†ä¸€ä¸ªé¡¹ç›®ï¼Œå«<a href="https://github.com/GoogleChromeLabs/quicklink" target="_blank" rel="noopener"><code>quicklink</code></a>ã€‚å®˜æ–¹ç»™å‡ºçš„ä»‹ç»æ˜¯</p><blockquote><p>Faster subsequent page-loads by prefetching in-viewport links during idle time</p></blockquote><p>è¿™é‡Œç®€å•çš„ä»‹ç»ä¸€ä¸‹è¿™ä¸ªé¡¹ç›®ï¼Œå¹¶ä¸”è¯´æ˜ä¸€ä¸‹ä¸ºä»€ä¹ˆæˆ‘éœ€è¦forkè¿™ä¸ªé¡¹ç›®~</p><p>quicklinkçš„æºç å¾ˆç®€æ´ï¼Œä½œç”¨å¯ä»¥ç”¨ä¸€å¥è¯æ€»ç»“: <strong>åˆ©ç”¨ç©ºé—²æ—¶é—´æ¥ç¼“å­˜ç•Œé¢ä¸Šçœ‹åˆ°çš„é“¾æ¥ï¼ŒåŠ å¿«è¿™äº›é“¾æ¥çš„è®¿é—®é€Ÿåº¦ã€‚</strong></p><p><strong>æ‰€ä»¥quicklinkçš„ä½œç”¨æ˜¯åœ¨ä¸‹ä¸€ä¸ªé“¾æ¥å¿«é€Ÿæ‰“å¼€ï¼Œè€Œä¸æ˜¯å½“å‰é“¾æ¥ï¼Œè¿™ä¸€ç‚¹å’Œå¾ˆå¤šå…¶ä»–ä¼˜åŒ–éƒ½ä¸ä¸€æ ·ã€‚</strong></p><p>åŸç†å¾ˆç®€å•:</p><ul><li>è·å–é¡µé¢ä¸Šæ‰€æœ‰çš„Aæ ‡ç­¾ï¼ˆæ³¨æ„ï¼Œè¿™é‡Œçš„aæ ‡ç­¾æŒ‡çš„æ˜¯è°ƒç”¨å‡½æ•°çš„æ—¶å€™documentä¸‹çš„aæ ‡ç­¾ï¼‰</li><li>ç­‰å¾…æµè§ˆå™¨ç©ºé—² (requestIdleCallback æˆ–è€…ç”¨ setTimeout åšå…¼å®¹)</li><li>åˆ©ç”¨ IntersectionObserver åšç›‘æ§ï¼Œå½“ç›‘æ§çš„domè¿›å…¥è§†å›¾ï¼Œå°±å¼€å§‹é¢„åŠ è½½</li><li>ä¸è·å–è§†å›¾å†…çš„URL(<code>&lt;link rel=&quot;prefetch&quot;&gt;</code> or <code>XHR</code> or <code>fetch</code>)ï¼Œä»¥è·å¾—å¿«é€Ÿè®¿é—®è¯¥é“¾æ¥çš„æ•ˆæœ</li></ul><p>ä»£ç çœŸçš„å¾ˆç®€æ´ï¼Œå¾ˆæ£’ï¼Œè¿™è¾¹æ²¡å¿…è¦å†è´´å‡ºæ¥ï¼Œæœ‰å…´è¶£çš„ç›´æ¥github forkä¸€ä¸ªå»çœ‹æˆ–ä¿®æ”¹ï¼Œé™¤å»æ³¨é‡Šä»£ç é‡åŠ èµ·æ¥ä¸åˆ°200è¡Œ</p><h1 id="forked"><a href="#forked" class="headerlink" title="forked"></a>forked</h1><p>æˆ‘forkè¯¥é¡¹ç›®ä¹‹åä¿®æ”¹äº†ä¸€äº›ä¸œè¥¿ </p><h2 id="é»˜è®¤æ·»åŠ äº†polyfillï¼Œç›´æ¥æ‰“åˆ°åŒ…é‡Œ"><a href="#é»˜è®¤æ·»åŠ äº†polyfillï¼Œç›´æ¥æ‰“åˆ°åŒ…é‡Œ" class="headerlink" title="é»˜è®¤æ·»åŠ äº†polyfillï¼Œç›´æ¥æ‰“åˆ°åŒ…é‡Œ"></a>é»˜è®¤æ·»åŠ äº†polyfillï¼Œç›´æ¥æ‰“åˆ°åŒ…é‡Œ</h2><p>ä¸ºä»€ä¹ˆè¦åŠ polyfillå‘¢ï¼Ÿ å› ä¸º<code>IntersectionObserver</code> è™½ç„¶å¥½ç”¨ï¼Œä½†æ˜¯pcç«¯<code>IE11</code>éƒ½ä¸æ”¯æŒï¼Œç§»åŠ¨ç«¯ä¹Ÿè¦åˆ°äº†<code>IOS12 safari</code>æ‰æ”¯æŒâ€¦æ”¯æŒé¢å¤ªçª„äº†è€Œä¸”ä¸ç”¨polyfillçš„è¯ï¼Œç›´æ¥æŠ¥é”™â€¦.æ‰€ä»¥æƒè¡¡ä¹‹ä¸‹ï¼Œå¹²è„†ç›´æ¥å…¨é‡å¼•ç”¨<code>IntersectionObserver</code>çš„polyfillï¼Œgzipæƒ…å†µä¸‹æ•´ä¸ªåŒ…åŠ èµ·æ¥æ‰<code>3.5k</code> å€¼äº†ã€‚</p><h2 id="æ·»åŠ äº†quicklinkå…¨å±€é…ç½®"><a href="#æ·»åŠ äº†quicklinkå…¨å±€é…ç½®" class="headerlink" title="æ·»åŠ äº†quicklinkå…¨å±€é…ç½®"></a>æ·»åŠ äº†quicklinkå…¨å±€é…ç½®</h2><p>åœ¨åŒ…é‡Œå†™äº† <code>quicklinkOptions</code> å¯¹è±¡ï¼Œè¿™æ ·æ¯æ¬¡è°ƒç”¨ <code>quicklink</code> çš„æ—¶å€™å°±å¯ä»¥å…¬ç”¨ä¸€äº›é…ç½®ï¼Œè€Œä¸éœ€è¦æ¯æ¬¡è°ƒç”¨éƒ½å¡ä¸€æ ·çš„é…ç½®è¿›å»,è‡³äºä¸ºä»€ä¹ˆæåˆ°æ¯æ¬¡è°ƒç”¨â€¦åé¢ä¼šè§£é‡Šåˆ°</p><h2 id="æ·»åŠ äº†manualPreFetchæ–¹æ³•ï¼š-æ‰‹åŠ¨ç»‘å®šæŸäº›domç›‘å¬"><a href="#æ·»åŠ äº†manualPreFetchæ–¹æ³•ï¼š-æ‰‹åŠ¨ç»‘å®šæŸäº›domç›‘å¬" class="headerlink" title="æ·»åŠ äº†manualPreFetchæ–¹æ³•ï¼š æ‰‹åŠ¨ç»‘å®šæŸäº›domç›‘å¬"></a>æ·»åŠ äº†manualPreFetchæ–¹æ³•ï¼š æ‰‹åŠ¨ç»‘å®šæŸäº›domç›‘å¬</h2><p><code>manualPreFetch</code> æ–¹æ³•ï¼Œå°±æ˜¯æ‰‹åŠ¨çš„æ„æ€ï¼Œæ”¯æŒä¼ å…¥è¿™äº›å‚æ•°<code>{dom, isForce, link, priority}</code>ã€‚<br>ä¸ºä»€ä¹ˆéœ€è¦åŠ å¤šä¸ªæ–¹æ³•å‘¢ï¼Ÿ å› ä¸ºæˆ‘å‘ç° quicklink åªæ”¯æŒæ‰«<code>&lt;a&gt;</code>æ ‡ç­¾å»è·å–linkï¼Œä½†æ˜¯å¾ˆå¤šæƒ…å†µå¯èƒ½æˆ‘ä»¬ä¸æ˜¯ç”¨aæ ‡ç­¾ï¼Œè€Œæ˜¯ç±»ä¼¼å†™ä¸€ä¸ª<code>button</code>ï¼Œç‚¹å‡»ä¹‹åjsæ§åˆ¶è·³è½¬ã€‚ è™½ç„¶è¯´æˆ‘ä»¬å¯ä»¥åœ¨ä»£ç å±‚ç”¨buttonåŒ…aé“¾æ¥ç­‰æ–¹å¼å»å®ç°ï¼Œä½†æ˜¯è¿™æ ·å°±å¤ªå±€é™äº†ï¼Œæ‰€ä»¥æ‰åŠ äº†ä¸ªæ–¹æ³•ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// html</span></span><br><span class="line">&lt;button id=<span class="string">"btn"</span>&gt;è·³è½¬åˆ°xxx&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">manualPreFetch(&#123;</span></span><br><span class="line"><span class="regexp">  dom: document.getElementById('btn'),</span></span><br><span class="line"><span class="regexp">  link: 'www.easyrentcars.com',</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br></pre></td></tr></table></figure><p>è¯¥æ–¹æ³•å’Œ <code>quicklink</code> ä¸€æ ·ï¼Œä¹Ÿæ˜¯ç›‘å¬domæ»šåˆ°å½“å‰ä½ç½®æ‰ä¼šå‘èµ·é¢„åŠ è½½ã€‚è¿™é‡Œä¼šè¯»å–ä¸€éƒ¨åˆ†çš„<code>quicklinkOptions</code>ï¼Œè¿™å°±æ˜¯æˆ‘åŠ å¤šä¸ªå…¨å±€é…ç½®çš„åŸå› äº†ï¼Œä¸éœ€è¦æ¯æ¬¡è°ƒç”¨çš„æ—¶å€™éƒ½å†™ä¸€å †</p><h2 id="å¢åŠ äº†manualRemovePreFetchæ–¹æ³•ï¼š-æ‰‹åŠ¨åˆ é™¤ç›‘å¬é¢„åŠ è½½"><a href="#å¢åŠ äº†manualRemovePreFetchæ–¹æ³•ï¼š-æ‰‹åŠ¨åˆ é™¤ç›‘å¬é¢„åŠ è½½" class="headerlink" title="å¢åŠ äº†manualRemovePreFetchæ–¹æ³•ï¼š æ‰‹åŠ¨åˆ é™¤ç›‘å¬é¢„åŠ è½½"></a>å¢åŠ äº†manualRemovePreFetchæ–¹æ³•ï¼š æ‰‹åŠ¨åˆ é™¤ç›‘å¬é¢„åŠ è½½</h2><p>æ·»åŠ ä¸ªç§»é™¤çš„æ–¹æ³•ï¼Œåªæ˜¯ç®€å•çš„ç§»é™¤æ‰è¦ç›‘å¬çš„domï¼Œè™½ç„¶å¯¹æ€§èƒ½ä¸ä¼šé€ æˆå½±å“â€¦ä½†æ˜¯å°±æ˜¯æœ‰ç‚¹å¼ºè¿«ç—‡é¸­ğŸ¦†</p><h2 id="React-demo"><a href="#React-demo" class="headerlink" title="React demo"></a>React demo</h2><p><code>quicklink</code>æ˜¯åœ¨æ‰§è¡Œçš„æ—¶å€™ç”¨ <code>(el || document).getQuesySelectorAll(&#39;a&#39;)</code> å»è·å–é¡µé¢ä¸Šçš„<code>&lt;a&gt;</code>ï¼Œæ‰€ä»¥å¯¹äºReactå°±æ¯”è¾ƒå°´å°¬äº†ï¼Œæ¸²æŸ“æ˜¯å¼‚æ­¥çš„ï¼Œå¦‚æœè°ƒç”¨æ—©çš„è¯ï¼Œè‚¯å®šæ˜¯æ‹¿ä¸åˆ°ï¼Œé‚£ä»€ä¹ˆæ—¶å€™è°ƒç”¨è¿™ä¸ªæ‰æ˜¯æœ€ä½³æ—¶æœº?</p><p><strong>æ¯”è¾ƒé€šç”¨çš„æ˜¯<code>componentDidMount</code> æˆ–è€…æ˜¯<code>UseEffect</code>ã€‚ä¸è¿‡ä¸ªäººæ¯”è¾ƒå»ºè®®é…åˆ<code>manualPreFetch</code>ã€<code>manualRemovePreFetch</code>å¯¹ä¸€äº›æ¯”è¾ƒé‡è¦çš„åŠ å°±å¥½äº†ï¼Œå› ä¸ºå¾ˆå¤šéƒ½æ˜¯å¼‚æ­¥ä¹‹åå†æ¸²æŸ“ï¼Œå¯èƒ½ <code>componentDidMount</code>çš„æ—¶å€™ï¼Œä½ éœ€è¦é¢„åŠ è½½çš„é“¾æ¥è¿˜æ²¡å‡ºç°ã€‚</strong></p><p>è¿™é‡Œç®€å•ç»™å‡ºä¸¤ä¸ªå…³äºReactçš„é€šç”¨demoã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useEffect, useRef &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> quicklink, &#123; manualPreFetch, manualRemovePreFetch&#125; <span class="keyword">from</span> <span class="string">'@jsonz/quicklink'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// class ç±»å‹</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QuicklinkComponent</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.refRoot = React.createRef();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    <span class="comment">// didMount ç›‘å¬ç»„ä»¶å†…æ‰€æœ‰çš„aé“¾æ¥</span></span><br><span class="line">    quicklink(&#123;</span><br><span class="line">      el: <span class="keyword">this</span>.refRoot.current,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentWillUnmount() &#123;</span><br><span class="line">    <span class="comment">// willunmount ç§»é™¤æ‰€æœ‰çš„aé“¾æ¥ç›‘å¬</span></span><br><span class="line">    batchManualRemove(<span class="keyword">this</span>.refRoot.current);</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ref</span>=<span class="string">&#123;this.refRoot&#125;</span>&gt;</span>&#123;this.props.children&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hook ç±»å‹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">QuicklinkDemo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> refRoot = useRef(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span>=&gt;</span> &#123;</span><br><span class="line">    quicklink(&#123;</span><br><span class="line">      el: refRoot.current,</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">()</span>=&gt;</span> &#123;</span><br><span class="line">      batchManualRemove(refRoot.current);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ( <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ref</span>=<span class="string">&#123;refRoot&#125;</span>&gt;</span>&#123;this.props.children&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="3-1-è‡´å¤­æŠ˜çš„å°ql"><a href="#3-1-è‡´å¤­æŠ˜çš„å°ql" class="headerlink" title="3.1 è‡´å¤­æŠ˜çš„å°ql"></a>3.1 è‡´å¤­æŠ˜çš„å°ql</h1><p>æœ¬æ¥å·²ç»åŠ åœ¨é¡¹ç›®ä¸Šï¼Œæ‰“ç®—æ‹¿ä¸€ä¸ªé¡¹ç›®/é¡µé¢æ¥è¯•ç‚¹ï¼Œä¸è¿‡æœ€åè¢«è¯´æœæš‚æ—¶ä¸ç”¨ï¼ŒåŸå› æœ‰ä¸‰</p><ol><li>quicklink å¯èƒ½ä¼šå¯¹åç«¯é€ æˆä¸å°çš„å‹åŠ›ï¼Œæ¯”å¦‚ä½ çš„ç½‘ç«™ä¸€æ‰“å¼€ï¼Œæ»‘åˆ°æœ€åº•éƒ¨ï¼Œé‚£ä¸­é—´å¯èƒ½å°±ä¼šé¢„åŠ è½½20ä¸ªé“¾æ¥â€¦.ç„¶è€Œç”¨æˆ·å¯èƒ½ä¸€ä¸ªéƒ½ä¸æ‰“å¼€å°±å…³é—­ï¼Œé‚£å°±ç™½ç™½ç»™æœåŠ¡å™¨æ·»åŠ 20ä¸ªè¯·æ±‚ï¼Œå¯¹äºé‡æ¯”è¾ƒå¤§çš„ç½‘ç«™ï¼Œå¯èƒ½ä¼šå¾ˆå‘çˆ¹ã€‚æ€»ç»“æ¥è¯´å°±æ˜¯å‘½ä¸­ç‡å¤ªä½ï¼Œä¸è¿‡å¯ä»¥æ”¹æˆåšé’ˆå¯¹æ€§çš„é¢„åŠ è½½ï¼Œæ¯”å¦‚ä¸‹å•é¡µé¢„åŠ è½½æ”¯ä»˜é¡µçš„ã€‚</li><li>åªèƒ½é¢„åŠ è½½documentï¼Œå¯¹äºé¡µé¢ä¸Šå å¤§å¤´çš„jså¼•ç”¨ç­‰é™æ€èµ„æºæ²¡æœ‰èµ·ä½œç”¨ã€‚æ•ˆæœå¯èƒ½å¯¹äºå®ç”¨ç«™ç‚¹ä¸æ˜æ˜¾ï¼Œå¯¹æ–‡ç« ç±»ä¼šå¥½å¾ˆå¤šã€‚</li><li>é’ˆå¯¹å‰é¢ä¸¤ç§æƒ…å†µï¼Œå¥½åƒpwaèƒ½åšçš„ä¼šæ›´å¤šï¼Ÿ æ‰€ä»¥å¦‚æœæ˜¯è¿‡æ¸¡æ–¹æ¡ˆæˆ–æ–‡å­—ç±»(document)èµ„æºå æ¯”æ¯”è¾ƒå¤šçš„ç”¨quicklinkæ¯”è¾ƒå¥½ã€‚</li></ol><p>ä½†æ˜¯é¡¹ç›®ä¸Šçš„pwaæ¯”è¾ƒæ®‹ç–¾ï¼Œä¹‹å‰åšçš„åŒäº‹åšäº†ä¸€ç‰ˆä¹‹åå°±ç¦»èŒäº†â€¦ä¸€ç›´æ²¡äººå»ç»´æŠ¤ï¼Œæ‰€ä»¥pwaè¦è¢«æä¸Šæ—¥ç¨‹ï¼Ÿ</p><blockquote><p>è¡¥ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ç›´æ¥åœ¨quicklinkå†…æ‰“polyfillä¸æ˜¯å¾ˆå¥½ï¼Œå› ä¸ºå¦‚æœé¡¹ç›®ä¸Šä¹Ÿå¼•ç”¨è¿™ä¸ªPolyfillå°±ä¼šé‡å¤äº†ã€‚</p></blockquote><p>å‘Šè¾</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ä»‹ç»&quot;&gt;&lt;a href=&quot;#ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;ä»‹ç»&quot;&gt;&lt;/a&gt;ä»‹ç»&lt;/h1&gt;&lt;p&gt;è°·æ­Œå›¢é˜Ÿåœ¨å‡ ä¸ªæœˆå‰å¼€æºäº†ä¸€ä¸ªé¡¹ç›®ï¼Œå«&lt;a href=&quot;https://github.com/GoogleChromeLabs/quickli
      
    
    </summary>
    
      <category term="technology" scheme="https://jsonz1993.github.io/categories/technology/"/>
    
    
      <category term="github" scheme="https://jsonz1993.github.io/tags/github/"/>
    
      <category term="JavaScript" scheme="https://jsonz1993.github.io/tags/JavaScript/"/>
    
      <category term="work" scheme="https://jsonz1993.github.io/tags/work/"/>
    
  </entry>
  
  <entry>
    <title>åˆ©ç”¨ASTè§£å†³é¡¹ç›®webpack aliasæ³›æ»¥é—®é¢˜</title>
    <link href="https://jsonz1993.github.io/2019/01/AST-practice/"/>
    <id>https://jsonz1993.github.io/2019/01/AST-practice/</id>
    <published>2019-01-24T11:57:58.000Z</published>
    <updated>2019-12-21T04:37:05.144Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/jsonz1993/wheel/tree/master/ast-webpack-alias" target="_blank" rel="noopener">æ–‡ç« ä»£ç çš„æºç ä»“åº“</a></p><h1 id="AST-ç®€å•ä»‹ç»"><a href="#AST-ç®€å•ä»‹ç»" class="headerlink" title="AST ç®€å•ä»‹ç»"></a>AST ç®€å•ä»‹ç»</h1><p>AST(Abstract Syntax Tree)æ—¢æŠ½è±¡è¯­æ³•æ ‘ï¼Œæˆ–ç§°è¯­æ³•æ ‘ï¼Œç®€å•æ¥è¯´å°±æ˜¯ä»£ç è¯­æ³•ç»“æ„çš„ä¸€ç§æŠ½è±¡è¡¨ç¤ºã€‚æ¯”å¦‚ <code>var answer = 6 * 7;</code> ä¼šè¢«è§£æä¸ºè¿™ä¹ˆä¸€æ£µæ ‘<br><img src="./ast_wiki.png" style="width: 320px; border: none; display: inline-block;"><img src="./ast_esprima.png" style="width: 200px; border: none; display: inline-block;"></p><p>é‚£ä¹ˆä»£ç æ€æ ·æ‰èƒ½è§£ææˆè¿™ä¸€æ£µ ASTï¼Œ ASTåœ¨å‰ç«¯é¢†åŸŸä¸€èˆ¬åˆå¯ä»¥å¹²å˜›ï¼Ÿ</p><h1 id="ç¼–è¯‘å™¨"><a href="#ç¼–è¯‘å™¨" class="headerlink" title="ç¼–è¯‘å™¨"></a>ç¼–è¯‘å™¨</h1><p><strong>astæ˜¯ç”±ç¼–è¯‘å™¨è§£æç”Ÿæˆçš„</strong>ï¼Œç®€å•çš„ç¼–è¯‘å™¨å¯ä»¥ç”±ä»¥ä¸‹å‡ éƒ¨åˆ†ç»„æˆ:</p><ul><li>tokenizer åˆ†è¯å™¨ æŠŠä»£ç æˆ–æ–‡æœ¬æŒ‰ç±»å‹åˆ†å¼€ï¼Œè¿”å›: <code>tokens</code></li><li>parser è¯­æ³•å‰–æå™¨ å¯¹åˆ†è¯åçš„æ–‡æœ¬æŒ‰ç…§è¯­æ³•åˆ†æè½¬æ¢æˆ æŠ½è±¡è¯­æ³•æ ‘ è¿”å›ï¼šast</li><li>transformer è¯­æ³•è½¬æ¢å™¨ æŠŠè¯­æ³•å‰–æåçš„æŠ½è±¡è¯­æ³•æ ‘è½¬æ¢æˆæˆ‘ä»¬æƒ³è¦çš„: newAst</li><li>codeGenerator ä»£ç ç”Ÿæˆå™¨ æŠŠAST è½¬æ¢ä¸º ç›®æ ‡ä»£ç </li></ul><p>æˆ‘ä»¬å‰ç«¯æ„å»ºä¸­å¾ˆå¸¸ç”¨çš„babelå°±æ˜¯è¿™ç§åŸç†</p><blockquote><p>babel åˆå§‹é˜¶æ®µå¹¶æ²¡æœ‰åšä»»ä½•äº‹ï¼ŒåŸºæœ¬ä¸Šç­‰äº const babel = code=&gt; code; å…ˆ tokenizerï¼Œ parser è§£æä»£ç ï¼Œå† transformer çš„æ—¶å€™ï¼Œå®Œå…¨ä¸æ”¹åŠ¨åŸæ¥çš„ ast</p></blockquote><p><strong>å¯¹ç¼–è¯‘å™¨åŸç†æœ‰å…´è¶£çš„ï¼Œå¯ä»¥çœ‹æˆ‘ä»¥å‰å†™çš„å°demoï¼Œ500è¡Œç®€å•æ˜“æ‡‚ <a href="https://github.com/jsonz1993/wheel/blob/master/min-compiler/README.md" target="_blank" rel="noopener">min-compiler</a>ï¼Œçœ‹å®Œä¼šæœ‰ä¸ªæ•´ä½“æ¦‚å¿µã€‚</strong></p><p>è€Œç”Ÿæˆçš„ASTæˆ‘ä»¬å¯ä»¥ç”¨æ¥åšä»€ä¹ˆï¼Ÿ<br>ASTä½ éƒ½æ‹¿åˆ°äº†ï¼Œå‰©ä¸‹çš„äº‹æƒ…å°±æ˜¯å¯¹è¿™æ£µæ ‘åšä½ æƒ³è¦çš„æ“ä½œï¼Œæ¯”å¦‚ä»£ç è½¬æ¢(babel)ï¼Œä»£ç å‹ç¼©ç­‰ã€‚</p><p>è¿™é‡Œæˆ‘ç”¨ä»–æ¥å¤„ç†webpackçš„aliasæ³›æ»¥é—®é¢˜ã€‚</p><h1 id="webpack-aliasé—®é¢˜"><a href="#webpack-aliasé—®é¢˜" class="headerlink" title="webpack aliasé—®é¢˜"></a>webpack aliasé—®é¢˜</h1><p>webpack alias åœ¨å¾ˆå¤šæƒ…å†µä¸‹å¯ä»¥æä¾›ä¾¿åˆ©ï¼Œä½†æ˜¯å¦‚æœé¡¹ç›®å‚åŠ çš„äººå¤ªå¤šï¼Œåˆæ²¡æœ‰ä»€ä¹ˆçº¦æŸï¼Œå¤§å®¶è´ªå›¾æ–¹ä¾¿ä»€ä¹ˆéƒ½åŠ åˆ°aliasâ€¦.å°±ä¼šå˜æˆè¿™æ ·å­<br><img src="./old_alias.png"></p><ul><li>å¾ˆå¤šä½ ä¸çŸ¥é“ä»–åˆ°åº•æ˜¯node_modulesé‡Œé¢çš„åŒ…è¿˜æ˜¯è‡ªå·±å°è£…è¿‡çš„</li><li>å¾ˆå¤šå†™äºŒçº§è·¯å¾„å°±å¯ä»¥è·å–åˆ°çš„ï¼Œæ²¡å¿…è¦å¤šåŠ ä¸ªalias</li><li>ç°åœ¨æ¯”è¾ƒæ¨å´‡ä¸æ˜¯å¾ˆè¿œçš„è·¯å¾„éƒ½å†™æˆç›¸å¯¹è·¯å¾„ï¼Œç¼–è¾‘å™¨å¯ä»¥ç›´æ¥è·³è¿‡å»æ–¹ä¾¿ï¼ˆè™½ç„¶è¿™ä¸ªå¯ä»¥é€šè¿‡jsconfigæ¥è§£å†³ï¼Œä½†æ˜¯å¤ªå¤šçœ‹ç€ä¹Ÿå¾ˆçƒ¦)<br>æ‰€ä»¥æˆ‘å†³å®šæŠŠé¡¹ç›®é‡Œçš„aliasä»23ä¸ªç¼©å‡ä¸º7ä¸ªã€‚</li></ul><h1 id="åˆ©ç”¨-estools-è§£å†³webpack-Alias"><a href="#åˆ©ç”¨-estools-è§£å†³webpack-Alias" class="headerlink" title="åˆ©ç”¨ estools è§£å†³webpack Alias"></a>åˆ©ç”¨ <a href="https://github.com/estools" target="_blank" rel="noopener">estools</a> è§£å†³webpack Alias</h1><p>æˆ‘ä»¬å…ˆæ¥æ•´ç†ä¸€ä¸‹æ€è·¯</p><ul><li>å…ˆç”¨è§£æå™¨æŠŠä»£ç è§£ææˆ AST</li><li>å†æ‰¾å‡ºæˆ‘ä»¬éœ€è¦å»é™¤çš„aliasï¼ŒæŠŠä»–æ”¹ä¸ºå…¶ä»–å€¼ï¼Œç”Ÿæˆæ–°çš„AST</li><li>æŠŠæ–°çš„ASTè½¬ä¸ºä»£ç ï¼Œé‡æ–°å†™å…¥æ–‡ä»¶</li></ul><p>æˆ‘ä»¬è¿™é‡Œçš„æŠŠaliasæ”¹ä¸ºå…¶ä»–å€¼ï¼ŒæŒ‡çš„æ˜¯è¿™ç§æƒ…å†µ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ç›®å½•ç»“æ„:</span><br><span class="line">- src</span><br><span class="line">  - components</span><br><span class="line">    - btn</span><br><span class="line"></span><br><span class="line">alias: &#123;</span><br><span class="line">  btn: path.resolve(basepath, &apos;src/components/btn&apos;),</span><br><span class="line">  btn: path.resolve(basepath, &apos;src/components&apos;),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">åŸæ¥çš„å¼•å…¥ import Btn from &apos;btn&apos;;</span><br><span class="line">æ”¹ä¸º import Btn from &apos;components/btn&apos;;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬ç”¨ <a href="https://github.com/jquery/esprima" target="_blank" rel="noopener">esprima</a> æ¥åšä»£ç åˆ†æç”Ÿæˆastï¼Œç”¨ <a href="https://github.com/estools/estraverse" target="_blank" rel="noopener">estraverse</a> æ¥è½¬æ¢ä»£ç ï¼Œç”¨ <a href="https://github.com/estools/escodegen" target="_blank" rel="noopener">escodegen</a> ç”Ÿæˆä»£ç ã€‚ç›´æ¥ä¸Šä»£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> aliasConfig = &#123; <span class="comment">/* webpack alias é…ç½®*/</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">translateAlias</span>(<span class="params">filePath</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è§£æast</span></span><br><span class="line">  <span class="keyword">const</span> codeStr = fs.readFileSync(filePath).toString();</span><br><span class="line">  <span class="keyword">const</span> ast = esprima.parseModule(codeStr);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è½¬æ¢ast</span></span><br><span class="line">  estraverse.traverse(ast, &#123;</span><br><span class="line">    <span class="comment">// å¯¹äºæ¯ä¸ªnodeèŠ‚ç‚¹éƒ½ä¼šè¿›å…¥è¿™ä¸ªå‡½æ•°</span></span><br><span class="line">    enter(node, parent) &#123;</span><br><span class="line">      <span class="comment">// åˆ¤æ–­æ˜¯å¦æ˜¯æˆ‘ä»¬çš„ç›®æ ‡æ–‡ä»¶</span></span><br><span class="line">      <span class="keyword">const</span> isAliasDec = isRequireDeclaration(node, parent);</span><br><span class="line">      <span class="keyword">if</span> (isAliasDec) &#123;</span><br><span class="line">        <span class="comment">// æ›¿æ¢æ‰alias =&gt; newAlias</span></span><br><span class="line">        <span class="keyword">const</span> newVal = getModulePath(node.value, filePath);</span><br><span class="line">        node.value = newVal;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é‡æ–°ç”Ÿæˆä»£ç </span></span><br><span class="line">  <span class="keyword">const</span> newCodeStr = escodegen.generate(ast);</span><br><span class="line">  fs.writeFileSync(filePath, newCodeStr, &#123;&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å·¥å…·å‡½æ•°: åˆ¤æ–­æ˜¯å¦æ˜¯ require</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isRequireDeclaration</span>(<span class="params">node, parent</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; type, value &#125; = node;</span><br><span class="line">  <span class="keyword">const</span> &#123; callee &#125; = parent || &#123;&#125;;</span><br><span class="line">  <span class="comment">// ç±»å‹ä¸€è‡´ &amp;&amp; è¯¥keyåœ¨aliasKeyä¸­ &amp;&amp; æ˜¯ requireå¼•å…¥çš„</span></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    type === <span class="string">'Literal'</span> &amp;&amp;</span><br><span class="line">    aliasKey.includes(value) &amp;&amp;</span><br><span class="line">    !allowAliasKey.includes(value) &amp;&amp;</span><br><span class="line">    isRequest(callee)</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å·¥å…·å‡½æ•°ï¼šè·å–è·¯å¾„</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getModulePath</span>(<span class="params">aliasKey, filePath</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> firstDir = <span class="regexp">/\w*/</span>.exec(aliasKey)[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> modulePath = aliasKey.replace(firstDir, aliasConfig[firstDir]);</span><br><span class="line">  <span class="keyword">const</span> aliasPath = aliasKey.replace(firstDir, aliasMap[firstDir]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!aliasConfig[firstDir] || !aliasMap[firstDir] || allowAliasKey.includes(firstDir)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è·å–å¼•å…¥çš„æ¨¡å—ä¸å½“å‰æ¨¡å—ç›¸å¯¹è·¯å¾„ï¼Œåˆ¤æ–­æ˜¯å¦å¤ªé•¿ï¼Œæ˜¯å°±è¿”å›aliasï¼Œå¦åˆ™å°±è¿”å›ç›¸å¯¹è·¯å¾„å°±å®Œäº‹äº†</span></span><br><span class="line">  <span class="keyword">const</span> relativePath = path.relative(filePath, modulePath);</span><br><span class="line">  <span class="keyword">const</span> relativeTime = relativePath.split(<span class="string">'../'</span>).length - <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> (relativeTime &lt; MAX_RELATIVE)? relativePath: aliasPath;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">translateAlias(filePath);</span><br></pre></td></tr></table></figure><p><img src="./estool.png" alt="estool_ast"><br>è¯•è·‘äº†ä¸€ä¸‹ï¼Œå‘ç°è¯´è™½ç„¶ä»£ç å¼•ç”¨ç¡®å®æœ‰è¢«æ›¿æ¢äº†ï¼Œä½†æ˜¯ä»£ç é‡Œé¢çš„æ‰€æœ‰ç©ºè¡Œå’Œæ³¨é‡Šéƒ½ä¸¢äº†ï¼Œè€Œä¸”ä¸€äº›è§„èŒƒæ ¼å¼ä¹Ÿå’ŒåŸæ¥ä¸ä¸€æ ·ã€‚<br>è¿™æ˜¾ç„¶æ˜¯ä¸è¡Œçš„ï¼Œå…ˆä¸è¯´æ ¼å¼çš„é—®é¢˜ï¼Œä¸€ä¸ªæ–‡ä»¶è¿æ¢è¡Œå’Œæ³¨é‡Šéƒ½æ²¡æœ‰ï¼Œé‚£ä»–å°±æ˜¯æ²¡æœ‰çµé­‚çš„js~</p><p>çœ‹äº†ä¸‹è¿™æ˜¯å› ä¸º <code>esprima</code> åœ¨è§£æçš„æ—¶å€™ï¼Œé‡åˆ°ç©ºè¡Œå’Œæ³¨é‡Šä¼šç›´æ¥è·³è¿‡ä¸è§£æç”ŸæˆASTï¼Œæ‰€ä»¥ä¼šå¯¼è‡´åé¢ç”Ÿæˆçš„ä»£ç æ²¡æœ‰ç©ºè¡Œå’Œæ³¨é‡Šã€‚</p><h1 id="babelè§£å†³ç©ºè¡Œå’Œæ³¨é‡Šç­‰é—®é¢˜ã€prettierä¿æŒä»£ç é£æ ¼ä¸€è‡´"><a href="#babelè§£å†³ç©ºè¡Œå’Œæ³¨é‡Šç­‰é—®é¢˜ã€prettierä¿æŒä»£ç é£æ ¼ä¸€è‡´" class="headerlink" title="babelè§£å†³ç©ºè¡Œå’Œæ³¨é‡Šç­‰é—®é¢˜ã€prettierä¿æŒä»£ç é£æ ¼ä¸€è‡´"></a>babelè§£å†³ç©ºè¡Œå’Œæ³¨é‡Šç­‰é—®é¢˜ã€prettierä¿æŒä»£ç é£æ ¼ä¸€è‡´</h1><p>æˆ‘ä»¬å¹³æ—¶é¡¹ç›®ä¸Šç”¨çš„æœ€å¤šçš„è½¬æ¢ä»£ç çš„å·¥å…·å°±æ˜¯babelï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠ <code>esTool</code> é‚£ä¸€å¥—æ¢æˆ <code>babel</code>ç”Ÿæ€ï¼Œç”¨babelæ¥å¸®æˆ‘ä»¬åšè¿™äº›è½¬æ¢ã€‚</p><p>åŸç†å’Œæ€è·¯åŸºæœ¬ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œç”¨ <code>babylon</code> è§£æï¼Œ<code>babel-traverse</code> è½¬æ¢ï¼Œå†ç”¨<code>babel-generator</code>ç”Ÿæˆä»£ç ã€‚<br>ç”Ÿæˆä¹‹åï¼Œå…ˆä¸å†™è¿›å»ï¼Œè€Œæ˜¯ç”¨ <code>prettier</code> æ ¼å¼åŒ–ä¸€éå†é‡å†™åˆ°æœ¬åœ°ï¼Œä»¥ä¿æŒå’ŒåŸæ¥çš„é£æ ¼ä¸€è‡´ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">translateAlias</span>(<span class="params">filePath</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`å¼€å§‹å¤„ç†ç¬¬<span class="subst">$&#123;i++&#125;</span>ä¸ª: <span class="subst">$&#123;filePath&#125;</span>`</span>)</span><br><span class="line">  <span class="keyword">const</span> code = fs.readFileSync(filePath).toString();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è·å–ast</span></span><br><span class="line">  <span class="keyword">const</span> ast = babylon.parse(code, &#123;</span><br><span class="line">    sourceType: <span class="string">'module'</span>,</span><br><span class="line">    plugins: [<span class="string">'jsx'</span>, <span class="string">'objectRestSpread'</span>]</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  traverse(ast, &#123;</span><br><span class="line">    enter(path) &#123;</span><br><span class="line">      <span class="comment">// è½¬æ¢ CommonJs çš„æƒ…å†µ</span></span><br><span class="line">      translateRequireModulePath(path, filePath);</span><br><span class="line">      <span class="comment">// è½¬æ¢ ESM çš„æƒ…å†µ</span></span><br><span class="line">      translateImportModulePath(path, filePath);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> newCode = generate(ast, &#123;&#125;);</span><br><span class="line">  <span class="comment">// é‡æ–°ç”¨é¡¹ç›®çš„prettieré…ç½®æ ¼å¼åŒ–å¤šä¸€æ¬¡å†å†™å…¥</span></span><br><span class="line">  <span class="keyword">const</span> prettierCode = prettier.format(newCode.code, prettierConfig);</span><br><span class="line">  fs.writeFileSync(filePath, prettierCode);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`å¤„ç†ç»“æŸ<span class="subst">$&#123;filePath&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="./babel.png" alt="./babel.png"></p><p>åˆ°æ­¤å‡å°‘webpack-aliasçš„åŠŸèƒ½å¤„ç†å®Œæˆï¼Œæœ€åæ€»ç»“ä¸€ä¸‹</p><ol><li>ç”¨<code>glob</code>è¯»å–æ‰€æœ‰è¦è½¬çš„jsæ–‡ä»¶</li><li>ç”¨ <code>babylon</code> å°†jsæ–‡ä»¶è§£ææˆAST</li><li>ç”¨ <code>babel-traverse</code> å¤„ç†ASTï¼Œåˆ¤æ–­å¦‚æœæ˜¯ <code>require(&#39;xxx&#39;)</code>æˆ–è€…<code>import xxx from &#39;xxx&#39;</code> æ›¿æ¢æ‰è¿™äº›è·¯å¾„</li><li>ç”¨ <code>babel-generator</code> å°†æ–°ç”Ÿæˆçš„ASTè½¬åŒ–ä¸ºä»£ç </li><li>ç”¨ <code>prettier</code> æ ¼å¼åŒ–æ–°ç”Ÿæˆçš„ä»£ç ï¼Œä¿æŒä¸åŸé¡¹ç›®é£æ ¼ä¸€è‡´</li><li>é‡æ–°å†™å…¥æœ¬åœ°æ–‡ä»¶</li></ol><h1 id="å‘Šè¾ï¼"><a href="#å‘Šè¾ï¼" class="headerlink" title="å‘Šè¾ï¼"></a>å‘Šè¾ï¼</h1><p><img src="./kaiji.jpg" alt="./kaiji.jpg"><br>æœ€åå†™çš„æ—¶å€™å‚è€ƒåˆ°çš„é“¾æ¥ï¼Œå¤§éƒ¨åˆ†æ˜¯ç±»åº“çš„æ–‡æ¡£<br><a href="https://github.com/jsonz1993" target="_blank" rel="noopener">è¿·ä½ ç¼–è¯‘å™¨</a><br><a href="https://github.com/estools/escodegen" target="_blank" rel="noopener">estoolsä»£ç ç”Ÿæˆescodegen</a><br><a href="https://github.com/estools/estraverse" target="_blank" rel="noopener">estoolsä»£ç è½¬æ¢estraverse</a><br><a href="https://github.com/jquery/esprima" target="_blank" rel="noopener">ä»£ç è§£æesprima</a><br><a href="https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/plugin-handbook.md#toc-introduction" target="_blank" rel="noopener">babel plugin book</a><br><a href="https://www.npmjs.com/package/babel-generator" target="_blank" rel="noopener">babel-generator</a><br><a href="https://www.npmjs.com/package/babel-traverse" target="_blank" rel="noopener">babel-traverse</a><br><a href="https://www.npmjs.com/package/babylon" target="_blank" rel="noopener">babylon</a><br><a href="http://esprima.org/demo/parse.html" target="_blank" rel="noopener">åœ¨çº¿astç”Ÿæˆ</a><br><a href="http://forivall.com/astexplorer/" target="_blank" rel="noopener">åœ¨çº¿astç”Ÿæˆ</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://github.com/jsonz1993/wheel/tree/master/ast-webpack-alias&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;æ–‡ç« ä»£ç çš„æºç ä»“åº“&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;AST-ç®€
      
    
    </summary>
    
      <category term="technology" scheme="https://jsonz1993.github.io/categories/technology/"/>
    
    
      <category term="github" scheme="https://jsonz1993.github.io/tags/github/"/>
    
  </entry>
  
  <entry>
    <title>æ­£åˆ™è¡¨è¾¾å¼â€”â€”åˆšæ‰æ˜æ˜æ˜¯å¥½çš„</title>
    <link href="https://jsonz1993.github.io/2018/11/regexp-global/"/>
    <id>https://jsonz1993.github.io/2018/11/regexp-global/</id>
    <published>2018-11-22T22:31:21.000Z</published>
    <updated>2019-12-21T04:37:05.140Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©æµ‹è¯•æä¸€ä¸ªjiraç»™æˆ‘ï¼Œè¯´æœ‰ä¸€ä¸ªå¾ˆè¯¡å¼‚çš„bugï¼Œè¡¨å•éªŒè¯æœ‰æ—¶å€™ä¼šæˆåŠŸï¼Œæœ‰æ—¶å€™ä¼šå¤±è´¥ã€‚</p><video src="./a.mp4" controls="true"></video><p>è€Œä¸”å¾ˆæœ‰è§„å¾‹æ€§çš„ï¼Œä¸¤ä¸‹æˆåŠŸï¼Œæ¥ç€å¤±è´¥ï¼Œå†ä¸¤ä¸‹æˆåŠŸï¼Œå†å¤±è´¥â€¦çœ‹ä»£ç ä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œ<code>\S</code>åŒ¹é…ä»»ä½•éç©ºå­—ç¬¦ï¼Œ<code>g</code>å…¨å±€æŸ¥æ‰¾ï¼Œè¿™ä¹ˆç®€å•çš„ä¸€ä¸ªæ­£åˆ™æ€ä¹ˆå¯èƒ½ä¼šå‡ºé”™ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> r = <span class="regexp">/\S/g</span>;</span><br><span class="line">$input.addEventListener(<span class="string">'blur'</span>, (e)=&gt; &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"><span class="keyword">const</span> result = r.test(e.currentTarget.value);</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>ç„¶åç›´æ¥æ‹¿åˆ°æ§åˆ¶å°å»æµ‹è¯•ï¼Œå‘ç°ä¹Ÿæœ‰ç±»ä¼¼çš„é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœæ¯æ¬¡éƒ½ç›´æ¥è°ƒç”¨æ­£åˆ™è¡¨è¾¾å¼çš„testæ–¹æ³•ï¼Œåˆä¸ä¼šæœ‰é—®é¢˜ã€‚æ‰€ä»¥ä¸€å¼€å§‹æ€€ç–‘æ˜¯æŠŠæ­£åˆ™å¯¹è±¡å­˜èµ·æ¥å¯¼è‡´çš„ã€‚<img src="./a.png" width="150"></p><p>åé¢åœ¨ <a href="https://stackoverflow.com/questions/13586786/regexp-test-returns-different-result-for-same-str-depending-on-how-where-i" target="_blank" rel="noopener">stackoverflow</a>å’Œ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test#%E5%BD%93%E8%AE%BE%E7%BD%AE%E5%85%A8%E5%B1%80%E6%A0%87%E5%BF%97%E7%9A%84%E6%AD%A3%E5%88%99%E4%BD%BF%E7%94%A8test()" target="_blank" rel="noopener">MDN</a>ä¸Šæ‰¾åˆ°çœŸæ­£çš„åŸå› ã€‚</p><blockquote><p>å½“è®¾ç½®å…¨å±€æ ‡å¿—çš„æ­£åˆ™ä½¿ç”¨test()<br>å¦‚æœæ­£åˆ™è¡¨è¾¾å¼è®¾ç½®äº†å…¨å±€æ ‡å¿—ï¼Œtest() çš„æ‰§è¡Œä¼šæ”¹å˜æ­£åˆ™è¡¨è¾¾å¼   lastIndexå±æ€§ã€‚è¿ç»­çš„æ‰§è¡Œtest()æ–¹æ³•ï¼Œåç»­çš„æ‰§è¡Œå°†ä¼šä» lastIndex å¤„å¼€å§‹åŒ¹é…å­—ç¬¦ä¸²ï¼Œ(exec() åŒæ ·æ”¹å˜æ­£åˆ™æœ¬èº«çš„ lastIndexå±æ€§å€¼).</p></blockquote><p>è¿™æ„æ€å°±å¾ˆæ˜æ˜¾äº†ï¼Œæˆ‘ä»¬æ¯ä¸€æ¬¡æœç´¢åŒ¹é…ä¸­ä¹‹åï¼Œä¸‹æ¬¡å°±ä»ä»–çš„ä¸‹ä¸€ä½å¼€å§‹æ‰§è¡Œæœç´¢ã€‚<br><img src="./b.png"></p><p>æ‰€ä»¥æœ€åçœ‹ä¸šåŠ¡åœºæ™¯ï¼Œå®Œå…¨ä¸éœ€è¦åŠ è¿™ä¸ª<code>g</code>ï¼Œç›´æ¥å»æ‰å°±ç®—fixäº†ã€‚å½“ç„¶å¦‚æœä½ å¤´å¾ˆé“â€¦ä¸€å®šè¦åŠ gçš„è¯ï¼Œé‚£ä¹Ÿå¯ä»¥æ¯æ¬¡æ‰§è¡Œå®Œé‡ç½® lastIndexã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> r = <span class="regexp">/\S/g</span>;</span><br><span class="line">$input.addEventListener(<span class="string">'blur'</span>, (e)=&gt; &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">const</span> result = r.test(e.currentTarget.value);</span><br><span class="line">  <span class="keyword">if</span> (result) r.lastIndex = <span class="number">0</span>;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p><em>last è°¢è°¢å¤§é’Šå­å’Œå¤å°‘ä¸¤ä½åŒäº‹</em></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä»Šå¤©æµ‹è¯•æä¸€ä¸ªjiraç»™æˆ‘ï¼Œè¯´æœ‰ä¸€ä¸ªå¾ˆè¯¡å¼‚çš„bugï¼Œè¡¨å•éªŒè¯æœ‰æ—¶å€™ä¼šæˆåŠŸï¼Œæœ‰æ—¶å€™ä¼šå¤±è´¥ã€‚&lt;/p&gt;
&lt;video src=&quot;./a.mp4&quot; controls=&quot;true&quot;&gt;&lt;/video&gt;

&lt;p&gt;è€Œä¸”å¾ˆæœ‰è§„å¾‹æ€§çš„ï¼Œä¸¤ä¸‹æˆåŠŸï¼Œæ¥ç€å¤±è´¥ï¼Œå†ä¸¤ä¸‹æˆåŠŸï¼Œå†å¤±è´¥â€¦çœ‹ä»£ç ä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜
      
    
    </summary>
    
      <category term="technology" scheme="https://jsonz1993.github.io/categories/technology/"/>
    
    
      <category term="JavaScript" scheme="https://jsonz1993.github.io/tags/JavaScript/"/>
    
      <category term="work" scheme="https://jsonz1993.github.io/tags/work/"/>
    
  </entry>
  
  <entry>
    <title>Reactæºç ç³»åˆ—</title>
    <link href="https://jsonz1993.github.io/2018/11/react-source/"/>
    <id>https://jsonz1993.github.io/2018/11/react-source/</id>
    <published>2018-11-10T16:39:52.000Z</published>
    <updated>2019-12-21T04:37:05.140Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/jsonz1993/react-source-learn" target="_blank" rel="noopener">react16 æºç é˜…è¯»å­¦ä¹ è®°å½•</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://github.com/jsonz1993/react-source-learn&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;react16 æºç é˜…è¯»å­¦ä¹ è®°å½•&lt;/a&gt;&lt;/p&gt;

      
    
    </summary>
    
      <category term="technology" scheme="https://jsonz1993.github.io/categories/technology/"/>
    
    
      <category term="github" scheme="https://jsonz1993.github.io/tags/github/"/>
    
      <category term="React" scheme="https://jsonz1993.github.io/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>å‡½æ•°å¼ç¼–ç¨‹</title>
    <link href="https://jsonz1993.github.io/2018/09/fp/"/>
    <id>https://jsonz1993.github.io/2018/09/fp/</id>
    <published>2018-09-11T10:32:12.000Z</published>
    <updated>2019-12-21T04:37:05.124Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://ppt.baomitu.com/d/b063f5fc" target="_blank" rel="noopener">æœ¬æ–‡pptè¯·ç¬‘çº³</a></p><h1 id="å‡½æ•°å¼ç¼–ç¨‹"><a href="#å‡½æ•°å¼ç¼–ç¨‹" class="headerlink" title="å‡½æ•°å¼ç¼–ç¨‹"></a>å‡½æ•°å¼ç¼–ç¨‹</h1><p>ç»´åŸºç™¾ç§‘å¯¹å‡½æ•°å¼ç¼–ç¨‹çš„å®šä¹‰ï¼šå‡½æ•°å¼ç¼–ç¨‹ï¼ˆè‹±è¯­ï¼šfunctional programmingï¼‰æˆ–ç§°å‡½æ•°ç¨‹åºè®¾è®¡ï¼Œæ˜¯ä¸€ç§ç¼–ç¨‹å…¸èŒƒï¼Œå®ƒå°†è®¡ç®—æœºè¿ç®—è§†ä¸ºæ•°å­¦ä¸Šçš„å‡½æ•°è®¡ç®—ï¼Œå¹¶ä¸”é¿å…ä½¿ç”¨ç¨‹åºçŠ¶æ€ä»¥åŠæ˜“å˜å¯¹è±¡ã€‚è¿™é‡Œçš„å‡½æ•°æŒ‡çš„æ˜¯æ•°å­¦ä¸Šçš„å‡½æ•°ï¼Œæ—¢è‡ªå˜é‡ï¼ˆæ•°æ®ï¼‰çš„æ˜ å°„ã€‚</p><p>ä¸<code>å‘½ä»¤å¼ç¼–ç¨‹</code>å¯¹æ¯”ï¼Œ<code>å‡½æ•°å¼ç¼–ç¨‹</code>æ›´åŠ å¼ºè°ƒ<strong>ç¨‹åºæ‰§è¡Œçš„ç»“æœ</strong>è€Œé<strong>æ‰§è¡Œçš„è¿‡ç¨‹</strong>ï¼Œå€¡å¯¼åˆ©ç”¨è‹¥å¹²ç®€å•çš„æ‰§è¡Œå•å…ƒ(å°å‡½æ•°)è®©è®¡ç®—ç»“æœä¸æ–­æ¸è¿›ï¼Œé€å±‚æ¨å¯¼å¤æ‚çš„è¿ç®—ï¼Œè€Œä¸æ˜¯è®¾è®¡ä¸€ä¸ªå¤æ‚çš„æ‰§è¡Œè¿‡ç¨‹ã€‚</p><p>æˆ‘çš„ç†è§£æ˜¯ï¼Œä»¥çº¯å‡½æ•°ï¼ˆ é¿å…ä½¿ç”¨ç¨‹åºçŠ¶æ€ä»¥åŠå¼‚å˜å¯¹è±¡ï¼‰ä¸ºå•å…ƒï¼Œå»æŠ½è±¡ã€æ‹†åˆ†æ¨¡å—åŠŸèƒ½çš„ç¼–ç¨‹æ€æƒ³ã€‚å…¶å®å‡½æ•°å¼ç¼–ç¨‹æˆ‘ä»¬å¹³æ—¶ä¸é™Œç”Ÿï¼Œæ¯”å¦‚react, redux éƒ½å¤šå¤šå°‘å°‘æœ‰ä¸€äº›ç›¸å…³ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å¾—å‡ºå‡ ä¸ªå‡½æ•°å¼ç¼–ç¨‹çš„è¦ç‚¹ï¼š</p><ol><li>é¿å…ä½¿ç”¨ç¨‹åºçŠ¶æ€ä»¥åŠå¼‚å˜å¯¹è±¡ï¼Œæ•°æ®æ˜ å°„=&gt; çº¯å‡½æ•°</li><li>å¼ºè°ƒæ‰§è¡Œç»“æœè€Œéè¿‡ç¨‹=&gt; å£°æ˜å¼</li></ol><h1 id="çº¯å‡½æ•°"><a href="#çº¯å‡½æ•°" class="headerlink" title="çº¯å‡½æ•°"></a>çº¯å‡½æ•°</h1><p>çº¯å‡½æ•°ï¼šè¾“å‡ºç»“æœåªç”±è¾“å…¥å†³å®šï¼Œå¹¶ä¸”ä¸äº§ç”Ÿå‰¯ä½œç”¨(effects)ã€‚ </p><ol><li>é¿å…ä½¿ç”¨ thisï¼Œwindow ç­‰å¤–éƒ¨å˜é‡</li><li>æ²¡æœ‰äº§ç”Ÿå‰¯ä½œç”¨(Effects)ï¼Œæ—¢æŠŠEffectsæŠ½ç¦»å‡ºæ¥</li></ol><blockquote><p>Effectsæœ‰å“ªäº›å‘¢ï¼Ÿ<br>æ¯”å¦‚ æ”¹åŠ¨å¤–éƒ¨æ•°æ®ï¼Œå‘èµ·ajaxè¯·æ±‚ï¼Œæ”¹åŠ¨domç­‰ç­‰ã€‚<br>å†™è¿‡dvaçš„å°±çŸ¥é“ï¼Œdvaçš„modelæœ‰ä¸€ä¸ªeffectsï¼Œå°±æ˜¯ç”¨æ¥æ”¾è¿™äº›å‰¯ä½œç”¨çš„ä»£ç ã€‚</p></blockquote><p>æˆ‘ä»¬æŠŠEffectsåˆ†ç¦»å‡ºæ¥ä¹‹åï¼Œå‰©ä¸‹çš„å°±æ˜¯çº¯å‡½æ•°ï¼Œçº¯å‡½æ•°å¯ä»¥å¾ˆç®€å•çš„è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œæ‰€ä»¥æ˜¯ä¸å®¹æ˜“å‡ºbugçš„ï¼Œå› ä¸ºå¾€å¾€æœ‰bugçš„éƒ½æ˜¯ä¸å¯é¢„è§çš„éƒ¨åˆ†ã€‚</p><p>ä¸¾ä¸ªä¾‹å­<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr=[<span class="string">'bilibili'</span>, <span class="string">'hello'</span>, <span class="string">'jsonz'</span>];</span><br><span class="line">arr.slice(<span class="number">1</span>, <span class="number">3</span>); <span class="comment">// æ²¡å‰¯ä½œç”¨</span></span><br><span class="line">arr.splice(<span class="number">1</span>, <span class="number">2</span>); <span class="comment">// æœ‰å‰¯ä½œç”¨ï¼Œä¿®æ”¹åˆ°åŸæ¥çš„arræ•°ç»„ å¯èƒ½ä¼šé€ æˆæ„æƒ³ä¸åˆ°çš„bug</span></span><br></pre></td></tr></table></figure></p><p>è™½ç„¶æ‰§è¡Œä¹‹åï¼Œéƒ½èƒ½å¾—åˆ° <code>Hello Jsonz</code>ã€‚ ä½†æ˜¯ splice ä¼šæ”¹åŠ¨åˆ°åŸæ¥çš„æ•°ç»„ï¼Œæ‰€ä»¥ä¸ç®—çº¯å‡½æ•°ã€‚</p><p>å·¥ä½œä¸­å…¶å®å¾ˆå¤šå·¥å…·ç±»çš„functionéƒ½æ˜¯çº¯å‡½æ•°ï¼Œreduxçš„Reducerä¹Ÿæ˜¯æ ‡å‡†çš„çº¯å‡½æ•°ã€‚</p><p>redux reducers<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">set</span>(<span class="params">state, &#123; payload &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    ...state,</span><br><span class="line">    ...payload,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>çº¯å‡½æ•°çš„å¥½å¤„æ˜¯ï¼Œä½ ä¸éœ€è¦æ‹…å¿ƒæŸä¸ªå€¼åœ¨æŸå¤„å‘é€æ„æƒ³ä¸åˆ°çš„æ”¹å˜å¯¼è‡´å‡ºbugï¼›çº¯å‡½æ•°é‡Œä¸äº§ç”Ÿå‰¯ä½œç”¨ï¼Œæ‰€ä»¥ä¹Ÿä¸ä¼šæ‹…å¿ƒæ”¹åŠ¨åˆ°å…¶ä»–åœ°æ–¹ï¼Œä»£ç æ›´å¥ç¡•ï¼›å¯ä»¥æ›´ä¼˜é›…çš„ç»„åˆå¤ç”¨ï¼Œæ–¹ä¾¿ç§»æ¤åˆ°å…¶ä»–ç¯å¢ƒ(web workers)ï¼›æ–¹ä¾¿çš„å†™å•å…ƒæµ‹è¯•ã€‚</p><h1 id="å£°æ˜å¼"><a href="#å£°æ˜å¼" class="headerlink" title="å£°æ˜å¼"></a>å£°æ˜å¼</h1><p>åœ¨è¯´å£°æ˜å¼ä¹‹å‰ï¼Œè¦å…ˆæ™®åŠä¸€ä¸‹ä¸ä¹‹å¯¹åº”çš„å‘½ä»¤å¼ï¼ˆæŒ‡ä»¤å¼ï¼‰ã€‚<br>æˆ‘ä»¬å¹³æ—¶å†™çš„ä»£ç åŸºæœ¬éƒ½æ˜¯å‘½ä»¤å¼ï¼Œæ—¢æˆ‘ä»¬é€šè¿‡ä¸€æ¡ä¸€æ¡çš„å‘½ä»¤å»æ‰§è¡Œä¸€äº›æ“ä½œï¼Œå…¶ä¸­ä¼šæ¶‰åŠåˆ°å¾ˆå¤šç»†èŠ‚çš„ä¸œè¥¿ã€‚<br>æ—¢å…³æ³¨æ‰§è¡Œè¿‡ç¨‹ï¼Œç”¨å„ç§æ§åˆ¶è¯­å¥<code>if...else...</code>ä¸<code>for</code>å¾ªç¯ç­‰ã€‚</p><p><strong>å‘½ä»¤å¼ç¼–ç¨‹ï¼šå‘½ä»¤â€œæœºå™¨â€å¦‚ä½•å»åšäº‹æƒ…(how)ï¼Œè¿™æ ·ä¸ç®¡ä½ æƒ³è¦çš„æ˜¯ä»€ä¹ˆ(what)ï¼Œå®ƒéƒ½ä¼šæŒ‰ç…§ä½ çš„å‘½ä»¤å®ç°ã€‚</strong><br><strong>å£°æ˜å¼ç¼–ç¨‹ï¼šå‘Šè¯‰â€œæœºå™¨â€ä½ æƒ³è¦çš„æ˜¯ä»€ä¹ˆ(what)ï¼Œè®©æœºå™¨æƒ³å‡ºå¦‚ä½•å»åš(how)ã€‚</strong></p><blockquote><p>SQLè¯­å¥æ˜¯å…¸å‹å£°æ˜å¼ï¼ŒSQLå­˜å‚¨è¿‡ç¨‹å’Œå­˜å‚¨å‡½æ•°åˆ™æ˜¯å‘½ä»¤å¼ç¼–ç¨‹ã€‚</p></blockquote><figure class="highlight javascript"><figcaption><span>reacté‡Œé¢çš„ä¸¤ç§ç¼–ç¨‹æ–¹å¼</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°å¼ç¼–ç¨‹</span></span><br><span class="line"><span class="keyword">const</span> data= [&#123;<span class="attr">name</span>: <span class="string">'jsonz'</span>, <span class="attr">age</span>: <span class="number">2</span>&#125;, &#123; <span class="attr">name</span>: <span class="string">'balala'</span>, <span class="attr">age</span>: <span class="number">3</span>&#125;, &#123; <span class="attr">name</span>: <span class="string">'å°é­”ä»™'</span>, <span class="attr">age</span>: <span class="number">30</span>&#125;];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> dom = data.filter(<span class="function"><span class="params">item</span>=&gt;</span> age&lt;<span class="number">10</span>)</span><br><span class="line">  .map(<span class="function"><span class="params">item</span>=&gt;</span> &lt;span&gt;&#123;item.name&#125; - &#123;item.age&#125;&lt;span&gt;); <span class="comment">// è¿™é‡Œåé¢çš„spanæ˜¯é—­åˆçš„&lt;/span&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘½ä»¤å¼ç¼–ç¨‹</span></span><br><span class="line"><span class="keyword">const</span> data= [&#123;<span class="attr">name</span>: <span class="string">'jsonz'</span>, <span class="attr">age</span>: <span class="number">2</span>&#125;, &#123; <span class="attr">name</span>: <span class="string">'balala'</span>, <span class="attr">age</span>: <span class="number">3</span>&#125;, &#123; <span class="attr">name</span>: <span class="string">'å°é­”ä»™'</span>, <span class="attr">age</span>: <span class="number">30</span>&#125;];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> newData = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i= <span class="number">0</span>; i&lt; data.length; i++) &#123;</span><br><span class="line">  <span class="keyword">if</span> (data[i].age &lt; <span class="number">10</span>) &#123;</span><br><span class="line">    newData.push(data);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> dom2 = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i= <span class="number">0</span>; i&lt; newData.length; i++) &#123;</span><br><span class="line">  dom2.push(<span class="string">`&lt;span&gt;<span class="subst">$&#123;item.name&#125;</span>-<span class="subst">$&#123;item.age&#125;</span>&lt;span&gt;`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå£°æ˜å¼çš„ä»£ç æ›´åŠ ç®€æ´æ¸…æ™°ä¼˜é›…ã€‚</p><figure class="highlight javascript"><figcaption><span>å£°æ˜å¼ä»£ç å¤ç”¨</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒå€</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">double</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> results = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i&lt; arr.length; i++) &#123;</span><br><span class="line">    results.push(arr[i] * <span class="number">2</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> results;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// +1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addOne</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> results = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i&lt; arr.length; i++) &#123;</span><br><span class="line">    results.push(arr[i] +<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> results;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å£°æ˜å¼: å»é‡å¤ä»£ç ï¼Œç®€æ´</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">double</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> arr.map(<span class="function"><span class="params">item</span>=&gt;</span> item*<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addOne</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> arr.map(<span class="function"><span class="params">item</span>=&gt;</span> item+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å£°æ˜å¼ç©¶æç‰ˆï¼š å€ŸåŠ© Ramda</span></span><br><span class="line"><span class="keyword">const</span> m= _.curry(<span class="function">(<span class="params">fn, arr</span>) =&gt;</span> arr.map(<span class="function"><span class="params">item</span>=&gt;</span> fn(item)));</span><br><span class="line"><span class="keyword">const</span> double = m(<span class="function"><span class="params">item</span>=&gt;</span> item*<span class="number">2</span>);</span><br><span class="line"><span class="keyword">const</span> addOne = m(<span class="function"><span class="params">item</span>=&gt;</span> item+<span class="number">1</span>);</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºä¸€äº›å‡½æ•°å¼æœ€ç®€å•çš„æ€è·¯ï¼š<br>æŠŠå¾ªç¯å’Œåˆ¤æ–­ç­‰æ§åˆ¶è¯­å¥å°½å¯èƒ½æ¢æˆ<code>ç­›é€‰ filter</code>ã€<code>æ˜ å°„ map</code>ã€<code>åŒ–çº¦ reduce</code>ã€‚</p><figure class="highlight javascript"><figcaption><span>cookieè·å–</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// å‘½ä»¤å¼</span></span><br><span class="line"><span class="comment">// è·å–cookie</span></span><br><span class="line"><span class="keyword">var</span> _cookie = <span class="built_in">document</span>.cookie;</span><br><span class="line"><span class="comment">// cookie çš„å½¢å¼æ˜¯å­—ç¬¦ä¸² "key1=value1; key2=value2; "; æŠŠä»–è½¬å˜æˆæ•°ç»„å½¢å¼ ["key1=value1", "key2=value2"]ã€‚ ç”¨ "; "ä½œä¸ºåˆ†éš”ç¬¦</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> _cookieArray = _cookie.split(<span class="string">'; '</span>);</span><br><span class="line"><span class="comment">// å¾ªç¯æŠŠæ•°ç»„é‡Œé¢çš„ key1=value1å˜æˆå¯¹è±¡objçš„keyå’Œvalue æ–¹ä¾¿è·å–</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i= <span class="number">0</span>; i&lt; _cookieArray.length; i++) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å–å‡ºcookieæ•°ç»„é‡Œé¢çš„å•ä¸ª:  key1=value1</span></span><br><span class="line">    <span class="keyword">var</span> cookieItem = _cookieArray[i];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŠŠè¿™ä¸ªå­—ç¬¦ä¸²key1= value1 å˜æ¢æˆæ•°ç»„ [key1, value1]ï¼Œç”¨ "=" åšä¸ºåˆ†å‰²ç¬¦</span></span><br><span class="line">    <span class="keyword">var</span> cookieItemArray = cookieItem.split(<span class="string">'='</span>); <span class="comment">// [key1, value1]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŠŠåˆ†å‰²å¥½çš„æ•°ç»„ï¼Œèµ‹å€¼ç»™obj  </span></span><br><span class="line">    <span class="keyword">var</span> key = cookieItemArray[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">var</span> value = cookieItemArray[<span class="number">1</span>];</span><br><span class="line">    obj[key] = value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡½æ•°å¼</span></span><br><span class="line"><span class="built_in">document</span>.cookie.split(<span class="string">'; '</span>)</span><br><span class="line">    .map(<span class="function"><span class="params">item</span>=&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> [key, value] = item.split(<span class="string">'='</span>);</span><br><span class="line">        <span class="keyword">return</span> &#123;key, value&#125;;</span><br><span class="line">    &#125;)</span><br><span class="line">    .reduce(<span class="function">(<span class="params">acc, cur</span>)=&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123; key, value &#125; = cur;</span><br><span class="line">        acc[key] = value;</span><br><span class="line">        <span class="keyword">return</span> acc;</span><br><span class="line">    &#125;, &#123;&#125;);</span><br></pre></td></tr></table></figure><h1 id="ç»¼åˆ-çº¯å‡½æ•°-å£°æ˜å¼"><a href="#ç»¼åˆ-çº¯å‡½æ•°-å£°æ˜å¼" class="headerlink" title="ç»¼åˆ çº¯å‡½æ•° + å£°æ˜å¼"></a>ç»¼åˆ çº¯å‡½æ•° + å£°æ˜å¼</h1><p>è¯¥éƒ¨åˆ†æºä»£ç å¯ä»¥çœ‹è¿™ä¸ªä»“åº“ ( â˜‰_â˜‰)â‰¡â˜oâ”€â”€â”€â”€â˜…Â°<a href="https://github.com/jsonz1993/wheel/tree/master/fq-demo" target="_blank" rel="noopener">ä»“åº“åœ°å€</a></p><figure class="highlight javascript"><figcaption><span>æ±‚å®Œç¾æ•°</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  å®Œå…¨æ•°ï¼ˆPerfect numberï¼‰ï¼Œåˆç§°å®Œç¾æ•°æˆ–å®Œå¤‡æ•°ï¼Œæ˜¯ä¸€äº›ç‰¹æ®Šçš„è‡ªç„¶æ•°ã€‚ å®ƒæ‰€æœ‰çš„çœŸå› å­ï¼ˆå³é™¤äº†è‡ªèº«ä»¥å¤–çš„çº¦æ•°ï¼‰çš„å’Œï¼ˆå³å› å­å‡½æ•°ï¼‰ï¼Œæ°å¥½ç­‰äºå®ƒæœ¬èº«</span></span><br><span class="line"><span class="comment">// æ¯”å¦‚ 6 = 1 + 2 + 3 æ˜¯å®Œç¾æ•°; 8 != 1 + 2 + 4 ä¸æ˜¯å®Œç¾æ•°</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> num = <span class="number">6</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">isPerfect</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> aliquotSum() === num;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">isFactor</span>(<span class="params">potential</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> num % potential === <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">getFactors</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> arr = [];</span><br><span class="line"></span><br><span class="line">    arr.push(<span class="number">1</span>); </span><br><span class="line">    arr.push(num);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i= <span class="number">2</span>; i&lt; num; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (isFactor(i)) arr.push(i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">aliquotSum</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">const</span> factors = getFactors(num);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i= <span class="number">0</span>; i&lt; factors.length; i++) &#123;</span><br><span class="line">      sum += factors[i];</span><br><span class="line">    &#125;</span><br><span class="line">    sum -= num;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> result = isPerfect();</span><br><span class="line">  <span class="built_in">console</span>.log(result);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘å‡½æ•°å¼é æ‹¢</span></span><br><span class="line"><span class="comment">// 1. å°† num å˜ä¸ºä¼ å‚ è€Œä¸æ˜¯å¤–éƒ¨çŠ¶æ€</span></span><br><span class="line"><span class="comment">// 2. ä½¿å¾—æ‰€æœ‰æ–¹æ³•éƒ½å˜ä¸ºçº¯å‡½æ•°</span></span><br><span class="line"><span class="comment">// 3. çœŸå› å­ç›¸åŠ æ”¹ä¸ºå‡½æ•°å¼å†™æ³•</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">isPerfect</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> aliquotSum(num) === num;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">isFactor</span>(<span class="params">num, potential</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> num % potential === <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">getFactors</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="built_in">Array</span>(num), (item, i)=&gt; i)</span><br><span class="line">      .filter(<span class="function"><span class="params">v</span>=&gt;</span> isFactor(num, v));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">aliquotSum</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">const</span> factors = getFactors(num);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i= <span class="number">0</span>; i&lt; factors.length; i++) &#123;</span><br><span class="line">      sum += factors[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> result = isPerfect(<span class="number">6</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(result);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç©¶æç‰ˆ</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">const</span> aliquotSum = <span class="function"><span class="params">num</span>=&gt;</span> <span class="built_in">Array</span>.from(<span class="built_in">Array</span>(num), (item, i)=&gt; i)</span><br><span class="line">    .filter(<span class="function"><span class="params">item</span>=&gt;</span> num % item === <span class="number">0</span>)</span><br><span class="line">    .reduce(<span class="function">(<span class="params">cur, next</span>)=&gt;</span> cur += next);</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">isPerfect</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> aliquotSum(num) === num;</span><br><span class="line">  &#125;</span><br><span class="line">    </span><br><span class="line">  <span class="keyword">const</span> result = isPerfect(<span class="number">6</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢éƒ½æ˜¯æ¯”è¾ƒå°çš„å·¥å…·demoï¼ŒåŸºæœ¬ä¸Šä¸åŒ…å«Effectsï¼Œä½†æ˜¯å®é™…ä¸Šé¡¹ç›®å……æ–¥ä¸€å †ä¸šåŠ¡é€»è¾‘(Effects)ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼šå€ŸåŠ©ä¸€äº›å·¥å…·/åº“æ¥å®ç°,æ¯”å¦‚ <code>ramda.js</code>å’Œ<code>rx.js</code>ã€‚</p><blockquote><p><code>rxJs</code> å®˜ç½‘çš„æè¿°æ˜¯ Reactive Extensions Library for JavaScriptç®€å•æ¥è¯´RxJSå°±æ˜¯è¾…åŠ©æˆ‘ä»¬å†™å‡ºå‡½æ•°å¼å“åº”å¼ä»£ç çš„ä¸€ç§å·¥å…·ã€‚</p></blockquote><p>æˆ‘ä»¬ç°åœ¨æ¥å®ç°ä¸€ä¸ªåŠŸèƒ½ï¼Œé¡µé¢ä¸Šæœ‰ä¸€ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»ä¹‹åè¾“å‡ºè®¡æ•°<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ™®é€šç‰ˆæœ¬</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">const</span> button = <span class="built_in">document</span>.querySelector(<span class="string">'#button'</span>);</span><br><span class="line">  button.addEventListener(<span class="string">'click'</span>, ()=&gt; &#123;</span><br><span class="line">    count += <span class="number">1</span>; <span class="comment">// ç”¨åˆ°å¤–éƒ¨å˜é‡</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`clicked!<span class="subst">$&#123;count&#125;</span> times`</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// RxJsç‰ˆæœ¬</span></span><br><span class="line">&#123;</span><br><span class="line"> <span class="keyword">const</span> &#123; fromEvent, <span class="attr">operators</span>: &#123; scan, &#125; &#125; = rxjs;</span><br><span class="line"> <span class="keyword">const</span> button = <span class="built_in">document</span>.querySelector(<span class="string">'#button'</span>);</span><br><span class="line"></span><br><span class="line"> fromEvent(button, <span class="string">'click'</span>)</span><br><span class="line">  .pipe(</span><br><span class="line">    <span class="comment">// scan éšç€æ—¶é—´çš„æ¨ç§»è¿›è¡Œå½’å¹¶ã€‚</span></span><br><span class="line">    scan(<span class="function">(<span class="params">count</span>)=&gt;</span> count+ <span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line">  )</span><br><span class="line">  .subscribe(<span class="function"><span class="params">count</span>=&gt;</span> <span class="built_in">console</span>.log(<span class="string">`clicked! <span class="subst">$&#123;count&#125;</span> times`</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>èŠ‚æµå’Œç´¯åŠ ç‚¹å‡»åæ ‡<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">const</span> button = <span class="built_in">document</span>.querySelector(<span class="string">'#button'</span>);</span><br><span class="line">  <span class="keyword">const</span> rate = <span class="number">1000</span>;</span><br><span class="line">  <span class="keyword">let</span> lastClick = <span class="built_in">Date</span>.now() - rate;</span><br><span class="line">  button.addEventListener(<span class="string">'click'</span>, (e)=&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Date</span>.now() - lastClick &gt;= rate) &#123;</span><br><span class="line">      count += e.clientX;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`clicked!<span class="subst">$&#123;count&#125;</span> times`</span>);</span><br><span class="line">      lastClick = <span class="built_in">Date</span>.now();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"> <span class="keyword">const</span> &#123; fromEvent, <span class="attr">operators</span>: &#123; scan, throttleTime, map &#125; &#125; = rxjs;</span><br><span class="line"> <span class="keyword">const</span> button = <span class="built_in">document</span>.querySelector(<span class="string">'#button'</span>);</span><br><span class="line"></span><br><span class="line"> fromEvent(button, <span class="string">'click'</span>)</span><br><span class="line">  .pipe(</span><br><span class="line">    throttleTime(<span class="number">1000</span>),</span><br><span class="line">    map(<span class="function"><span class="params">e</span>=&gt;</span> e.clientX),</span><br><span class="line">    scan(<span class="function">(<span class="params">count, clientX</span>)=&gt;</span> count+ clientX, <span class="number">0</span>)</span><br><span class="line">  )</span><br><span class="line">  .subscribe(<span class="function"><span class="params">count</span>=&gt;</span> <span class="built_in">console</span>.log(<span class="string">`clicked! <span class="subst">$&#123;count&#125;</span> times`</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨<code>Ramda.js</code>æ¥å®ç°ä¸€ä¸ªé¡µé¢ï¼Œè·å–æŸä¸ªå…³é”®å­—å›¾ç‰‡ï¼Œå¹¶å±•ç¤ºå‡ºæ¥ã€‚<code>Ramda</code>ä¸»è¦å¸®å¿™å®ç°ä¸€äº› <code>curry</code>, <code>compose</code> ç­‰åŠŸèƒ½</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">requirejs.config(&#123;</span><br><span class="line">  paths: &#123;</span><br><span class="line">    ramda: <span class="string">'https://cdnjs.cloudflare.com/ajax/libs/ramda/0.13.0/ramda.min'</span>,</span><br><span class="line">    jquery: <span class="string">'https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">require</span>([</span><br><span class="line">    <span class="string">'ramda'</span>,</span><br><span class="line">    <span class="string">'jquery'</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">_, $</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æˆ‘ä»¬æŠŠä¸çº¯çš„EffectsæŠ½å‡ºæ¥</span></span><br><span class="line">    <span class="keyword">const</span> Impure = &#123;</span><br><span class="line">      getJSON: _.curry(<span class="function">(<span class="params">callback, url</span>)=&gt;</span> $.getJSON(url, callback)),</span><br><span class="line"></span><br><span class="line">      setHtml: _.curry(<span class="function">(<span class="params">sel, html</span>)=&gt;</span> $(sel).html(html)),</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¼ å…¥url ç”Ÿæˆ img dom</span></span><br><span class="line">    <span class="keyword">const</span> img = <span class="function"><span class="keyword">function</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> $(<span class="string">'&lt;img /&gt;'</span>, &#123; <span class="attr">src</span>: url &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–ä¼ å…¥å‚æ•°çš„ media å±æ€§ï¼Œä»¥åŠè·å– mediaå±æ€§ä¸Šçš„ mã€‚ ç­‰ä»·äº arg.media.m</span></span><br><span class="line">    <span class="keyword">const</span> mediaUrl = _.compose(_.prop(<span class="string">'m'</span>), _.prop(<span class="string">'media'</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–ä¼ å…¥å‚æ•°çš„ item å±æ€§ï¼Œä»¥åŠå¯¹æ¯ä¸ªitemæ‰§è¡Œ mediaUrl å‡½æ•°</span></span><br><span class="line">    <span class="keyword">const</span> srcs = _.compose(_.map(mediaUrl), _.prop(<span class="string">'items'</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŠŠimgå’Œsrcså‡½æ•°æ•´åˆèµ·æ¥</span></span><br><span class="line">    <span class="keyword">const</span> images = _.compose(_.map(img), srcs);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> url = <span class="function"><span class="params">term</span>=&gt;</span> <span class="string">`https://api.flickr.com/services/feeds/photos_public.gne</span></span><br><span class="line"><span class="string">    ?tags=<span class="subst">$&#123;term&#125;</span>&amp;format=json&amp;jsoncallback=?`</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŠŠimgesè·å–åˆ°çš„å‚æ•°ä¼ ç»™ Impure.setHtml('body');</span></span><br><span class="line">    <span class="keyword">const</span> renderImages = _.compose(Impure.setHtml(<span class="string">'body'</span>), images);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŠŠæ‰€æœ‰å°å‡½æ•°æ•´åˆæˆä¸€ä¸ªå¤§çš„å‡½æ•°ï¼Œæˆ‘ä»¬åªéœ€è¦ç»™è¿™ä¸ªappå–‚æ•°æ®å³å¯</span></span><br><span class="line">    <span class="keyword">const</span> app = _.compose(Impure.getJSON(renderImages), url);</span><br><span class="line"></span><br><span class="line">    app(<span class="string">'cat'</span>);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä¼˜åŒ–<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// old</span></span><br><span class="line">    <span class="keyword">const</span> mediaUrl = _.compose(_.prop(<span class="string">'m'</span>), _.prop(<span class="string">'media'</span>));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> srcs = _.compose(_.map(mediaUrl), _.prop(<span class="string">'items'</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> images = _.compose(_.map(img), srcs);</span><br><span class="line">    </span><br><span class="line"><span class="comment">// new</span></span><br><span class="line">    <span class="keyword">const</span> mediaUrl = _.compose(_.prop(<span class="string">'m'</span>), _.prop(<span class="string">'media'</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> images = _.compose(_.map(img), _.map(mediaUrl), _.prop(<span class="string">'items'</span>));</span><br></pre></td></tr></table></figure></p><p>å†ä¼˜åŒ–<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> images = _.compose(_.map(_.compose(img, mediaUrl)), _.prop(<span class="string">'items'</span>));</span><br></pre></td></tr></table></figure></p><!-- ä¸¥æ ¼æ„ä¹‰ä¸Šçš„å‡½æ•°å¼ç¼–ç¨‹æ„å‘³ç€ä¸ä½¿ç”¨å¯å˜çš„å˜é‡ï¼Œèµ‹å€¼ï¼Œå¾ªç¯å’Œå…¶ä»–å‘½ä»¤å¼æ§åˆ¶ç»“æ„è¿›è¡Œç¼–ç¨‹ã€‚ç”±äºå‘½ä»¤å¼ç¼–ç¨‹è¯­è¨€ä¹Ÿå¯ä»¥é€šè¿‡ç±»ä¼¼å‡½æ•°æŒ‡é’ˆçš„æ–¹å¼æ¥å®ç°é«˜é˜¶å‡½æ•°ï¼Œå‡½æ•°å¼çš„æœ€ä¸»è¦çš„å¥½å¤„ä¸»è¦æ˜¯ä¸å¯å˜æ€§å¸¦æ¥çš„ã€‚æ²¡æœ‰å¯å˜çš„çŠ¶æ€ï¼Œå‡½æ•°å°±æ˜¯å¼•ç”¨é€æ˜ï¼ˆReferential transparencyï¼‰çš„å’Œæ²¡æœ‰å‰¯ä½œç”¨ã€‚å‡½æ•°å¼ç¼–ç¨‹æ˜¯ç»™è½¯ä»¶å¼€å‘è€…æä¾›çš„å¦ä¸€å¥—å·¥å…·ç®±ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†å¦å¤–ä¸€ç§æŠ½è±¡å’Œæ€è€ƒçš„æ–¹å¼ã€‚  --><h1 id="å‡½æ•°å¼å’Œé¢å‘å¯¹è±¡å¯¹æ¯”"><a href="#å‡½æ•°å¼å’Œé¢å‘å¯¹è±¡å¯¹æ¯”" class="headerlink" title="å‡½æ•°å¼å’Œé¢å‘å¯¹è±¡å¯¹æ¯”"></a>å‡½æ•°å¼å’Œé¢å‘å¯¹è±¡å¯¹æ¯”</h1><p>é¢å‘å¯¹è±¡ç¼–ç¨‹æ€æƒ³ï¼Œ<code>å°è£…</code> <code>ç»§æ‰¿</code> <code>å¤šæ€</code>ã€‚</p><p>æŠŠçŠ¶æ€çš„æ”¹å˜å°è£…èµ·æ¥ï¼Œè®©ä»£ç æ›´åŠ æ¸…æ™°ï¼Œé€šè¿‡ç±»ä¸ç»§æ‰¿å»å¤„ç†å…³è”å…³ç³»ã€‚ä½†æ˜¯ä¼šå……æ»¡å…¬ç”¨å˜é‡ï¼Œ<code>this</code>ï¼Œ<code>bind</code>ç­‰ã€‚</p><p>é¢å‘å¯¹è±¡ç›®å‰æ›´åŠ å¹¿æ³›ï¼Œè€Œä¸”æ›´å®¹æ˜“è¢«æ¥å—ï¼Œå†™èµ·æ¥æ›´å®¹æ˜“ï¼Œä½†å¯èƒ½ä¼šæœ‰æ›´å¤šå†—ä½™çš„ä»£ç ï¼Œæ†ç»‘äº†å¾ˆå¤šçŠ¶æ€ï¼Œå…¸å‹çš„é—®é¢˜æ˜¯ <strong>ä½ åªéœ€è¦ä¸€ä¸ªé¦™è•‰ï¼Œä½†æ˜¯å´å¾—åˆ°ä¸€ä¸ªæ‹¿ç€é¦™è•‰çš„å¤§çŒ©çŒ©ä»¥åŠæ•´ä¸ªä¸›æ—ã€‚</strong></p><hr><p>å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ï¼Œå°½é‡å‡å°‘ä¸ç¡®å®šå› ç´ ï¼Œæ¥è®©ä»£ç æ›´åŠ æ¸…æ™°å¥ç¡•ã€‚</p><p>æ¯ä¸ªå‡½æ•°éƒ½ä¸è¦å»ä¿®æ”¹åŸæœ‰çš„æ•°æ®ï¼Œè€Œæ˜¯é€šè¿‡äº§ç”Ÿæ–°çš„æ•°æ®æ¥åšä¸ºè¿ç®—ç»“æœï¼Œ<em>è¿™ä¹Ÿæ„å‘³ç€å‡½æ•°å¼æ¯”è¾ƒè€—èµ„æºï¼Œæ‰€ä»¥åœ¨è®¡ç®—æœºçŸ³å™¨æ—¶ä»£å¹¶ä¸æµè¡Œ</em>ã€‚</p><p>ç®€å•æ¥è¯´å°±æ˜¯å¾ˆå¤šå°çš„çº¯å‡½æ•°ï¼Œä¸€ä¸ªå°å‡½æ•°åªåšä¸€äº›äº‹æƒ…ï¼Œç„¶åç”¨è¿™äº›å°å‡½æ•°æ¥ç»„ç»‡æˆæ›´å¤§çš„å‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°ä¸è¿”å›å€¼ä¹Ÿå¤§éƒ¨åˆ†éƒ½æ˜¯å‡½æ•°ã€‚<br>æœ€åèƒ½å¾—åˆ°ä¸€ä¸ªè¶…çº§ç‰›é€¼çš„å‡½æ•°ï¼Œæˆ‘ä»¬åªè¦æŠŠæ•°æ®ç»™ä»–ï¼Œå°±å¯ä»¥äº†ã€‚</p><p>å‡½æ•°å¼ç®€æ´ï¼Œæ¸…æ™°å¯å¤ç”¨æ€§é«˜ï¼Œå‡ºé”™å‡ ç‡æ›´å°ã€‚ä½†æ˜¯ä¸€å¼€å§‹æ€ç»´å¾ˆéš¾ä»é¢å‘å¯¹è±¡æˆ–å‘½ä»¤å¼è½¬æ¢è¿‡æ¥ï¼Œå¾€å¾€ä¹Ÿéœ€è¦å€ŸåŠ©ä¸€äº›å·¥å…·åº“æ¥ç¼–å†™ã€‚</p><h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>è¿™é‡Œåªæäº†å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€äº›æ€æƒ³ï¼Œä½†æ˜¯çœŸæ­£å‡½æ•°å¼å¼€å‘è¿˜åŒ…å«å¾ˆå¤šå…¶ä»–è¦å­¦çš„ã€‚æ¯”å¦‚æˆ‘ä»¬ç”¨åˆ°çš„<code>æŸ¯é‡ŒåŒ–curry</code>è¿˜æœ‰<code>ä»£ç ç»„åˆcompose</code>ç­‰ï¼Œå…‰<code>RxJs</code>æä¾›çš„apiå°±æœ‰179ä¸ªä¹‹å¤šâ€¦</p><p>å†è€…ä¸çŸ¥é“æ˜¯ä¸æ˜¯å¯¹å‡½æ•°å¼çš„ç†è§£ä¸å¤Ÿé€å½»ï¼Œæœ‰è¯•è¿‡æŸä¸ªéœ€æ±‚ç”¨å‡½æ•°å¼çš„æ€æƒ³å»å†™ï¼Œä½†æ˜¯æœ‰ç‚¹å¥½åƒç¡¬æ°çš„æ ·å­ï¼Œå†™çš„æœ‰ç‚¹ä¸ä¼¦ä¸ç±»â€¦.æ‰€ä»¥ç°åœ¨åªæ˜¯å¸æ”¶ä¸€äº›å‡½æ•°å¼çš„æ€æƒ³ï¼ˆæ¯”å¦‚çº¯å‡½æ•°å‡å°‘ä¸ç¡®å®šæ€§ï¼‰ï¼Œä½†æ˜¯å¹³æ—¶å·¥ä½œä¸ä¼šå¾ˆåˆ»æ„å…¨éƒ¨éƒ½ç”¨å‡½æ•°å¼å»å†™ã€‚åªæ˜¯å½“æˆä¸€ä¸ªå¯ä»¥æ‰©å±•çš„çŸ¥è¯†é¢ï¼Œåé¢å¦‚æœå‡½æ•°å¼çœŸçš„åœ¨å‰ç«¯æµè¡Œèµ·æ¥ï¼Œå†ä¸Šæ‰‹ä¹Ÿä¸è¿Ÿã€‚</p><p>é¡ºè·¯æ„Ÿæ…¨JSçš„çµæ´»æ€§ï¼Œæ—¢æœ‰ES6é¢å‘å¯¹è±¡çš„ç‰¹æ€§<code>class</code>ä¹Ÿæœ‰ES5çš„ <code>filter</code>ã€<code>map</code>ã€<code>reduce</code>ï¼Œä»¥åŠES.Nextçš„è£…é¥°å™¨(Decorator)ç­‰å‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹æ€§ã€‚</p><p>æœ€åå†ç»™å‡ºå‚è€ƒçš„ä»¥åŠå­¦ä¹ è¿‡ç¨‹çœ‹åˆ°çš„ä¸€äº›ä¸é”™çš„ä¹¦ç±å’Œæ–‡ç« :</p><p><a href="https://www.gitbook.com/book/llh911001/mostly-adequate-guide-chinese" target="_blank" rel="noopener">JS å‡½æ•°å¼ç¼–ç¨‹æŒ‡å—</a><br><a href="https://www.amazon.cn/dp/B07CXZ9D8N/ref=sr_1_1?ie=UTF8&amp;qid=1535945880&amp;sr=8-1&amp;keywords=%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BARxjs" target="_blank" rel="noopener">æ·±å…¥æµ…å‡ºRxjs</a><br><a href="https://www.amazon.cn/dp/B014SCOQA0/ref=sr_1_1?ie=UTF8&amp;qid=1535945728&amp;sr=8-1&amp;keywords=%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E6%80%9D%E7%BB%B4" target="_blank" rel="noopener">å‡½æ•°å¼ç¼–ç¨‹æ€ç»´</a><br><a href="https://juejin.im/post/5950b0c56fb9a06bca0b7c04" target="_blank" rel="noopener">å‘½ä»¤å¼ã€å£°æ˜å¼ã€é¢å‘å¯¹è±¡ã€å‡½æ•°å¼ã€æ§åˆ¶åè½¬ä¹‹åå±±è®ºå‰‘ï¼ˆä¸Šï¼‰</a><br><a href="https://github.com/ReactiveX/rxjs" target="_blank" rel="noopener">RxJs å“åº”å¼ä»£ç åº“</a><br><a href="https://github.com/ramda/ramda" target="_blank" rel="noopener">Ramda å‡½æ•°å¼å·¥å…·åº“</a><br><a href="https://www.haskell.org/" target="_blank" rel="noopener">Haskell çº¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€</a><br><a href="https://www.zhihu.com/question/28292740" target="_blank" rel="noopener">ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹æ€ç»´</a><br><a href="http://pinggod.com/2016/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E6%9C%AF%E8%AF%AD%E8%A7%A3%E6%9E%90/" target="_blank" rel="noopener">å‡½æ•°å¼ç¼–ç¨‹æœ¯è¯­è§£æ</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://ppt.baomitu.com/d/b063f5fc&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;æœ¬æ–‡pptè¯·ç¬‘çº³&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;å‡½æ•°å¼ç¼–ç¨‹&quot;&gt;&lt;a href=&quot;#å‡½æ•°å¼ç¼–ç¨‹&quot; class=&quot;heade
      
    
    </summary>
    
      <category term="technology" scheme="https://jsonz1993.github.io/categories/technology/"/>
    
    
      <category term="JavaScript" scheme="https://jsonz1993.github.io/tags/JavaScript/"/>
    
      <category term="learn" scheme="https://jsonz1993.github.io/tags/learn/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€é“èµ‹å€¼é¢è¯•é¢˜å¼•å‘çš„æ€è€ƒ</title>
    <link href="https://jsonz1993.github.io/2018/07/circular-reference/"/>
    <id>https://jsonz1993.github.io/2018/07/circular-reference/</id>
    <published>2018-07-30T17:00:14.000Z</published>
    <updated>2019-12-21T04:37:05.116Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬ç¯‡ä¸»è¦è¯´ä¸€äº›åŸºç¡€çŸ¥è¯†ç‚¹ï¼Œå…³äºå¤šé¡¹èµ‹å€¼é¡ºåºï¼Œå¯¹è±¡å¼•ç”¨ç­‰ï¼ŒæœŸé—´æ’å…¥ä¸€ç‚¹es6åªæ˜¯ä»¥åŠè§£å†³é—®é¢˜çš„æ€è·¯ã€‚</p><p>å¼€å¤´å…ˆæ¥åšä¸€é“é¢è¯•é¢˜</p><h2 id="part1"><a href="#part1" class="headerlink" title="part1"></a>part1</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=&#123;<span class="attr">n</span>:<span class="number">1</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> b=a;</span><br><span class="line">a.x=a=&#123;<span class="attr">n</span>:<span class="number">2</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(a.x);</span><br><span class="line"><span class="built_in">console</span>.log(b.x);</span><br></pre></td></tr></table></figure><p>æœ€åè¾“å‡ºçš„æ˜¯ä»€ä¹ˆï¼Ÿ å…ˆä¸è¯´ç­”æ¡ˆï¼Œæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹</p><p>L2(ç¬¬äºŒè¡Œ) æˆ‘ä»¬æŠŠaèµ‹å€¼ç»™bï¼Œ ç”±äºaæ˜¯å¯¹è±¡ç±»å‹ï¼Œè¿™å°±æ„å‘³ç€bå’ŒaæŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€</p><p>L3 <code>a.x = a = { n: 2}</code></p><p>è¿™é‡Œæˆ‘ä»¬æœ‰ä¸ªç–‘æƒ‘ï¼Œè¿™å¥è¯­å¥æ‰§è¡Œé¡ºåºæ˜¯ <code>a = {n: 2} &amp;&amp; a.x = {n:2}</code> è¿˜æ˜¯ <code>a.x = {n:2} &amp;&amp; a= {n:2}</code> è¿˜æ˜¯è¿™ç§ <code>a = {n: 2} &amp;&amp; a.x = a</code></p><p>æˆ‘ä»¬è¿™é‡Œå¯ä»¥å€ŸåŠ© <code>Object.defineProperty</code> æˆ– ES6çš„ <code>Proxy</code>æ¥éªŒè¯å¤šé¡¹èµ‹å€¼çš„é¡ºåºæ˜¯æ€æ ·çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = <span class="keyword">new</span> <span class="built_in">Proxy</span>(&#123;&#125;, &#123;</span><br><span class="line">  <span class="keyword">set</span>(target, key, value, r) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key, value)</span><br><span class="line">    <span class="keyword">if</span> (key === <span class="string">'a'</span>) <span class="built_in">Reflect</span>.set(target, key, <span class="string">'isA'</span>, r);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">Reflect</span>.set(target, key, value, r);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">obj.b = obj.a= &#123;<span class="attr">n</span>: <span class="number">1</span>&#125;;</span><br><span class="line"><span class="comment">// è¾“å‡º:</span></span><br><span class="line"><span class="comment">// "a" &#123;n: 1&#125;</span></span><br><span class="line"><span class="comment">// "b" &#123;n: 1&#125;</span></span><br><span class="line"></span><br><span class="line">obj.a; <span class="comment">// isA</span></span><br><span class="line">obj.b; <span class="comment">// &#123;n: 1&#125;</span></span><br></pre></td></tr></table></figure><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾—å‡º èµ‹å€¼çš„é¡ºåºæ˜¯ä»å³è¾¹å¼€å§‹åˆ°å·¦è¾¹çš„ã€‚è€Œä¸”æ˜¯ç›´æ¥ <code>a = {n: 1}, a.x = {n:1 }</code>ï¼Œè€Œä¸æ˜¯ <code>a.x = a</code> è¿™æ ·å»èµ‹å€¼</p><p>ç°åœ¨æˆ‘ä»¬å†å€ŸåŠ© Proxy æ¥åˆ†æä¸€å¼€å§‹part1è¿™é“é¢˜ï¼Œç”¨obj.a, obj.b æ¥ä»£æ›¿åŸé¢˜ç›®çš„ aå’Œbã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Proxy</span>(&#123;&#125;, &#123;</span><br><span class="line">  <span class="keyword">get</span>: function (target, key, receiver) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`getting <span class="subst">$&#123;key&#125;</span>!`</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Reflect</span>.get(target, key, receiver);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">set</span>: function (target, key, value, receiver) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`setting <span class="subst">$&#123;key&#125;</span>!`</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Reflect</span>.set(target, key, value, receiver);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">obj.a = &#123;<span class="attr">n</span>: <span class="number">1</span> &#125;;<span class="comment">// getting a;</span></span><br><span class="line">obj.b = obj.a; <span class="comment">// getting a; setting b;</span></span><br><span class="line">obj.a.x = obj.a = &#123;<span class="attr">n</span>:<span class="number">2</span> &#125;; <span class="comment">// getting a; setting a;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ° <code>obj.a.x = obj.a = {n: 2}</code>è¿™æ®µè¯­å¥æ‰§è¡Œæ—¶ï¼Œä¼šå…ˆè¾“å‡ºä¸€ä¸ª <strong>getting a</strong> å†è¾“å‡º <strong>setting a</strong>ã€‚<br>è¿™å°±æ„å‘³ç€åœ¨å¯¹ <code>obj.a.x</code> èµ‹å€¼æ—¶ï¼Œç¨‹åºæ˜¯å…ˆè·å– <code>obj.a</code>æŒ‡å‘çš„å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œæ­¤æ—¶è§¦å‘äº† <strong>getting a</strong>ï¼Œç„¶åå†å¯¹å³è¾¹ <code>obj.a</code> è¿›è¡Œèµ‹å€¼ï¼Œè§¦å‘äº† <strong>setting a</strong>ï¼Œ èµ‹å€¼å®Œæœ€åä¸€æ­¥æ‰æ˜¯å¯¹ <code>obj.a.x</code>èµ‹å€¼ <code>{n:2 }</code>ã€‚</p><p><strong>é‡ç‚¹: åœ¨å¯¹obj.a.xèµ‹å€¼çš„æ—¶åˆ»å·²ç»è·å–äº†obj.aè¯¥å¯¹è±¡æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œæ‰€ä»¥åé¢aå°±ç®—æŒ‡å‘å…¶ä»–åœ°å€ï¼Œä¹Ÿå’Œè¿™é‡Œçš„obj.a.xæ— å…³ã€‚æ­¤æ—¶æŒ‡å‘è¯¥åœ°å€çš„è¿˜æœ‰obj.b</strong></p><p>æˆ‘ä»¬å†ç”¨ä¸‰å¼ å›¾æ¥æ‹ä¸€æ‹æ•´ç†çš„æ€è·¯</p><p>æ‰§è¡Œ <code>obj.a = {n: 1}; obj.b = obj.a</code>åobjå¯¹åº”çš„å¼•ç”¨æ˜¯è¿™æ ·çš„</p><p><image src="./init.png" width="600"><br><br><br></image></p><p>æ‰§è¡Œ <code>obj.a.x = xxx</code> æ—¶</p><p><image src="./obj.a.x.png" width="600"><br><br><br></image></p><p>æ‰§è¡Œ<code>obj.a.x = obj.a = {n:2}</code> å</p><p><image src="./result.png" width="600"><br><br><br></image></p><p>è‡³æ­¤ï¼Œè¿™é“é¢è¯•é¢˜ç›¸ä¿¡å¤§å®¶éƒ½æœ‰ç­”æ¡ˆäº†ï¼Œå¯ä»¥è‡ªå·±å»æ§åˆ¶å°éªŒè¯ä¸€ä¸‹ã€‚ å‡å¦‚è¿™æ—¶å€™å†æ‰§è¡Œ <code>obj.a.n = 3</code>ï¼Œ æ‰“å°<code>obj.b</code>ä¼šè¾“å‡ºä»€ä¹ˆå‘¢ï¼Ÿ</p><h2 id="part2"><a href="#part2" class="headerlink" title="part2"></a>part2</h2><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹å¦ä¸€é“é¢˜ï¼Œå…³äºå¯¹è±¡å¾ªç¯å¼•ç”¨çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123; <span class="attr">n</span>: <span class="number">1</span>&#125;</span><br><span class="line">a.b = a;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„aæ˜æ˜¾æ˜¯å¾ªç¯å¼•ç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦æ€æ ·æ‰èƒ½åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯å¾ªç¯å¼•ç”¨å‘¢ï¼Ÿ</p><p>å…¶å®è¿™é“é¢˜æˆ‘ä¸€å¼€å§‹é™¤äº†é€’å½’åˆ¤æ–­å¤–æ²¡æœ‰å¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œåé¢æ˜¯ç¾¤é‡Œä¸€ä¸ªå«<code>è¯è´¹</code>çš„å¤§ä½¬è¯´(è¿™é“é¢˜ä¹Ÿæ˜¯ä»–å‡ºçš„)ç›´æ¥ç”¨ <code>JSON.stringify</code>ï¼Œå¾®ä¿¡å°æ¸¸æˆçš„æºç é‡Œé¢å°±æ˜¯è¿™ä¹ˆå»åˆ¤æ–­ã€‚</p><p><code>JSON.stringify</code> å¦‚æœé‡åˆ°å‚æ•°é‡Œæœ‰å¾ªç¯å¼•ç”¨çš„ï¼Œå°±ä¼šæŠ›å‡ºä¸€ä¸ªå¾ªç¯è°ƒç”¨çš„é”™è¯¯ <strong>Uncaught TypeError: Converting circular structure to JSON</strong> </p><p>é‚£å¦‚æœä¸ç”¨JSON.stringifyæˆ–è€…æƒ³è¦è‡ªå·±å®ç°ä¸€ä¸ªå»æ£€æµ‹å¾ªç¯è°ƒç”¨ï¼Œè¯¥æ€ä¹ˆå†™å‘¢ï¼Ÿï¼ˆé¢è¯•å®˜å’Œéƒ¨é—¨å‰ç«¯leaderæœ€å–œæ¬¢è¿™ä¹ˆé—®ï¼‰</p><p>ä¸€èˆ¬é‡åˆ°è¿™ç§ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å»æ‰¾è¿™ä¸ªæ–¹æ³•çš„ polyfillï¼Œ <a href="https://github.com/bestiejs/json3" target="_blank" rel="noopener">json3</a>ã€‚æˆ‘æ‰¾çš„æ˜¯ json3çš„ polyfill é‡Œé¢å¤§æ¦‚æ˜¯éå†å¯¹è±¡å­˜åˆ°stackæ•°ç»„ï¼Œå†åœ¨è§£æçš„æ—¶å€™å»åˆ¤æ–­æ˜¯å¦æœ‰å¾ªç¯å¼•ç”¨çš„æƒ…å†µã€‚ <a href="https://github.com/bestiejs/json3/blob/master/lib/json3.js#L482" target="_blank" rel="noopener">json3.js#L482</a></p><p>ç…§ç€ä»–çš„æ€è·¯å¤§æ¦‚å†™äº†ä¸€ä¸ªï¼Œå…¶å®å°±æ˜¯å‰é¢è¯´åˆ°çš„ç®€å•é€’å½’åˆ¤æ–­<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> stack = [];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> len;</span><br><span class="line">    <span class="keyword">for</span> (len = stack.length; len--;) &#123;</span><br><span class="line">        <span class="keyword">if</span> (stack[len] === obj) <span class="keyword">throw</span> <span class="built_in">TypeError</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    stack.push(obj);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        <span class="keyword">const</span> value = obj[k]</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> value === <span class="string">'object'</span>) fn(value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ç¬¬ä¸€æ¬¡è®²å…³äºè¯­è¨€çŸ¥è¯†ç‚¹çš„ï¼Œå¦‚æœå‘ç°æœ‰é”™è¯¯çš„åœ°æ–¹ æ¬¢è¿æŒ‡å‡º~<br>æœ€åè°¢è°¢æƒ é¡¾ï¼Œè¯·ç¬‘çº³</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ¬ç¯‡ä¸»è¦è¯´ä¸€äº›åŸºç¡€çŸ¥è¯†ç‚¹ï¼Œå…³äºå¤šé¡¹èµ‹å€¼é¡ºåºï¼Œå¯¹è±¡å¼•ç”¨ç­‰ï¼ŒæœŸé—´æ’å…¥ä¸€ç‚¹es6åªæ˜¯ä»¥åŠè§£å†³é—®é¢˜çš„æ€è·¯ã€‚&lt;/p&gt;
&lt;p&gt;å¼€å¤´å…ˆæ¥åšä¸€é“é¢è¯•é¢˜&lt;/p&gt;
&lt;h2 id=&quot;part1&quot;&gt;&lt;a href=&quot;#part1&quot; class=&quot;headerlink&quot; title=&quot;part1&quot;&gt;
      
    
    </summary>
    
      <category term="technology" scheme="https://jsonz1993.github.io/categories/technology/"/>
    
    
      <category term="JavaScript" scheme="https://jsonz1993.github.io/tags/JavaScript/"/>
    
      <category term="learn" scheme="https://jsonz1993.github.io/tags/learn/"/>
    
  </entry>
  
  <entry>
    <title>è§†é¢‘è½¬å­—ç¬¦ç”»</title>
    <link href="https://jsonz1993.github.io/2018/07/video-to-chat/"/>
    <id>https://jsonz1993.github.io/2018/07/video-to-chat/</id>
    <published>2018-07-30T10:36:35.000Z</published>
    <updated>2019-12-21T04:37:05.120Z</updated>
    
    <content type="html"><![CDATA[<p>å…ˆçœ‹ä¸€ä¸‹æ•ˆæœï¼ŒåŸè§†é¢‘æ˜¯è¿™æ ·çš„</p><video src="../2018-07-27/b_1.mp4" width="300" controls></video><p>æˆ‘ä»¬è¦å®ç°çš„æ•ˆæœæ˜¯è¿™æ ·å­çš„ï¼Œä¹‹æ‰€ä»¥æ‰¾è¿™ä¸ªè§†é¢‘æ˜¯å› ä¸ºâ€¦è¿™ä¸ªè§†é¢‘å’ŒèƒŒæ™¯çš„å¯¹æ¯”åº¦æ¯”è¾ƒé«˜åšå‡ºæ¥æ¯”è¾ƒæœ‰è¾¨è¯†åº¦ï¼Œæ²¡æœ‰å…¶ä»–çš„æ„æ€ ( *ãƒ»Ï‰ãƒ»)âœ„â•°ã²â•¯</p><video src="../2018-07-27/b.mp4" width="300" controls></video><h2 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h2><p><img src="./wechat.png" width="300"><br>æŸå¤©ä¸€ä¸ªåŸºå‹åœ¨ç¾¤é‡Œé—®æˆ‘ï¼Œåœ¨æŠ–éŸ³çœ‹åˆ°ä¸€ç§è§†é¢‘ï¼Œé—®æˆ‘æ˜¯ä¸æ˜¯èƒ½å®ç°ã€‚æˆ‘è¯´å¯ä»¥çš„~<br>äºæ˜¯å½“å¤©æ™šä¸ŠèŠ±äº†ä¸€ä¸ªå¤šå°æ—¶æŠ˜è…¾äº†ä¸€ä¸ªç²—ç³™ç‰ˆæœ¬â€¦ </p><p>å…ˆæŠŠè§†é¢‘ä¸¢åˆ°éƒ¨é—¨æŠ€æœ¯ç¾¤é—®æœ‰æ²¡æœ‰å…³é”®å­—ï¼Œç»™äº†ä¸€ä¸ªkeyword <strong>å›¾ç‰‡è½¬å­—ç¬¦ä¸²</strong> äºæ˜¯ç…§ç€è¿™ä¸ªæ€è·¯å»gayhubæ‰¾èµ„æºæ‹¼ä¹é«˜ï¼</p><h2 id="æ•´ä½“æ€è·¯"><a href="#æ•´ä½“æ€è·¯" class="headerlink" title="æ•´ä½“æ€è·¯"></a>æ•´ä½“æ€è·¯</h2><ul><li>ç¬¬ä¸€æ­¥æˆ‘ä»¬é€šè¿‡ <code>input[type=&quot;file&quot;]</code> è·å–æ–‡ä»¶</li><li>æ‹¿åˆ°æ–‡ä»¶ä¹‹åï¼Œç”¨ <code>URL.createObjectURL</code>æ¥è·å–è§†é¢‘çš„è·¯å¾„</li><li>é€šè¿‡ <code>ctx.drawImage</code> æˆ‘ä»¬å¯ä»¥æŠŠæŸä¸ª video å½“å‰çš„å›¾åƒæ¸²æŸ“åˆ° canvasé‡Œé¢</li><li><code>ctx.getImageData</code> å¯ä»¥è·å–å½“å‰canvas é‡Œé¢å›¾ç‰‡çš„è‰²å€¼ï¼Œåˆ©ç”¨å…¬å¼è®¡ç®—å‡ºç°åº¦</li><li>æ ¹æ®ç°åº¦çš„æ·±æµ…å»åŒ¹é…è¦æ˜¾ç¤ºçš„å­—ç¬¦ï¼Œæ·±è‰²åŒ¹é…æ¯”è¾ƒå¯†é›†çš„å­—ç¬¦ï¼Œæœ€æµ…çš„ç›´æ¥ç”¨ç©ºæ ¼ä»£æ›¿ï¼Œç„¶åç”¨ <code>ctx.fillText</code>é‡ç»˜è¿›å»</li><li>è®¾ç½® <code>video.currentTime</code> æ¥è·å¾—è§†é¢‘çš„æŸä¸€æ—¶åˆ»å›¾åƒï¼Œé‡å¤ä¸Šè¿°é‡ç»˜è¿‡ç¨‹<!-- ç°åº¦è¶…è¿‡æŸä¸ªå€¼ç”¨#ï¼Œä½äºæŸä¸ªå€¼ç”¨ Â· ä»£æ›¿ --></li></ul><p>æ—¢ç„¶å¤§æ¦‚çš„æ€è·¯å·²ç»ç†æ¸…ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å…·ä½“çš„ç¼–ç ï¼ŒæŠŠæƒ³æ³•å†™å‡ºæ¥çš„è¿‡ç¨‹</p><h2 id="å…·ä½“ç¼–ç å®ç°"><a href="#å…·ä½“ç¼–ç å®ç°" class="headerlink" title="å…·ä½“ç¼–ç å®ç°"></a>å…·ä½“ç¼–ç å®ç°</h2><h3 id="è·å–è§†é¢‘æ–‡ä»¶"><a href="#è·å–è§†é¢‘æ–‡ä»¶" class="headerlink" title="è·å–è§†é¢‘æ–‡ä»¶"></a>è·å–è§†é¢‘æ–‡ä»¶</h3><p>é¦–å…ˆæˆ‘ä»¬å…ˆç¡®å®šä¸‹htmléœ€è¦å“ªäº›å…ƒç´ </p><ol><li>ä¸€ä¸ª input[type=â€fileâ€] ç”¨æ¥ç»™ç”¨æˆ·ä¸Šä¼ çš„</li><li>ä¸€ä¸ª video ç”¨æ¥æ‰¿è½½ä¸Šä¼ çš„video</li><li>ä¸€ä¸ª canvas ç”¨æ¥å±•ç¤ºæœ€ç»ˆçš„ç»“æœ</li></ol><p>å¤§æ¦‚æ˜¯é•¿è¿™æ ·ï¼š<br><figure class="highlight html"><figcaption><span>index.html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">id</span>=<span class="string">"inputFile"</span> <span class="attr">accept</span>=<span class="string">".mp4"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvasShow"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">id</span>=<span class="string">"video"</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>æ¥ä¸‹æ¥jsæ–‡ä»¶ï¼Œæˆ‘ä»¬è¦å…ˆå¯¹ input ç»‘å®šä¸ªç›‘å¬äº‹ä»¶ï¼Œæ‹¿åˆ°æ–‡ä»¶urlä¹‹åè®¾ç½®ç»™video<br>è¿™é‡Œè¦æ³¨æ„ä¸¤ç‚¹ï¼Œä¸€ä¸ªæ˜¯ <code>url</code>ç”¨å®Œä¸ç”¨çš„è¯ï¼Œç”¨ <code>URL.revokeObjectURL</code> é‡Šæ”¾èµ„æºï¼› ä¸€ä¸ªæ˜¯æˆ‘ä»¬è¿™é‡Œç”¨äº† <code>await</code> åœ¨domVide.onCanplayä¹‹å‰ä¸åšä»»ä½•æ“ä½œï¼Œé˜²æ­¢è§†é¢‘æ²¡æœ‰åŠ è½½å®Œå°±æ“ä½œï¼Œæœ‰é»‘å±é£é™©ã€‚</p><p>å¦‚æœå¯¹ es6ã€es7ã€es8ä¸ç†Ÿæ‚‰çš„å°ä¼™ä¼´è¦å»è¡¥ä¸€ä¸‹äº†~ ç°åœ¨åŸºæœ¬ä¸ä¼šè¿™äº›åŸºæœ¬è¯­æ³•éƒ½çœ‹ä¸æ‡‚demo= =<br>é™„ä¸Š<a href="http://es6.ruanyifeng.com" target="_blank" rel="noopener">é˜®ä¸€å³°è€å¸ˆçš„ES6æ•™ç¨‹</a>ï¼Œåˆæƒ³èµ·é¢è¯•è¢«é—®ES7æœ‰ä»€ä¹ˆæ–°ç‰¹æ€§ ç®€ç›´æ˜¯*äº†ç‹—<br><figure class="highlight javascript"><figcaption><span>index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">domInput.addEventListener(<span class="string">'change'</span>, <span class="keyword">async</span>(&#123;<span class="attr">target</span>: &#123;files &#125;&#125;)=&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> file = files[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">const</span> url = URL.createObjectURL(file);</span><br><span class="line">  domVideo.src = urlrl;</span><br><span class="line">  <span class="keyword">await</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">res</span>=&gt;</span> domVideo.addEventListener(<span class="string">'canplay'</span>, res));</span><br><span class="line">  <span class="comment">// next ====&gt;  handleVideoInit()</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><h3 id="å°†è§†é¢‘æ¸²æŸ“åˆ°canvas"><a href="#å°†è§†é¢‘æ¸²æŸ“åˆ°canvas" class="headerlink" title="å°†è§†é¢‘æ¸²æŸ“åˆ°canvas"></a>å°†è§†é¢‘æ¸²æŸ“åˆ°canvas</h3><p>æ‹¿åˆ°è§†é¢‘ä¹‹åï¼Œæˆ‘ä»¬è¦æŠŠå½“å‰è¿™ä¸€ä¸ªæ—¶åˆ»çš„å›¾åƒæ¸²æŸ“åˆ°canvasé‡Œé¢<br>å…ˆç”¨<code>ctx.drawImage(video, 0, 0, width, height)</code> æŠŠvideo domå½“å‰å±æ¸²æŸ“è¿›canvas<br>å†ç”¨<code>ctx.getImageData(0, 0, width, height)</code> è·å–å›¾ç‰‡çš„è‰²å€¼æ¥åšå¤„ç†<br>å¯ä»¥é€šè¿‡è°ƒæ•´ <code>img2Text</code> æ¥é€‰æ‹©æ¸²æŸ“å‡ºæ¥çš„å›¾ç‰‡æ˜¯æƒ³è¦æ€æ ·çš„(ç”±å“ªäº›å­—ç¬¦ç»„æˆç­‰ç­‰)<br>æ¯”å¦‚æŠŠ textListæ”¹ä¸º [â€˜Aaâ€™, â€˜Bvâ€™, â€˜Ccâ€™, â€˜Ddâ€™, â€˜#â€™, â€˜&amp;â€™, â€˜@â€™, â€˜$â€™, â€˜*â€™, â€˜?â€™, â€˜;â€™, â€˜^â€™, â€˜Â·â€™, â€˜Â·â€™, â€˜Â·â€™, â€˜Â·â€™]ï¼Œè¾¨è¯†åº¦ä¼šé«˜ä¸€ç‚¹</p><figure class="highlight javascript"><figcaption><span>index.js handleVideoInit</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">domVide =&gt; videoå…ƒç´ </span></span><br><span class="line"><span class="comment">size =&gt; å­˜æ”¾videoç­‰å…ƒç´ çš„é•¿å®½</span></span><br><span class="line"><span class="comment">canvasVideo =&gt; å­˜æ”¾videoå½“å‰çš„å›¾åƒçš„canvas</span></span><br><span class="line"><span class="comment">canvasShow =&gt; å­˜æ”¾æœ€åå±•ç¤ºæ•ˆæœçš„canvas</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> size = &#123;<span class="attr">w</span>: <span class="number">0</span>, <span class="attr">h</span>: <span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">const</span> canvasVideo = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleVideoInit</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  domVideo.currentTime = <span class="number">0</span>;</span><br><span class="line">  size.w = domVideo.width = canvasVideo.width = canvasShow.width = domVideo.videoWidth * <span class="number">.5</span>;</span><br><span class="line">  size.h = domVideo.height = canvasVideo.height = canvasShow.height = domVideo.videoHeight * <span class="number">.5</span>;</span><br><span class="line">  video2Img();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">video2Img</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; w, h &#125; = size;</span><br><span class="line">  ctxVideo.drawImage(domVideo, <span class="number">0</span>, <span class="number">0</span>, w, h);</span><br><span class="line">  <span class="keyword">const</span> &#123; data &#125; = ctxVideo.getImageData(<span class="number">0</span>, <span class="number">0</span>, w, h);</span><br><span class="line">  ctxShow.clearRect(<span class="number">0</span>, <span class="number">0</span>, w, h);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> _h= <span class="number">0</span>; _h&lt; h; _h+= <span class="number">8</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> _w= <span class="number">0</span>; _w&lt; w; _w+= <span class="number">8</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> index = (_w + w * _h) * <span class="number">4</span>;</span><br><span class="line">      <span class="keyword">const</span> r = data[index + <span class="number">0</span>];</span><br><span class="line">      <span class="keyword">const</span> g = data[index + <span class="number">1</span>];</span><br><span class="line">      <span class="keyword">const</span> b = data[index + <span class="number">2</span>];</span><br><span class="line">      <span class="keyword">const</span> gray = <span class="number">.299</span> * r + <span class="number">.587</span> * g + <span class="number">.114</span> * b;</span><br><span class="line">      ctxShow.fillText(img2Text(gray), _w, _h + <span class="number">8</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">img2Text</span>(<span class="params">g</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> i = g % <span class="number">16</span> === <span class="number">0</span> ? <span class="built_in">parseInt</span>(g / <span class="number">16</span>) - <span class="number">1</span> : <span class="built_in">parseInt</span>(g/ <span class="number">16</span>);</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">'#'</span>, <span class="string">'&amp;'</span>, <span class="string">'@'</span>, <span class="string">'%'</span>, <span class="string">'$'</span>, <span class="string">'w'</span>, <span class="string">'*'</span>, <span class="string">'+'</span>, <span class="string">'o'</span>, <span class="string">'?'</span>, <span class="string">'!'</span>, <span class="string">';'</span>, <span class="string">'^'</span>, <span class="string">','</span>, <span class="string">'.'</span>, <span class="string">' '</span>][i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ°è¿™ä¸€æ­¥ï¼Œå…¶å®å·²ç»å®ç°äº†æŠŠä¸€å¼ å›¾ç‰‡å˜ä¸ºå­—ç¬¦å¡«å……å›¾äº†,å‰©ä¸‹çš„å·¥ä½œæ— éå°±æ˜¯æŠŠè§†é¢‘å˜æˆä¸€å¼ å¼ çš„å›¾ç‰‡ï¼Œç„¶åé‡å¤æ‰§è¡Œè¿™äº›é€»è¾‘</p><h3 id="æŒç»­è°ƒç”¨æ¸²æŸ“å­—ç¬¦è§†é¢‘"><a href="#æŒç»­è°ƒç”¨æ¸²æŸ“å­—ç¬¦è§†é¢‘" class="headerlink" title="æŒç»­è°ƒç”¨æ¸²æŸ“å­—ç¬¦è§†é¢‘"></a>æŒç»­è°ƒç”¨æ¸²æŸ“å­—ç¬¦è§†é¢‘</h3><p>æˆ‘ä»¬æ”¹ä¸€ä¸‹  video2Img å‡½æ•°ï¼Œå°†å…¶å®ç°ä¸ºèƒ½æŒç»­è°ƒç”¨çš„å½¢å¼ï¼Œ å†æ·»åŠ ä¸€ä¸ªå‡½æ•° <code>clear</code> ç”¨æ¥æ¸…ç†åƒåœ¾</p><p>è¿™é‡Œç”¨åˆ°çš„æ˜¯ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/requestAnimationFrame" target="_blank" rel="noopener">window.requestAnimationFrame</a> å»æŒç»­è°ƒç”¨<br><figure class="highlight javascript"><figcaption><span>index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">video2Img</span>(<span class="params">&#123;</span></span></span><br><span class="line"><span class="function"><span class="params">  timePoint= <span class="number">0</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">  curT= Date.now(</span>),</span></span><br><span class="line"><span class="function">  <span class="title">prevT</span>= <span class="title">Date</span>.<span class="title">now</span>(<span class="params"></span>),</span></span><br><span class="line"><span class="function">  <span class="title">prevInterval</span>,</span></span><br><span class="line"><span class="function">&#125;) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; w, h &#125; = size;</span><br><span class="line">  ctxVideo.drawImage(domVideo, <span class="number">0</span>, <span class="number">0</span>, w, h);</span><br><span class="line">  drawOnce();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> _interval = <span class="built_in">Math</span>.max((curT - prevT), <span class="number">16</span>) / <span class="number">1000</span>;</span><br><span class="line">  <span class="keyword">if</span> (curT - prevT !== <span class="number">0</span>) _interval -= prevInterval;</span><br><span class="line">  <span class="keyword">await</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">res</span>=&gt;</span> setTimeout(res, _interval*<span class="number">1000</span>));</span><br><span class="line">  <span class="keyword">const</span> nextTimePoint = _interval + timePoint;</span><br><span class="line">  <span class="keyword">if</span> (nextTimePoint &gt; domVideo.duration) <span class="keyword">return</span> clear();</span><br><span class="line"></span><br><span class="line">  tId = <span class="built_in">window</span>.requestAnimationFrame(<span class="function"><span class="params">()</span>=&gt;</span> video2Img(&#123;</span><br><span class="line">    timePoint: nextTimePoint,</span><br><span class="line">    prevT: curT,</span><br><span class="line">    curT: <span class="built_in">Date</span>.now(),</span><br><span class="line">    prevInterval: _interval,</span><br><span class="line">  &#125;));  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">drawOnce</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; data &#125; = ctxVideo.getImageData(<span class="number">0</span>, <span class="number">0</span>, w, h);</span><br><span class="line">  ctxShow.clearRect(<span class="number">0</span>, <span class="number">0</span>, w, h);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> _h= <span class="number">0</span>; _h&lt; h; _h+= <span class="number">8</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> _w= <span class="number">0</span>; _w&lt; w; _w+= <span class="number">8</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> index = (_w + w * _h) * <span class="number">4</span>;</span><br><span class="line">      <span class="keyword">const</span> r = data[index + <span class="number">0</span>];</span><br><span class="line">      <span class="keyword">const</span> g = data[index + <span class="number">1</span>];</span><br><span class="line">      <span class="keyword">const</span> b = data[index + <span class="number">2</span>];</span><br><span class="line">      <span class="keyword">const</span> gray = <span class="number">.299</span> * r + <span class="number">.587</span> * g + <span class="number">.114</span> * b;</span><br><span class="line">      ctxShow.fillText(img2Text(gray), _w, _h + <span class="number">8</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cleart</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> &#123;w, h&#125; = size;</span><br><span class="line">  lastUrl &amp;&amp; URL.revokeObjectURL(lastUrl);</span><br><span class="line">  tId &amp;&amp; <span class="built_in">window</span>.cancelAnimationFrame(tId);</span><br><span class="line">  ctxShow.clearRect(<span class="number">0</span>, <span class="number">0</span>, w, h);</span><br><span class="line">  ctxVideo.clearRect(<span class="number">0</span>, <span class="number">0</span>, w, h);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="æºç ä¸demo"><a href="#æºç ä¸demo" class="headerlink" title="æºç ä¸demo"></a>æºç ä¸demo</h2><p>è‡³æ­¤ï¼ŒåŠŸèƒ½åŸºæœ¬éƒ½å®ç°äº†ï¼Œä¸‹é¢æä¾›åœ¨çº¿çš„å‘†æ¯›å’Œgithubä»“åº“åœ°å€~</p><h3 id="åœ¨çº¿å‘†æ¯›"><a href="#åœ¨çº¿å‘†æ¯›" class="headerlink" title="åœ¨çº¿å‘†æ¯›"></a><a href="/demo/video2char/index.html">åœ¨çº¿å‘†æ¯›</a></h3><h3 id="github-æºç "><a href="#github-æºç " class="headerlink" title="github æºç "></a><a href="https://github.com/jsonz1993/wheel/tree/master/video2char" target="_blank" rel="noopener">github æºç </a></h3><p>videoè½¬å›¾ç‰‡å¿˜äº†æ˜¯åœ¨githubçœ‹å“ªä¸ªé¡¹ç›®çš„ï¼Œ<code>ctx.drawImage(video, 0, 0, width, height)</code>è¿™ä¸ªæ˜¯çœ‹å®Œæ‰çŸ¥é“çš„ã€‚</p><p>å›¾ç‰‡è½¬å­—ç¬¦åŸºæœ¬æ˜¯çœ‹è¿™ä¸ªå¤§å“¥çš„<a href="https://github.com/Leo-0/img2Char" target="_blank" rel="noopener">github</a></p><p>åœ¨æ‰¾æ–¹æ¡ˆçš„æ—¶å€™çœ‹åˆ°çš„ä¸€ä¸ªåƒç´ å›¾å®ç°ï¼ŒæŒºæœ‰è¶£çš„ï¼Œä»¥å‰å®ç°é©¬èµ›å…‹æ˜¯æ‹¿å‘¨å›´åƒç´ å€¼å–å¹³å‡å»åšï¼Œè¿™ä¸ªå“¥ä»¬æ˜¯ç›´æ¥æ”¾å¤§æˆªå›¾ æ›´ç®€å•ç²—æš´<a href="https://segmentfault.com/a/1190000007977592" target="_blank" rel="noopener">ä¼ é€é—¨</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å…ˆçœ‹ä¸€ä¸‹æ•ˆæœï¼ŒåŸè§†é¢‘æ˜¯è¿™æ ·çš„&lt;/p&gt;
&lt;video src=&quot;../2018-07-27/b_1.mp4&quot; width=&quot;300&quot; controls&gt;&lt;/video&gt;

&lt;p&gt;æˆ‘ä»¬è¦å®ç°çš„æ•ˆæœæ˜¯è¿™æ ·å­çš„ï¼Œä¹‹æ‰€ä»¥æ‰¾è¿™ä¸ªè§†é¢‘æ˜¯å› ä¸ºâ€¦è¿™ä¸ªè§†é¢‘å’ŒèƒŒæ™¯çš„å¯¹æ¯”åº¦æ¯”è¾ƒé«˜åšå‡ºæ¥æ¯”è¾ƒæœ‰è¾¨è¯†åº¦
      
    
    </summary>
    
      <category term="technology" scheme="https://jsonz1993.github.io/categories/technology/"/>
    
    
      <category term="github" scheme="https://jsonz1993.github.io/tags/github/"/>
    
      <category term="JavaScript" scheme="https://jsonz1993.github.io/tags/JavaScript/"/>
    
      <category term="learn" scheme="https://jsonz1993.github.io/tags/learn/"/>
    
      <category term="Canvas" scheme="https://jsonz1993.github.io/tags/Canvas/"/>
    
      <category term="HTML" scheme="https://jsonz1993.github.io/tags/HTML/"/>
    
  </entry>
  
  <entry>
    <title>2018-07-27 å°è®°</title>
    <link href="https://jsonz1993.github.io/2018/07/2018-07-27/"/>
    <id>https://jsonz1993.github.io/2018/07/2018-07-27/</id>
    <published>2018-07-27T17:10:46.000Z</published>
    <updated>2019-12-21T04:37:05.100Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸Šä¸€ç¯‡æ–‡å·²ç»æ˜¯ä¸€ä¸ªæœˆå‰çš„ï¼Œè¿˜æ˜¯æ”¹ä¸äº†æ‡’çš„ä¹ æƒ¯</p><p>ä¹ æƒ¯æ€§å¯¹æœ€è¿‘åšä¸€äº›æ€»ç»“ï¼Œå…³äºé¢è¯•ï¼Œå…³äºå·¥ä½œä¸Šï¼Œå…³äºæœ€è¿‘å­¦ä¹ çš„ä¸œè¥¿ã€‚</p><h2 id="å…³äºé¢è¯•"><a href="#å…³äºé¢è¯•" class="headerlink" title="å…³äºé¢è¯•"></a>å…³äºé¢è¯•</h2><p>è®°å¾—ä»å››æœˆå°¾å°±ä¸€æ®µæ—¶é—´å»é¢ä¸€æ¬¡ï¼Œç°åœ¨å·²ç»ç¡®å®šç»§ç»­ç•™åœ¨ç§Ÿç§Ÿè½¦ã€‚é¡ºè·¯æ£é¼“ä¸€äº›ä¸œè¥¿ï¼Œè€ƒè€ƒä¸“å‡æœ¬ã€‚</p><p>è‡ªè”æä¹‹åé¢äº†å››å®¶</p><ul><li>cvte</li><li>é˜¿é‡Œå¤–åŒ…</li><li>YY</li><li>è½¦ä¸»æ— å¿§</li></ul><h3 id="cvte"><a href="#cvte" class="headerlink" title="cvte"></a>cvte</h3><p>cvte æˆ‘éƒ½å¿˜äº†æœ‰æŠ•ä»–å…¬å¸ç®€å†ï¼Œä¸€å¤©æ™šä¸Šçœ‹ä¹¦ï¼Œçªç„¶å°±æ¥äº†ä¸ªç”µè¯è¯´æ˜¯xxxxçš„xxxï¼Œæ¥è¿›è¡Œç”µè¯é¢è¯•ã€‚<br>ç„¶åå°±ç¨€é‡Œç³Šæ¶‚èŠäº†åŠä¸ªå¤šå°æ—¶ï¼Œä¹‹åå°±è¯´ç­‰hrç”µè¯ã€‚</p><p>hrç”µè¯èŠäº†ä¸‹åŠ ç­æƒ…å†µï¼Œä¼ä¸šæ–‡åŒ–ï¼Œç¦åˆ©ç­‰ä¸œè¥¿ã€‚</p><p>å…¶å®ä¹‹å‰å°±ä¸€ç›´å¬è¯´cvteå¾ˆå°é—­ï¼Œåˆå¾ˆä¼ ç»Ÿï¼ŒåŠ ç­è´¼ç–¯ç‹‚ï¼Œä¼ä¸šæ–‡åŒ–åˆå¾ˆé‚£å•¥ï¼Œæ‰€ä»¥æ‰“å¿ƒé‡Œä¸ä¼šå»é‚£é‡Œ</p><p>æ‰€ä»¥hré¢çš„æ—¶å€™ï¼Œä¹Ÿæ²¡æœ‰æ€ä¹ˆå›ç­”ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹æ˜¯cvteå±…ç„¶æ˜¯æ²¡æœ‰è–ªèµ„ä¿å¯†çš„ï¼Œæ‰€ä»¥æˆ‘å°±é¡ºè·¯é—®äº†hrçš„è–ªèµ„çœ‹æ˜¯ä¸æ˜¯çœŸçš„åƒä»–è¯´çš„ä¸€æ · è–ªèµ„å…è®¸è®¨è®ºã€‚ç»“æœä¼°è®¡å› ä¸ºè¿™ä¸ªå¾—ç½ªäº†hr= =æ²¡æœ‰è¿‡hré¢</p><h3 id="é˜¿é‡Œå¤–åŒ…"><a href="#é˜¿é‡Œå¤–åŒ…" class="headerlink" title="é˜¿é‡Œå¤–åŒ…"></a>é˜¿é‡Œå¤–åŒ…</h3><p>é˜¿é‡Œå¤–åŒ…å…¶å®æ˜¯æœ€æ„å¤–çš„ä¸€å®¶<br>æ˜¯æ­¦æ±‰ä¸€å®¶å…¬å¸è”ç³»ä¸Šçš„ï¼Œè”ç³»ä¹‹åæƒ³ç€å»è¯•ä¸€ä¸‹é˜¿é‡Œçš„é¢è¯•åˆ°åº•æ˜¯æ€æ ·çš„ æ‰€ä»¥å°±ç­”åº”äº†<br>hréå¸¸çš„å¥½ï¼Œé¢è¯•å‰å†ä¸‰å®å˜±ï¼Œä¹ŸæŠŠé¢è¯•å®˜çœ‹å®Œç®€å†çš„åé¦ˆå‘Šè¯‰äº†æˆ‘<br>è¿˜è®©åŒäº‹æå‰é¢æˆ‘ä¸€è½®ï¼Œé¢å®Œè¯´ æ²¡ä»€ä¹ˆé—®é¢˜</p><p>é¢è¯•å½“å¤©èŠäº†ä¸‹é¡¹ç›®ç»éªŒè¿˜æœ‰åŸºç¡€çŸ¥è¯†å’Œä¸€äº›é—®é¢˜çš„æ’æŸ¥æ€è·¯</p><p>æœ¬ä»¥ä¸ºç­”çš„æŒºä¸é”™çš„ï¼Œå’Œé¢è¯•å®˜ä¹ŸèŠå¾—å¾ˆæ„‰å¿«ã€‚åé¢é¢è¯•å®˜è¯´å»æ‰¾è€å¤§æ¥é¢ï¼Œè®©æˆ‘éªšç­‰ç‰‡åˆ»</p><p>è¿‡æ®µæ—¶é—´åè¯´è€å¤§åœ¨å¼€ä¼šï¼Œè®©æˆ‘å›å»ç­‰é€šçŸ¥â€¦ç°åœ¨æƒ³èµ·æ‰çŸ¥é“åŸæ¥è€å¤§åœ¨å¼€ä¼šæ˜¯ä¸€ä¸ªæ‹’ç»äººçš„å¥—è·¯ å›¾æ ·å›¾æ£®ç ´</p><p>å»é˜¿é‡Œé¢æƒ³èµ·äº†ä¸€å¹´å‰å»é¢ucï¼Œé‚£æ—¶å€™ä¹Ÿé¢å¾—å¾ˆå¼€å¿ƒï¼Œåé¢å¾—çŸ¥æ˜¯åº”è˜å¤–åŒ…å²—å°±æ²¡æ€ä¹ˆæƒ³ç»§ç»­ä¸‹å»â€¦</p><p>ä½†æ˜¯é˜¿é‡Œçš„é¢è¯•å®˜ç»™æˆ‘çš„æ„Ÿè§‰æ²¡æœ‰åƒä¸€äº›å°å…¬å¸çš„äººä¸€æ ·ï¼Œç»™äººçš„æ„Ÿè§‰æ˜¯å¾ˆäº²åˆ‡çš„ã€‚å’Œæˆ‘è¯´å¦‚æœæƒ³è¿›æŸä¸ªå¤§å…¬å¸ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å‚ä¸è¯¥å…¬å¸çš„å¼€æºé¡¹ç›®ï¼Œè¿™æ˜¯æ”¶è·æœ€å¤§çš„ä¸€ä¸ªç‚¹ã€‚</p><p>è™½ç„¶è¿‡äº†ä¸ä¼šå»ï¼Œä½†æ˜¯æ€»ä½“æ¥è¯´è¿˜æ˜¯å¾ˆæ„å¤–ã€‚</p><h3 id="è½¦ä¸»æ— å¿§"><a href="#è½¦ä¸»æ— å¿§" class="headerlink" title="è½¦ä¸»æ— å¿§"></a>è½¦ä¸»æ— å¿§</h3><p>è½¦ä¸»æ— å¿§è¿™ä¸ªå°±æ¯”è¾ƒå°´å°¬äº†ï¼Œæ˜¯åœ¨å…¬å¸åŒä¸€æ ‹â€¦é¢è¯•å¤§æ¦‚çš„æ„Ÿè§‰å°±æ˜¯æŒºå®¹æ˜“çš„ï¼Œé¢è¯•å®˜é—®çš„é—®é¢˜éƒ½æ˜¯é’ˆå¯¹é¡¹ç›®ç»éªŒï¼Œæ‰€ä»¥åŸºæœ¬æ²¡æœ‰é€ å‡åˆ’æ°´å°±æ²¡ä»€ä¹ˆé—®é¢˜ã€‚<br>é¢ä¸‰å››è½®ï¼ŒæŠ€æœ¯é¢é¢å‰ç«¯Leaderï¼ŒæŠ€æœ¯äºŒé¢é¢éƒ¨é—¨è´Ÿè´£äººï¼Œç„¶åå°±æ˜¯ctoé¢ï¼Œé¢å®Œhrå’Œæˆ‘è¯´ä¸èƒ½ç»™æˆ‘æœŸæœ›è–ªèµ„<br>ä¸‰å¹´æœ€å¤šåªèƒ½ç»™xxkâ€¦è¯´ä¸€å¼€å§‹ä»¥ä¸ºæˆ‘æ˜¯æœ‰ä¸‰å¹´åŠç»éªŒï¼Œæ‰€ä»¥å¯ä»¥ç»™å››å¹´çš„è–ªèµ„<br>åé¢æ¥äº†offerè€ƒè™‘ä¸‹å®Œå…¨ä¸å€¼å¾—è·³å°±æ”¾å¼ƒ</p><p>ä½†æ˜¯è½¦ä¸»æ— å¿§æœ‰ä¸ªé¢˜å¤–è¯ï¼Œå’ŒhrèŠå¤©èŠå¾ˆä¹…ï¼Œhrè¯´ ä¹‹å‰ç§Ÿç§Ÿè½¦æœ‰é«˜çº§å‰ç«¯æ¥é¢è¯•ç»™å‡ºçš„è¯„ä»·æ˜¯å¾ˆæ°´ï¼Œæ‰€ä»¥å¯¹æˆ‘åŸæœ¬çš„ä¸æŠ±ä»€ä¹ˆå¸Œæœ›ã€‚ä½†æ˜¯æŠ€æœ¯é¢ç»™çš„è¯„ä»·æ˜¯å¾ˆä¸é”™ï¼Œæ‰€ä»¥æœ‰ç‚¹æƒŠè®¶ç§Ÿç§Ÿè½¦å†…éƒ¨çš„æ°´å¹³å·®å¼‚å¤§ã€‚</p><h3 id="YY-UED"><a href="#YY-UED" class="headerlink" title="YY UED"></a>YY UED</h3><p>é¢YYæ˜¯æœ€è¿‘æœ€å¼€å¿ƒï¼Œæ”¶è·æœ€å¤§çš„ä¸€æ¬¡é¢è¯•ã€‚<br>UEDå½“æ—¶é¢è¯•çš„æ—¶å€™åªæœ‰å››ä¸ªå‰ç«¯ï¼Œæˆ‘æ€»å…±é¢äº†äº”è½®ï¼ŸåŸºæœ¬ä¸Šå°±æ˜¯éƒ¨é—¨è½®ç€äººæ¥è™æˆ‘= =</p><p>ä¸€é¢å’ŒleaderèŠèŠå¤©ï¼Œè¯´ä¸€äº›åœºæ™¯çš„è§£å†³æ–¹æ¡ˆ</p><p>ç„¶åå°±æ˜¯ç¬”è¯•é¢˜ï¼Œåšå®Œä¹‹åå°±æ˜¯é¢ä¸‰é¢ã€‚</p><p>ä¸‰é¢å’Œéƒ¨é—¨ä¸€ä¸ªæŠ€æœ¯å¤§ç‰›èŠèŠå¤©ï¼ŒèŠæ¡†æ¶å±…å¤šï¼Œä¸€ä¸ªvueçš„äºº å¯¹reactäº†è§£æ¯”æˆ‘æ·±å¾ˆå¤šï¼Œè¿™æ˜¯æŒºä½©æœçš„<br>ä»–æœ‰ä¸ªè¯„åˆ†æ ‡å‡†ï¼Œå¤§æ¦‚å°±æ˜¯æƒ³æ‹›vue 6åˆ†ä»¥ä¸Šï¼Œä»¥å†™å†™demoçœ‹çœ‹apiä¸º1åˆ†ï¼›èƒ½ä¿è¯é¡¹ç›®æ­£å¸¸ä¸Šçº¿5åˆ†ï¼›ç†Ÿæ‚‰æ•´ä¸ªæ¡†æ¶ç»“æ„åŸç†ï¼Œé‡åˆ°é—®é¢˜èƒ½å‡†ç¡®çŸ¥é“æ˜¯åœ¨å“ªä¸ªç¯èŠ‚å‡ºé—®é¢˜ï¼Œå¯¹æ•´ä¸ªç”Ÿå‘½å‘¨æœŸåŠè¿è½¬å¾ˆç†Ÿæ‚‰ä¸º6åˆ†ï¼›å¯¹æ•´ä¸ªvueç”Ÿæ€éƒ½å¾ˆäº†è§£ï¼Œç²¾å‡†åˆ°æ¯æ¬¡è¿­ä»£æ”¹åŠ¨çš„æºç éƒ¨åˆ†ï¼Œè¿˜æœ‰vuexç­‰ç”Ÿæ€ä¹Ÿå¾ˆå…³æ³¨ä¸º10åˆ†ã€‚<br>å¤§ç‰›è¯´æˆ‘æ˜¯é¢è¿‡çš„åŒç­‰å·¥ä½œå¹´é™çš„ä¸­ä¸Šæ°´å¹³ï¼Œè¿™å¥è¯è®©æˆ‘å¼€å¿ƒäº†å¥½ä¹…å¥½ä¹…â€¦.å“ˆå“ˆå“ˆå“ˆ<br>ç»™å‡ºçš„è¯„ä»·æ˜¯å„æ–¹é¢éƒ½å¾ˆå‡è¡¡ï¼Œæ²¡ä»€ä¹ˆæ˜ç¡®çš„ç¼ºç‚¹ï¼Œä½†æ˜¯è¿™ä¹Ÿæ„å‘³ç€æ²¡æœ‰ä¸€ä¸ªèƒ½æ‹¿å‡ºæ¥è®²çš„æœ‰æ·±å…¥ç ”ç©¶çš„æ–¹å‘ã€‚<br>æœ€åè®©æˆ‘å›å»ç­‰é€šçŸ¥</p><p>å‡ å¤©åhræ‰“ç”µè¯è¯´è¿‡å»é¢è¯•ï¼Œå¼€å¿ƒã€‚<br>å››é¢æ˜¯éƒ¨é—¨å¦ä¸€ä¸ªå‰ç«¯é¢è¯•ï¼ŒèŠäº†ä¸€äº›åŸºç¡€çŸ¥è¯†å§ï¼Œè¿˜æœ‰ä¸€äº›åœºæ™¯å’Œæ¦‚å¿µæ€§çš„é—®é¢˜ã€‚<br>å…·ä½“é—®ä»€ä¹ˆå¿˜äº†ï¼Œåªè®°å¾—èŠçš„ä¹ŸæŒºæ„‰å¿«çš„ã€‚é¢å®Œä¹‹åæ˜¯leaderä¸‹æ¥é—²èŠä¸€ä¸‹ï¼Œé—®è¿˜æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œæ²¡æœ‰å°±é¢hräº†</p><p>hré¢æ˜¯åœ¨yyé¢è¯•æœ€ç´¯çš„ä¸€ä¸ªï¼Œå…¨ç¨‹hræ‹¿ç€å°æœ¬æœ¬ï¼Œè¾¹é—®è¾¹è®°ã€‚å¯èƒ½æ˜¯å‰é¢å’ŒæŠ€æœ¯å°ä¼™ä¼´èŠå¾—æ¯”è¾ƒopenï¼Œåˆ°hrè¿™è¾¹çªç„¶å˜å¾—è°¨æ…äº†ï¼Œæ‰€ä»¥é¢å®Œhrä¹‹å æ•´ä¸ªäººéƒ½å¥½ç´¯ã€‚ä¹Ÿæ˜¯å¾ˆä¼ ç»Ÿçš„é—®äº†ä»¥å‰çš„å…¬å¸ï¼Œä¸ºä»€ä¹ˆè·³æ§½å•Šä¹‹ç±»çš„ã€‚ æœ‰ä¸€äº›ä¸ä¸€æ ·çš„å°±æ˜¯é—®æˆ‘æ€ä¹ˆä¿è¯æœ‰æŒç»­çš„äº§å‡ºå’Œèƒ½ä¿æŒé«˜æ•ˆé•¿æœŸå­¦ä¹ ï¼Œå› ä¸ºUEDæ˜¯éœ€è¦ä¸æ–­çš„æ¢ç´¢å‰ç»æŠ€æœ¯çš„ï¼Œè¿˜æœ‰å°±æ˜¯é—®æˆ‘æœ‰æ²¡æœ‰blogï¼Œå¤šå°‘äººè®¢é˜…â€¦emmmm æˆ‘è¯´æˆ‘çš„åšå®¢æ²¡äººè®¢é˜…æ²¡äººçœ‹ï¼Œè‡ªå·±å†™ç€ç© ğŸ¤¦â€</p><p>è¿‡äº†å‡ å¤©åhræ‰“ç”µè¯èŠofferï¼Œæ€»ä½“æ¥è¯´æ¯”ç°åœ¨çš„é«˜äº†ä¸å°‘ï¼Œç®—æ˜¯å¾ˆæ»¡æ„çš„ä¸€ä¸ªofferäº†ã€‚</p><p>æœ¬æ¥é“äº†å¿ƒè¦è¿‡å»é‚£è¾¹æµªï¼Œæ¯•ç«Ÿéƒ¨é—¨çš„åŒäº‹åŸºæœ¬éƒ½è§äº†ä¸€é å“ˆå“ˆå“ˆå“ˆï¼Œç„¶åofferåˆæ¯”è¾ƒå¿ƒæ°´ã€‚</p><p>åé¢å› ä¸ºä¸ªäººåŸå› é€‰æ‹©ç»§ç»­ç•™åœ¨ç§Ÿç§Ÿè½¦ï¼Œä½†æ˜¯å¦‚æœåœ¨ä»¥åæœ‰æœºä¼šï¼Œè¿˜æ˜¯ä¼šä¼˜å…ˆè€ƒè™‘yyçš„ã€‚</p><h2 id="å…³äºå·¥ä½œ"><a href="#å…³äºå·¥ä½œ" class="headerlink" title="å…³äºå·¥ä½œ"></a>å…³äºå·¥ä½œ</h2><h3 id="é¡¹ç›®æ‹†åŒ…"><a href="#é¡¹ç›®æ‹†åŒ…" class="headerlink" title="é¡¹ç›®æ‹†åŒ…"></a>é¡¹ç›®æ‹†åŒ…</h3><p>æ—¢ç„¶é€‰æ‹©ç•™åœ¨ç§Ÿç§Ÿè½¦ï¼Œè‚¯å®šå°±ä¸èƒ½åƒä¹‹å‰åŠå¹´åˆ’åˆ’æ°´å°±è¿‡å»</p><p>æœ€è¿‘å·¥ä½œä¸Šä¸»è¦è´Ÿè´£çš„æ˜¯ï¼Œæƒ³ç€æŠŠéƒ¨é—¨çš„é¡¹ç›®åšä¸ªæ‹†åŒ…</p><p>åŸæœ¬å°é¡¹ç›®æ…¢æ…¢è¿­ä»£æˆå¾ˆå¤§çš„é¡¹ç›®ï¼Œä¸€æ¬¡æ‰“åŒ…è¦èŠ±åŠä¸ªå°æ—¶â€¦.åŠ ä¸Šç°åœ¨ç›®å½•çš„é—®é¢˜ï¼Œæ¯å¤©è¿‡æ¥éƒ½è¦æ‰“ä¸€ä¸ªå…¨é‡åŒ…ã€‚</p><p>æ‰€ä»¥ç°åœ¨çš„è®¡åˆ’æ˜¯ï¼Œå¯¹é¡¹ç›®æ¨¡å—è¿›è¡Œæ‹†åŒ…ï¼Œä¸€ä¸ªæ¨¡å—ç‹¬ç«‹æˆä¸€ä¸ªé¡¹ç›®ï¼Œæœ‰è‡ªå·±çš„node_modelsï¼Œä½†æ˜¯å…±ç”¨ä¸€ä¸ªgitã€‚</p><p>è¿™ä¸ªå…¶å®ä»åŠå¹´å‰å°±æœ‰äººæå‡ºæ¥ï¼Œä½†æ˜¯å¤ªéš¾æäº† æ‰€ä»¥ä¸€ç›´æ²¡äººå»æ¨</p><p>é¦–å…ˆè¦è€ƒè™‘çš„æ˜¯éƒ¨é—¨ä¸å¯èƒ½åœæ‰æ—¥å¸¸è¿­ä»£ï¼Œæ¥ç­‰ä½ æ‹†åŒ…ã€‚è€Œä¸”ä½ çš„éœ€æ±‚ä¹Ÿä¸ä¼šå› ä¸ºè¿™ä¸ªæŠ€æœ¯éœ€æ±‚è€Œå‡å°‘ï¼Œæ‰€ä»¥è¦åœ¨å¹³æ—¶åšéœ€æ±‚çš„é—´éš™åšè¿™ä»¶äº‹æƒ…ã€‚</p><p>å°½å¯èƒ½æŠŠè·¯å¾„æ›¿æ¢ï¼Œæ–‡ä»¶è¿ç§»ç­‰åšæˆè„šæœ¬å»è·‘ï¼Œä¸ç„¶åšä¸ä¸‹å»ã€‚<br>è€Œä¸”æ‹†åŒ…ä¹‹åï¼Œè¦è€ƒè™‘åç«¯çš„æ¨¡æ¿è·¯å¾„é—®é¢˜è¿˜æœ‰éƒ¨ç½²çš„é—®é¢˜ï¼ŒåŠ ä¸Šä¸€äº›å‰ç«¯ pwa,ampçš„æ„å»ºè€ƒè™‘<br>çœŸæ˜¯ä¸ªå¤§å·¥ç¨‹â€¦</p><p>æœ€è¿‘çš„æˆæœæ˜¯æœ¬åœ°èƒ½è·‘èµ·æ¥ï¼Œä½†æ˜¯è¿˜ç¼ºä¸€ä¸ª æœ¬åœ°æœåŠ¡ï¼ŒåŠ ä¸Šè¿˜æ²¡æœ‰å’Œåç«¯ï¼Œéƒ¨ç½²é‚£å—æ²Ÿé€šã€‚</p><p>ä»»é‡é“è¿œ</p><h3 id="ä¸‹åŠå¹´çš„æŒ‡æ ‡"><a href="#ä¸‹åŠå¹´çš„æŒ‡æ ‡" class="headerlink" title="ä¸‹åŠå¹´çš„æŒ‡æ ‡"></a>ä¸‹åŠå¹´çš„æŒ‡æ ‡</h3><p>ä¸‹åŠå¹´ï¼Œè€å¤§ç»™å®šçš„æŠ€æœ¯æŒ‡æ ‡æ˜¯Reactå’ŒWebpackä¸¤é¡¹</p><p>å…¶å®åŸæœ¬ç»™çš„æ˜¯Httpå’Œæµè§ˆå™¨å†…æ ¸ï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¯´ç°åœ¨æˆ‘å»äº†è§£é‚£ä¸¤å—æ²¡ä»€ä¹ˆå¤§çš„æ”¶è·ã€‚</p><p>åŠ ä¸Šåœ¨yyé¢è¯•ä¹‹åï¼Œé¢è¯•å®˜ä¸€ç›´ç»™çš„è¯„ä»·æ˜¯æ²¡æœ‰ä¸€ä¸ªå¾ˆæ·±å…¥çš„ç‚¹ï¼Œæ‰€ä»¥å°±é€‰äº†Reactå»åšæ·±å…¥çš„æ–¹å‘ã€‚</p><p>Reactæ¢ç´¢ä¹‹ä½™äº†è§£Webpackå’Œ PWAéƒ¨åˆ†</p><h3 id="å…³äºwebpack"><a href="#å…³äºwebpack" class="headerlink" title="å…³äºwebpack"></a>å…³äºwebpack</h3><p>å‰å‡ å¤©æœ‰ä¸ªéœ€æ±‚æ˜¯é¡¹ç›®ä¸Šç”¨åˆ°çš„cookieéƒ½è¦è®°å½•åˆ°æŸä¸ªæ–‡æ¡£é‡Œé¢ï¼Œä¸€å¼€å§‹æƒ³ç€å†™ä¸€ä¸ªwebpackæ’ä»¶å»åšè¿™ä»¶äº‹æƒ…ã€‚ é¡¹ç›®çš„webpackæ˜¯3.xï¼Œå®˜æ–¹çš„æ–‡æ¡£å…¨éƒ½å‡çº§åˆ°4.xï¼Œä¸€å¼€å§‹æœ‰ç‚¹è›‹ç–¼ï¼Œä¹Ÿæ²¡æœ‰ä¸€ä¸ªæ¯”è¾ƒé€‚åˆå…¥é—¨çš„demoï¼Œè¦ä¸å°±æ˜¯å¤ªç®€å•ï¼Œè¦ä¸å°±æ˜¯å¾ˆå¤æ‚çš„ã€‚</p><p>åé¢ç»ˆäºå¤§æ¦‚è·‘äº†èµ·æ¥ï¼Œä½†æ˜¯è·‘èµ·æ¥ä¹‹åï¼Œå‘ç°å’Œé¢„æƒ³çš„ä¸ä¸€è‡´ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>æ–‡æ¡£éœ€è¦è®°å½•çš„æ˜¯ key value description, ä¸¾ä¸ªä¾‹å­<br>cookie.set(â€˜nameâ€™, â€˜jsonzâ€™, â€˜ç”¨æˆ·åâ€™);</p><p>æˆ‘çš„æ–¹æ¡ˆæ˜¯åœ¨webpackç¼–è¯‘çš„æ—¶å€™æ‹¿åˆ°babelè½¬ä¹‰å’Œä»£ç å‹ç¼©ä¼˜åŒ–ä¹‹å‰çš„å†…å®¹ï¼Œå› ä¸ºé¡¹ç›®ä¸Šæ¶‰åŠåˆ°cookieçš„æ“ä½œéƒ½ä¼šç”¨ä¸€ä¸ª <code>cookie-js</code> çš„ç±»åº“ï¼Œæ‰€ä»¥å¯ä»¥åˆ©ç”¨è¿™ä¸ªåšä¸ºåˆ‡å…¥ç‚¹ã€‚</p><p>å¤§æ¦‚çš„æ€è·¯æ˜¯ï¼š webpackç”Ÿå‘½å‘¨æœŸé‡Œé¢å»æ‹¿åˆ°æºæ–‡ä»¶ï¼Œç„¶åç”¨ä¸€ä¸ªè¯­æ³•åˆ†ææ ‘ï¼Œè§£ææˆASTï¼Œå†æ ¹æ®ç±»å‹å»ç­›é€‰å‡º cookie-js å‡½æ•°è°ƒç”¨ä¼ å…¥çš„å‚æ•°</p><p>æœ¬æ¥è§‰å¾—å¤©è¡£æ— ç¼ï¼Œä½†æ˜¯ç†æƒ³å¾ˆå¤©çœŸï¼Œå®é™…é¡¹ç›®ä¸Šäº”èŠ±å…«é—¨ï¼Œæ¯”å¦‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Cookie <span class="keyword">from</span> <span class="string">'Cookie-js'</span>;</span><br><span class="line"><span class="keyword">const</span> cookie = <span class="built_in">require</span>(<span class="string">'Cookie-js'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> key = IS_DEV? <span class="string">'_name'</span>: <span class="string">'name'</span>;</span><br><span class="line"><span class="keyword">const</span> value = <span class="built_in">JSON</span>.parse(Cookie.get(<span class="string">'obj'</span>)).name;</span><br><span class="line">Cookie.set(key, value, <span class="string">'åå­—'</span>);</span><br><span class="line"></span><br><span class="line">cookie.set(<span class="string">'user'</span>, &#123;</span><br><span class="line">  name: <span class="string">'jsonz'</span>,</span><br><span class="line">  age: <span class="number">25</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>æ‰€ä»¥å…¶å®å¦‚æœçœŸçš„è¦ç”¨è„šæœ¬è®°å½•ï¼Œåªèƒ½åœ¨è¿è¡Œç¯å¢ƒä¸‹è®°å½•ï¼Œæ‰€ä»¥æ”¾å¼ƒè¿™ä¸ªæ–¹æ¡ˆâ€¦.</p><h2 id="å…³äºæ£é¼“"><a href="#å…³äºæ£é¼“" class="headerlink" title="å…³äºæ£é¼“"></a>å…³äºæ£é¼“</h2><h3 id="å°ç¨‹åº"><a href="#å°ç¨‹åº" class="headerlink" title="å°ç¨‹åº"></a>å°ç¨‹åº</h3><p>å‰æ®µæ—¶é—´æ˜¯è‡ªå·±æ£é¼“äº†ä¸€ä¸ªå°ç¨‹åºï¼Œç”¨æ¥ç»™æ¯å¤©åšè®¡åˆ’çš„ã€‚å¤§æ¦‚é•¿è¿™æ ·<br><img src="./wechat.jpeg" alt="wechat å°ç¨‹åº"></p><p>æŠ€æœ¯æ ˆ:<br>å‰ç«¯: ç”¨çš„æ˜¯ç¾å›¢çš„ mpvueï¼Œæš‚æ—¶å‘ç°å…¶å®å’Œå†™vueå¾ˆå¤šä¸ä¸€æ ·ï¼Œå› ä¸ºæœ‰å¾ˆå¤šå¯èƒ½æ˜¯å°ç¨‹åºçš„å±€é™é—®é¢˜ï¼Œä¹Ÿå¯èƒ½æ˜¯è½¬æ¢é—®é¢˜ï¼Œnå¤šè«åå…¶å¦™çš„bugè€Œä¸”è¿˜æ— æ³•æ­£é¢å¹²ã€‚</p><p>åç«¯:<br>Node: åšä¸»è¦æœåŠ¡ç«¯è¯­è¨€ï¼Œç”¨çš„é˜¿é‡ŒEgg.jsæ¡†æ¶<br>MySQL: ä¸ºä»€ä¹ˆé€‰æ‹©MySQLè€Œä¸æ˜¯å‰ç«¯(node)æƒ¯ç”¨çš„mongodbå‘¢ï¼Ÿ ä¸»è¦åŸå› æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯mongoä½“éªŒè¿‡äº†ï¼›ä¸€ä¸ªæ˜¯ç°åœ¨ä¸šç•Œå…¶å®mySqlè¿˜æ˜¯å ç»å¤§å¤šæ•°ï¼Œè€Œä¸”æ¯”è¾ƒæˆç†Ÿï¼Œæƒ³ä½“éªŒä¸€æ³¢å…³ç³»å‹æ•°æ®åº“ã€‚</p><p>æœåŠ¡å™¨ï¼š<br>Nginx: æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œå¯¹äºä¸€ä¸ªæ²¡æœ‰æŠ˜è…¾è¿‡çš„äººæ¥è¯´è¿˜æ˜¯æŒºå¼€å¿ƒçš„<br>Centos</p><p>çœ‹èµ·æ¥æ˜¯æŒºç®€å•çš„ï¼Œä½†æ˜¯å¯¹äºä¸ªäººå­¦ä¹ æ¥è¯´æ˜¯ä¸ªæŒºå¥½çš„é¡¹ç›®ã€‚ç‰¹åˆ«æ˜¯ä¸€ä¸ªå®Œå…¨æ²¡æœ‰çœŸæ­£æ£é¼“è¿‡åç«¯ï¼ŒæœåŠ¡ç«¯çš„äººæ¥è¯´ï¼ŒçœŸçš„å¾ˆhappyï¼Œæ¯”å•çº¯å†™å‰ç«¯è¦è€ƒè™‘çš„äº‹æƒ…å¤šå¾ˆå¤šã€‚</p><p>ä½†æ˜¯æœ€è¿‘å› ä¸ºå·¥ä½œçš„äº‹æƒ…ï¼Œæš‚æ—¶æç½®ä¸€è¾¹ï¼Œç›®å‰è¿˜æ˜¯ 0.0.1 å¯ä»¥ç”¨æœ€ç®€å•çš„è®¡åˆ’çš„åŠŸèƒ½ã€‚åé¢æ‹†åŒ…å®Œæˆä¹‹åå°±å›æ¥åŠ åŠŸèƒ½å†å‘å¸ƒ</p><h3 id="å›¾ç‰‡è½¬å­—ç¬¦"><a href="#å›¾ç‰‡è½¬å­—ç¬¦" class="headerlink" title="å›¾ç‰‡è½¬å­—ç¬¦"></a>å›¾ç‰‡è½¬å­—ç¬¦</h3><p>å‰å‡ å¤©æœ‰é«˜ä¸­å¥½æœ‹å‹åœ¨ç¾¤é‡Œå‘ä¸€ä¸ªè§†é¢‘ï¼Œé—®æˆ‘ä»¬è¯´çœŸçš„æ˜¯å¯ä»¥è¿™æ ·çš„å—ï¼Ÿ</p><video src="./a.mp4" controls></video><br>åŸè§†é¢‘æ˜¯æ­»è‚¥å®…éƒ½çŸ¥é“çš„æä¹å‡€åœŸï¼Œç„¶åæˆ‘è§‰å¾—å¾ˆæœ‰è¶£ï¼Œå°±é—®å…¬å¸ç¾¤è¿™ç§æ€ä¹ˆå®ç°ï¼Œå¤§æ¦‚æ˜¯å›¾ç‰‡è½¬å­—ç¬¦ä¸²<br><br>äºæ˜¯å°±å»æœäº†ä¸€ä¸‹ canvas è½¬å­—ç¬¦ä¸²ï¼Œå†æ‰¾äº†ä¸‹æ€ä¹ˆæŠŠè§†é¢‘è½¬å›¾ç‰‡ ğŸ¤¦â€æ²¡é”™ï¼Œæˆ‘å°±æ˜¯å¤§è‡ªç„¶çš„æ¬è¿å·¥<br><br>æœ€åå®ç°å‡ºæ¥å¤§æ¦‚æ˜¯è¿™æ ·å­<br><video src="./b.mp4" width="300" controls></video><p>å¤§æ¦‚çš„å®ç°æ€è·¯æ˜¯ é€šè¿‡videoå’ŒcanvasæŠŠè§†é¢‘é€å¸§ä¸¢åˆ°canvasé‡Œé¢ï¼Œå†ç”¨canvasè¯»å‡ºæ¯ä¸ªåƒç´ çš„ç°åº¦å»åŒ¹é…ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åç”¨è¿™äº›å­—ç¬¦ä¸²é‡å†™ä¸€ä¸ªcanvaså‡ºæ¥ã€‚</p><p>åé¢æœ‰æ—¶é—´å†æŠŠè¿™ä¸ªæ•´ç†æˆä¸€ç¯‡æ–‡ç« å‡ºæ¥</p><h2 id="å…³äºå­¦ä¹ "><a href="#å…³äºå­¦ä¹ " class="headerlink" title="å…³äºå­¦ä¹ "></a>å…³äºå­¦ä¹ </h2><p>æœ€è¿‘æ˜¯æœ‰ç‚¹æ‡’æƒ°äº†ï¼Œä¸“å‡æœ¬ä¸€ç›´çœ‹ç¦»æ•£æ•°å­¦ï¼ŒåŸæœ¬é¢„è®¡7æœˆä»½è¦çœ‹å®Œé¡ºè·¯åšä¸€å¥—é¢˜ï¼Œç°åœ¨æ€•æ˜¯è¦å»¶è¿Ÿä¸€ä¸ªæ˜ŸæœŸæœ€å°‘ã€‚<br>çœ‹å®Œè¿˜æœ‰ä¸‡æ¶çš„ç½‘ç»œåŸç†å’Œæ•°æ®åº“åŸç†â€¦</p><p>åŠ æ²¹ğŸ’ª</p><p>æœ€åé™„ä¸Šå‘¨æœ«å›¢å»ºçš„å›¾<br><img src="./c.jpg" width="400"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä¸Šä¸€ç¯‡æ–‡å·²ç»æ˜¯ä¸€ä¸ªæœˆå‰çš„ï¼Œè¿˜æ˜¯æ”¹ä¸äº†æ‡’çš„ä¹ æƒ¯&lt;/p&gt;
&lt;p&gt;ä¹ æƒ¯æ€§å¯¹æœ€è¿‘åšä¸€äº›æ€»ç»“ï¼Œå…³äºé¢è¯•ï¼Œå…³äºå·¥ä½œä¸Šï¼Œå…³äºæœ€è¿‘å­¦ä¹ çš„ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å…³äºé¢è¯•&quot;&gt;&lt;a href=&quot;#å…³äºé¢è¯•&quot; class=&quot;headerlink&quot; title=&quot;å…³äºé¢è¯•&quot;&gt;&lt;/a&gt;å…³äºé¢
      
    
    </summary>
    
      <category term="blog" scheme="https://jsonz1993.github.io/categories/blog/"/>
    
    
      <category term="blog" scheme="https://jsonz1993.github.io/tags/blog/"/>
    
  </entry>
  
  <entry>
    <title>window.printâ€”â€”å…³äºæµè§ˆå™¨æ‰“å°</title>
    <link href="https://jsonz1993.github.io/2018/06/window-print%E2%80%94%E2%80%94%E5%85%B3%E4%BA%8E%E6%B5%8F%E8%A7%88%E5%99%A8%E6%89%93%E5%8D%B0/"/>
    <id>https://jsonz1993.github.io/2018/06/window-printâ€”â€”å…³äºæµè§ˆå™¨æ‰“å°/</id>
    <published>2018-06-28T15:26:14.000Z</published>
    <updated>2019-12-21T04:37:05.096Z</updated>
    
    <content type="html"><![CDATA[<p>è¿‘æ—¥æœ‰ä¸ªéœ€æ±‚æ˜¯åšé¡µé¢æ‰“å°çš„ï¼Œè¶è¿™ä¸ªæœºä¼šè¡¥ä¸€ä¸‹æ¯”è¾ƒå†·é—¨çš„æµè§ˆå™¨æ‰“å°çŸ¥è¯†ã€‚æœ¬æ–‡ä¸»è¦è®¨è®º Chromeã€Safariã€Firefoxæµè§ˆå™¨çš„æƒ…å†µã€‚</p><h2 id="æ‰“å°æ¥å£"><a href="#æ‰“å°æ¥å£" class="headerlink" title="æ‰“å°æ¥å£"></a>æ‰“å°æ¥å£</h2><p>é¦–å…ˆæµè§ˆå™¨æ‰“å°æ˜¯ä¸€ä¸ªå¾ˆæˆç†Ÿçš„åº”ç”¨~ è‡³å°‘æ˜¯å¾ˆæ—©å°±å·²ç»æœ‰åº”ç”¨çš„åŠŸèƒ½ï¼Œæ‰€ä»¥ä¸ä¼šæœ‰ä»€ä¹ˆå…¼å®¹é—®é¢˜</p><p>æœ€ç®€å•çš„æ‰“å°å°±æ˜¯ç›´æ¥è°ƒç”¨ <code>window.print()</code>ï¼Œå½“ç„¶ç”¨ <code>document.execCommand(&#39;print&#39;)</code> ä¹Ÿå¯ä»¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœã€‚</p><p>è¿™æ—¶å€™åœ¨Safariå’ŒChromeéƒ½ä¼šå¼¹èµ·æ‰“å°é¢„è§ˆçš„çª—å£,FireFoxæ²¡æœ‰é¢„è§ˆè€Œæ˜¯ç›´æ¥è®©ä½ é€‰æ‹©æ‰“å°æœºï¼ŒOSxä¸‹å¯ä»¥é€šè¿‡é¢„è§ˆPDFæ¥é¢„è§ˆ~</p><p>ä¸€èˆ¬è¿™ç§ç›´æ¥åœ¨ç½‘é¡µä¸Šè°ƒç”¨ print çš„æ–¹æ³•æ˜¯æ²¡åŠæ³•æ»¡è¶³æˆ‘ä»¬çš„ä¸šåŠ¡éœ€æ±‚ï¼Œæ¯”å¦‚è¯´ï¼š</p><ul><li>è°ƒæ•´å¸ƒå±€å’Œå­—ä½“å¤§å°æ¥é€‚åº”A4çº¸</li><li>æ‰“å°çš„æ—¶å€™ç”¨ä¸åŒçš„æ ·å¼é£æ ¼</li><li>ä½¿ç”¨æ›´é«˜æ¸…çš„å›¾ç‰‡æ¥æ‰“å°</li><li>æŸä¸€äº›ä¸ç›¸å…³çš„ä¸œè¥¿ä¸å‡ºç°åœ¨æ‰“å°ä¸­ç­‰ç­‰ç­‰ç­‰</li></ul><p>é‚£ä¹ˆæœ‰å“ªäº›æ–¹æ³•å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ”¹å–„æ‰“å°çš„ç”¨æˆ·ä½“éªŒå‘¢ï¼Ÿ</p><h2 id="ä½¿ç”¨-print-style-sheet-æ‰“å°æ ·å¼è¡¨"><a href="#ä½¿ç”¨-print-style-sheet-æ‰“å°æ ·å¼è¡¨" class="headerlink" title="ä½¿ç”¨ print style sheet (æ‰“å°æ ·å¼è¡¨)"></a>ä½¿ç”¨ print style sheet (æ‰“å°æ ·å¼è¡¨)</h2><p>æˆ‘ä»¬å¯ä»¥åœ¨ link ä¸ŠåŠ ä¸Šä¸€ä¸ª media=â€printâ€ æ¥æ ‡è¯†è¿™æ˜¯æ‰“å°æœºæ‰ä¼šåº”ç”¨çš„æ ·å¼è¡¨, å¦‚:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"/example.css"</span> <span class="attr">media</span>=<span class="string">"print"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·æ‰“å°çš„æ—¶å€™ï¼Œå°±ä¼šé»˜è®¤å°†è¯¥æ ·å¼è¡¨åº”ç”¨åˆ°æ–‡æ¡£ä¸­</p><h2 id="ä½¿ç”¨åª’ä»‹æŸ¥è¯¢"><a href="#ä½¿ç”¨åª’ä»‹æŸ¥è¯¢" class="headerlink" title="ä½¿ç”¨åª’ä»‹æŸ¥è¯¢"></a>ä½¿ç”¨åª’ä»‹æŸ¥è¯¢</h2><p>å…¼å®¹æ€§: IE9+ å…¶ä»–ä¸»æµæµè§ˆå™¨éƒ½æ”¯æŒ<br>å½“æˆ‘ä»¬è¦ä¿®æ”¹çš„æ ·å¼æ²¡æœ‰é‚£ä¹ˆå¤šçš„æ—¶å€™ï¼Œå…¶å®å®Œå…¨ä¸éœ€è¦é‡æ–°å†™ä¸ªæ ·å¼è¡¨ï¼Œåªè¦å†™ä¸Šä¸€ä¸ªåª’ä»‹æŸ¥è¯¢ä¹Ÿå¯ä»¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼Œå¦‚:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">media</span> print &#123;</span><br><span class="line">  <span class="selector-tag">h1</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äº‹ä»¶ç›‘å¬"><a href="#äº‹ä»¶ç›‘å¬" class="headerlink" title="äº‹ä»¶ç›‘å¬"></a>äº‹ä»¶ç›‘å¬</h2><h3 id="beforeprint-amp-amp-afterprint"><a href="#beforeprint-amp-amp-afterprint" class="headerlink" title="beforeprint &amp;&amp; afterprint"></a>beforeprint &amp;&amp; afterprint</h3><p>æœ‰ä¸¤ä¸ªäº‹ä»¶å¯ä»¥ç›‘å¬åˆ°åˆ°æ‰“å°äº‹ä»¶ï¼Œä¸€ä¸ªæ˜¯<code>beforeprint</code>,ä¸€ä¸ªæ˜¯<code>afterprint</code>ï¼Œåˆ†åˆ«è¡¨ç¤ºæ‰“å°äº‹ä»¶è§¦å‘å‰åã€‚<br>è¿™ä¸ªäº‹ä»¶åœ¨ IE6 å°±å·²ç»æ”¯æŒäº†ï¼Œä¸è¿‡ä¸€ç‚¹éƒ½ä¸æƒŠè®¶~ æ¯•ç«ŸIEå¾ˆæ—©å°±æ”¯æŒå¾ˆå¤šæ¥å£è°ƒç”¨ï¼Œä¹‹å‰å¥½åƒåšè¿‡IEæ‰“å¼€Excelçš„éœ€æ±‚~<br>å…¼å®¹å¤§æ¦‚æ˜¯ Firefoxã€IEå…¨æ”¯æŒ, Chrome63+æ”¯æŒ, Safariæš‚ä¸æ”¯æŒï¼Œç®—æ˜¯ä¸€åŠä¸€åŠå§ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'beforeprint'</span>, ()=&gt; &#123;</span><br><span class="line">  <span class="built_in">document</span>.body.innerHTML = <span class="string">'æ­£åœ¨æ‰“å°...'</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'afterprint'</span>, ()=&gt; &#123;</span><br><span class="line">  <span class="built_in">document</span>.body.innerHTML = <span class="string">'æ‰“å°å®Œæˆ...'</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><h3 id="window-matchMedia-æµ‹è¯•åª’ä½“æŸ¥è¯¢æ¥å£"><a href="#window-matchMedia-æµ‹è¯•åª’ä½“æŸ¥è¯¢æ¥å£" class="headerlink" title="window.matchMedia æµ‹è¯•åª’ä½“æŸ¥è¯¢æ¥å£"></a>window.matchMedia æµ‹è¯•åª’ä½“æŸ¥è¯¢æ¥å£</h3><p>å¦‚æœä½ æƒ³è¦å…¼å®¹Safariæˆ–è®¸å¯ä»¥è¯•ä¸€ä¸‹ <code>window.matchMedia</code><br>å…¼å®¹æ˜¯ IE10+ï¼Œå…¶ä»–ä¸»æµæµè§ˆå™¨å®Œå…¨æ²¡é—®é¢˜ã€‚</p><p>è¿™ä¸ªçš„ç”¨æ³•ç¨å¾®æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ªMediaQueryListå¯¹è±¡ï¼Œå†é€šè¿‡ä»–ç›‘å¬å˜åŒ–ï¼Œå¦‚:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> printMedia = <span class="built_in">window</span>.matchMedia(<span class="string">'print'</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printChange</span>(<span class="params">&#123; matches, &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">document</span>.body.innerHTML = matches? <span class="string">'æ­£åœ¨æ‰“å°...'</span>: <span class="string">'æ‰“å°å®Œæˆ/å–æ¶ˆ'</span>;</span><br><span class="line">&#125;</span><br><span class="line">printMedia.addListener(printChange);</span><br></pre></td></tr></table></figure></p><h2 id="æ›´åŠ ä¸ªæ€§åŒ–å®šåˆ¶æ‰“å°åŒºåŸŸ-æ‰“å°å†…å®¹"><a href="#æ›´åŠ ä¸ªæ€§åŒ–å®šåˆ¶æ‰“å°åŒºåŸŸ-æ‰“å°å†…å®¹" class="headerlink" title="æ›´åŠ ä¸ªæ€§åŒ–å®šåˆ¶æ‰“å°åŒºåŸŸ/æ‰“å°å†…å®¹"></a>æ›´åŠ ä¸ªæ€§åŒ–å®šåˆ¶æ‰“å°åŒºåŸŸ/æ‰“å°å†…å®¹</h2><p>å¦‚æœé¡¹ç›®ä¸Šç”¨çš„æ˜¯jqç­‰ï¼Œæˆ–è€…æƒ³ç®€å•ç²—æš´çš„æ‰“å°æŸä¸ªåŒºåŸŸåˆä¸æƒ³é‡æ–°å†™æ ·å¼è¡¨å•Šï¼Œä»€ä¹ˆçš„ã€‚<br>æœ€å‚»ç“œç‰ˆçš„æ–¹å¼å°±æ˜¯ç›´æ¥ç”¨jqæ’ä»¶ <a href="https://github.com/DoersGuild/jQuery.print" target="_blank" rel="noopener">jQuery.print</a></p><p>ä¹Ÿå¯ä»¥è‡ªå·±å†™ä¸€ä¸ªå»å¤„ç†ï¼Œå¤§æ¦‚çš„æ€è·¯æ˜¯åˆ›å»ºä¸€ä¸ªiframeï¼ŒæŠŠè¦æ‰“å°çš„domå’Œæ ·å¼è¡¨éƒ½ä¸¢è¿›å»ï¼Œå†è°ƒç”¨iframeçš„æ‰“å°äº‹ä»¶ã€‚ è¿™é‡Œå†™ä¸€ä¸ªç®€å•çš„ <a href="https://github.com/jsonz1993/wheel/blob/master/print-partial/index.js" target="_blank" rel="noopener">demo</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printPartial</span>(<span class="params">dom, &#123; title= document.title,&#125;= &#123;&#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!dom) <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">let</span> copyDom = <span class="built_in">document</span>.createElement(<span class="string">'span'</span>);</span><br><span class="line">  <span class="keyword">const</span> styleDom = <span class="built_in">document</span>.querySelectorAll(<span class="string">'style, link, meta'</span>);</span><br><span class="line">  <span class="keyword">const</span> titleDom = <span class="built_in">document</span>.createElement(<span class="string">'title'</span>);</span><br><span class="line">  titleDom.innerText = title;</span><br><span class="line"></span><br><span class="line">  copyDom.appendChild(titleDom);</span><br><span class="line">  <span class="built_in">Array</span>.from(styleDom).forEach(<span class="function"><span class="params">item</span>=&gt;</span> &#123;</span><br><span class="line">    copyDom.appendChild(item.cloneNode(<span class="literal">true</span>));</span><br><span class="line">  &#125;);</span><br><span class="line">  copyDom.appendChild(dom.cloneNode(<span class="literal">true</span>));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> htmlTemp = copyDom.innerHTML;</span><br><span class="line">  copyDom = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> iframeDom = <span class="built_in">document</span>.createElement(<span class="string">'iframe'</span>);</span><br><span class="line">  <span class="keyword">const</span> attrObj = &#123;</span><br><span class="line">    height: <span class="number">0</span>,</span><br><span class="line">    width: <span class="number">0</span>,</span><br><span class="line">    border: <span class="number">0</span>,</span><br><span class="line">    wmode: <span class="string">'Opaque'</span></span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">const</span> styleObj = &#123;</span><br><span class="line">    position: <span class="string">'absolute'</span>,</span><br><span class="line">    top: <span class="string">'-999px'</span>,</span><br><span class="line">    left: <span class="string">'-999px'</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="built_in">Object</span>.entries(attrObj).forEach(<span class="function">(<span class="params">[key, value]</span>)=&gt;</span> iframeDom.setAttribute(key, value));</span><br><span class="line">  <span class="built_in">Object</span>.entries(styleObj).forEach(<span class="function">(<span class="params">[key, value]</span>)=&gt;</span> iframeDom.style[key] = value);</span><br><span class="line">  <span class="built_in">document</span>.body.insertBefore(iframeDom, <span class="built_in">document</span>.body.children[<span class="number">0</span>]);</span><br><span class="line">  <span class="keyword">const</span> iframeWin = iframeDom.contentWindow;</span><br><span class="line">  <span class="keyword">const</span> iframeDocs = iframeWin.document;</span><br><span class="line">  iframeDocs.write(<span class="string">`&lt;!doctype html&gt;`</span>);</span><br><span class="line">  iframeDocs.write(htmlTemp);</span><br><span class="line">  iframeWin.focus();</span><br><span class="line">  iframeWin.print();</span><br><span class="line">  <span class="built_in">document</span>.body.removeChild(iframeDom);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">printPartial(<span class="built_in">document</span>.querySelector(<span class="string">'#description'</span>));</span><br></pre></td></tr></table></figure><p>æœ€åä¸€äº›æ³¨æ„çš„äº‹æƒ…</p><ul><li>æ‰“å°ä¼šæ‰“å°documentä¸‹æ‰€æœ‰å¯è§å…ƒç´ ï¼Œ åŒ…æ‹¬ <code>&lt;header&gt;</code> é‡Œé¢çš„</li><li>èƒŒæ™¯éƒ½ä¸ä¼šè¢«æ‰“å°å‡ºæ¥ï¼ŒåŒ…æ‹¬èƒŒæ™¯è‰²å•ŠèƒŒæ™¯å›¾ç‰‡å•Šç­‰ç­‰</li><li>å¦‚æœå›¾ç‰‡æ˜¯æ‡’åŠ è½½çš„ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œä¸ç„¶æ‰“å°çš„æ—¶å€™ä¼šç›´æ¥ç©ºç™½</li></ul><p>å‚è€ƒ:<br><a href="https://blog.csdn.net/fengshuiyue/article/details/57483057" target="_blank" rel="noopener">https://blog.csdn.net/fengshuiyue/article/details/57483057</a><br><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/print" target="_blank" rel="noopener">Mozilla print</a><br><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/Printing#Using_a_print_style_sheet" target="_blank" rel="noopener">Mozilla Using_a_print_style_sheet</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¿‘æ—¥æœ‰ä¸ªéœ€æ±‚æ˜¯åšé¡µé¢æ‰“å°çš„ï¼Œè¶è¿™ä¸ªæœºä¼šè¡¥ä¸€ä¸‹æ¯”è¾ƒå†·é—¨çš„æµè§ˆå™¨æ‰“å°çŸ¥è¯†ã€‚æœ¬æ–‡ä¸»è¦è®¨è®º Chromeã€Safariã€Firefoxæµè§ˆå™¨çš„æƒ…å†µã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ‰“å°æ¥å£&quot;&gt;&lt;a href=&quot;#æ‰“å°æ¥å£&quot; class=&quot;headerlink&quot; title=&quot;æ‰“å°æ¥å£&quot;&gt;
      
    
    </summary>
    
      <category term="technology" scheme="https://jsonz1993.github.io/categories/technology/"/>
    
    
      <category term="github" scheme="https://jsonz1993.github.io/tags/github/"/>
    
      <category term="work" scheme="https://jsonz1993.github.io/tags/work/"/>
    
  </entry>
  
  <entry>
    <title>HTTPå¸¸ç”¨çŸ¥è¯†ç‚¹æ€»ç»“</title>
    <link href="https://jsonz1993.github.io/2018/05/http-mini-book/"/>
    <id>https://jsonz1993.github.io/2018/05/http-mini-book/</id>
    <published>2018-05-23T12:17:42.000Z</published>
    <updated>2019-12-21T04:37:05.096Z</updated>
    
    <content type="html"><![CDATA[<p>åŒæ ·æ˜¯å› ä¸ºé¢è¯•çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°è‡ªå·±å¯¹httpçš„ä¸€äº›æ¦‚å¿µå’ŒçŸ¥è¯†ç‚¹å’Œé›¶ç¢ï¼Œå€Ÿæ­¤æœºä¼šçœ‹äº†ã€ŠHTTPå°ä¹¦ã€‹ï¼Œé¡ºæ‰‹å†™äº†ç¯‡è®°å½•æ€»ç»“ä¸€äº›å¸¸è§çš„httpçŸ¥è¯†ç‚¹ã€‚</p><h1 id="http-ç®€ä»‹"><a href="#http-ç®€ä»‹" class="headerlink" title="http ç®€ä»‹"></a>http ç®€ä»‹</h1><p>è¯·æ±‚:<br>å®¢æˆ·ç«¯è½¯ä»¶æ‰“å¼€åˆ°æœåŠ¡å™¨çš„è¿æ¥ï¼Œå‘èµ·è¯·æ±‚å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">GET /hello.htm HTTP/1.1</span><br><span class="line">User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36</span><br><span class="line">Host: example.com</span><br><span class="line">Accept-Language: en-us</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br></pre></td></tr></table></figure></p><p>å“åº”:<br>æœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚æ¶ˆæ¯åæ ¹æ®èµ„æºå®šä½ç¬¦åœ¨æœåŠ¡å™¨æ‰¾åˆ°è¯¥èµ„æºï¼Œå¹¶å“åº”ç»™å®¢æˆ·ç«¯:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">X-Powered-By: Express</span><br><span class="line">Content-Type: text/html; charset=utf-8</span><br><span class="line">Content-Length: 22</span><br><span class="line">ETag: W/&quot;16-dDTk/xb5lvRNBfrz6lE//HVBox8&quot;</span><br><span class="line">Date: Tue, 22 May 2018 03:04:08 GMT</span><br><span class="line">Connection: keep-alive</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;Hello, Jsonz!&lt;/h1&gt;</span><br></pre></td></tr></table></figure></p><h2 id="è¯·æ±‚æ¶ˆæ¯"><a href="#è¯·æ±‚æ¶ˆæ¯" class="headerlink" title="è¯·æ±‚æ¶ˆæ¯"></a>è¯·æ±‚æ¶ˆæ¯</h2><p>è¯·æ±‚ä¿¡æ¯ä¸€èˆ¬ç”±è¯·æ±‚è¡Œã€å¤´éƒ¨å­—æ®µåŒºã€CRLFä¸æ¶ˆæ¯ä¸»ä½“ï¼ˆå¯é€‰ï¼‰ç»„æˆ</p><h3 id="è¯·æ±‚è¡Œ"><a href="#è¯·æ±‚è¡Œ" class="headerlink" title="è¯·æ±‚è¡Œ"></a>è¯·æ±‚è¡Œ</h3><p>è¯·æ±‚æ¶ˆæ¯çš„ç¬¬ä¸€è¡Œç§°ä¸ºè¯·æ±‚è¡Œï¼Œä¸€èˆ¬åŒ…æ‹¬ <code>è¯·æ±‚æ–¹æ³•</code>ï¼Œ <code>è¯·æ±‚èµ„æºæ ‡è¯†ç¬¦</code> è¿˜æœ‰è¯·æ±‚çš„<code>åè®®ç‰ˆæœ¬</code></p><blockquote><p>Request-List = Method SPACE Request-URI SPACE HTTP-Version CRLF</p></blockquote><p>è¯·æ±‚æ–¹æ³•æ¯”è¾ƒå¸¸ç”¨çš„æœ‰ <code>GET</code>, <code>POST</code>ã€‚ è¿™é‡Œç”¨çš„æ˜¯<code>GET</code> å‘èµ·ä¸€ä¸ªè¯·æ±‚è·å–èµ„æº</p><ul><li>GET è¯·æ±‚ä¸€ä¸ªåˆ¶å®šåç§°çš„èµ„æº</li><li>POST åˆ›å»ºä¸€ä¸ªæ–°çš„å­èµ„æºï¼Œæˆ–è€…æ›´æ–°ä¸€ä¸ªå­˜åœ¨çš„èµ„æº</li><li>PUT æŒ‡å®šçš„URLä¸å­˜åœ¨åˆ™åˆ›å»ºï¼Œå­˜åœ¨åˆ™ä¿®æ”¹</li><li>DELETE åˆ é™¤æŒ‡å®šèµ„æº</li><li>OPTIONS è¿”å›æœåŠ¡å™¨æ”¯æŒçš„æ–¹æ³•</li><li>CONNECTã€TRACE</li></ul><blockquote><p>å¯¹äº POST å’Œ PUTçš„é€‰æ‹©ï¼Œä½œè€…ç»™å‡ºçš„ä¾‹å­æ˜¯åˆ›å»ºè®¢å•<br>PUT /other/1 åˆ›å»ºå•å·ä¸º1çš„è®¢å•ï¼Œå¦‚æœå­˜åœ¨å°±æ›´æ–°ä»–ï¼Œè®¢å•å·ç”±å®¢æˆ·ç«¯æä¾›<br>POST /other åˆ›å»ºè®¢å•ï¼Œè®¢å•å·ç”±æœåŠ¡ç«¯æä¾›<br>POST /other/1 æ›´æ–°è®¢å•ï¼Œå¦‚æœä¸å­˜åœ¨åº”è¯¥æŠ›é”™<br>é‡å¤æ‰§è¡ŒPUTè¯·æ±‚ä¸ä¼šå½±å“æœåŠ¡å™¨çŠ¶æ€ï¼Œè€ŒPOSTåˆ™ä¼šå¯¼è‡´åˆ›å»ºä¸¤ä¸ªè®¢å•</p></blockquote><p>ä½†æ˜¯å·¥ä½œä¸­ï¼Œå‡ ä¹åªç”¨è¿‡GETå’ŒPOSTï¼Œå¯¹äºåˆ›å»ºè®¢å•çš„ä¾‹å­ä¸­ï¼ŒPUTå’ŒPOSTçš„åŒºåˆ«æˆ‘çš„ç†è§£æ¯”è¾ƒæµ…æ˜¾ï¼Œä¸€ä¸ªæ˜¯å®¢æˆ·ç«¯/æœåŠ¡ç«¯æä¾›è®¢å•å·ï¼Œä¸€ä¸ªæ˜¯è¯­ä¹‰åŒ–ã€‚</p><h3 id="å¤´éƒ¨å­—æ®µ"><a href="#å¤´éƒ¨å­—æ®µ" class="headerlink" title="å¤´éƒ¨å­—æ®µ"></a>å¤´éƒ¨å­—æ®µ</h3><p>ä»ç¬¬äºŒè¡Œåˆ°ç©ºè¡Œä¹‹é—´éƒ½å±äºå¤´éƒ¨å­—æ®µåŒºï¼Œç”¨æ¥ä¼ é€’æ›´å¤šè¯¦ç»†çš„ä¿¡æ¯ï¼Œè¿™ä¸ªæ¡ˆä¾‹é‡Œé¢æ˜¯<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36</span><br><span class="line">Host: example.com</span><br><span class="line">Accept-Language: en-us</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br></pre></td></tr></table></figure></p><p>æ¯”å¦‚è¯´è¿™é‡Œ:<br><code>User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36</code> æˆ‘ä»¬å¯ä»¥çŸ¥é“å®¢æˆ·ç«¯ç”¨çš„æ˜¯ Mac OSxç³»ç»Ÿï¼ŒChrome v66.0.xç‰ˆæœ¬çš„æµè§ˆå™¨<br><code>Accept-Language: en-us</code> è¯­è¨€æ˜¯è‹±è¯­<br><code>Accept-Encoding: gzip, deflate</code> æ”¯æŒçš„å‹ç¼©ç¼–ç ä¸ºgzipå’Œdeflate</p><h3 id="ç©ºè¡Œ-CRLF"><a href="#ç©ºè¡Œ-CRLF" class="headerlink" title="ç©ºè¡Œ(CRLF)"></a>ç©ºè¡Œ(CRLF)</h3><p>ç©ºè¡Œä¹Ÿå«CRLFï¼Œæ˜¯éš”å¼€è¯·æ±‚å¤´ä¸è¯·æ±‚ä¸»ä½“çš„</p><h3 id="æ¶ˆæ¯ä¸»ä½“"><a href="#æ¶ˆæ¯ä¸»ä½“" class="headerlink" title="æ¶ˆæ¯ä¸»ä½“"></a>æ¶ˆæ¯ä¸»ä½“</h3><p>å‘é€ç»™æœåŠ¡ç«¯çš„æ¶ˆæ¯ï¼Œæ¯”å¦‚ç”¨POSTæ–¹æ³•æäº¤è¡¨å•æ—¶ï¼Œè¡¨å•çš„å†…å®¹å°±æ˜¯å­˜åœ¨æ¶ˆæ¯ä¸»ä½“é‡Œé¢ã€‚å¦‚æœæ˜¯ç”¨GETæ–¹æ³•å°±ä¼šä¸¢åˆ°è¯·æ±‚URLé‡Œ</p><h2 id="å“åº”ä¿¡æ¯"><a href="#å“åº”ä¿¡æ¯" class="headerlink" title="å“åº”ä¿¡æ¯"></a>å“åº”ä¿¡æ¯</h2><p>å“åº”ä¿¡æ¯å’Œè¯·æ±‚ä¿¡æ¯çš„ç»„æˆç»“æ„ç›¸ä¼¼ï¼Œç”±çŠ¶æ€è¡Œã€å¤´éƒ¨å­—æ®µè¡Œã€ç©ºè¡Œï¼ˆCRLFï¼‰å’Œæ¶ˆæ¯ä¸»ä½“æ„æˆã€‚</p><h3 id="çŠ¶æ€è¡Œ"><a href="#çŠ¶æ€è¡Œ" class="headerlink" title="çŠ¶æ€è¡Œ"></a>çŠ¶æ€è¡Œ</h3><p><code>HTTP/1.1 200 OK</code></p><p>è¯·æ±‚è¡Œä¸€èˆ¬ç”± <code>åè®®ç‰ˆæœ¬å·</code>ã€<code>çŠ¶æ€ç </code>ä¸<code>çŠ¶æ€ç æè¿°</code>ç»„æˆã€‚</p><p>åè®®ç‰ˆæœ¬å·æœ‰: 0.9ã€1.0ã€1.1ã€2.0ç­‰ï¼Œç›®å‰æ¯”è¾ƒæµè¡Œçš„æ˜¯2.0ä¸1.1</p><p>çŠ¶æ€ç æœ‰ä»¥ä¸‹å‡ ç§ç±»å‹ï¼ŒçŠ¶æ€ç å’Œå‰ç«¯å¼€å‘ä¼šæ¯”è¾ƒç›¸å…³ä¸€ç‚¹ï¼Œæ›´å…·ä½“çš„ä»‹ç»åé¢ä¼šè¯¦ç»†è¯´</p><ul><li>1xx ä¿¡æ¯æç¤º</li><li>2xx æˆåŠŸ</li><li>3xx é‡å®šå‘</li><li>4xx å®¢æˆ·ç«¯é”™è¯¯</li><li>5xx æœåŠ¡ç«¯é”™è¯¯</li></ul><h3 id="å¤´éƒ¨å­—æ®µ-1"><a href="#å¤´éƒ¨å­—æ®µ-1" class="headerlink" title="å¤´éƒ¨å­—æ®µ"></a>å¤´éƒ¨å­—æ®µ</h3><p>çŠ¶æ€è¡Œä¸ç©ºè¡Œä¹‹é—´å°±æ˜¯å“åº”å¤´éƒ¨å­—æ®µäº†ï¼Œ å“åº”å¤´æ¯”è¯·æ±‚å¤´åŠŸèƒ½ç›¸å¯¹æ¥è¯´å¤šä¸€ç‚¹ï¼Œæ¯”å¦‚åé¢ä¼šè¯´åˆ°çš„<code>Set-Cookie</code>ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">X-Powered-By: Express</span><br><span class="line">Content-Type: text/html; charset=utf-8</span><br><span class="line">Content-Length: 22</span><br><span class="line">ETag: W/&quot;16-dDTk/xb5lvRNBfrz6lE//HVBox8&quot;</span><br><span class="line">Date: Tue, 22 May 2018 03:04:08 GMT</span><br><span class="line">Connection: keep-alive</span><br></pre></td></tr></table></figure></p><p>å“åº”å¤´åŒ…æ‹¬ä¸€äº›æœåŠ¡æœ¬èº«çš„ä¿¡æ¯ä»¥åŠå“åº”å†…å®¹ä½“çš„ä¿¡æ¯ï¼Œæ¯”å¦‚è¿™é‡Œçš„<br><code>Date: Tue, 22 May 2018 03:04:08 GMT</code> æ˜¯å“åº”çš„æ—¶é—´<br><code>Content-Length: 22</code>æ˜¯è¿”å›çš„æ¶ˆæ¯ä½“é•¿åº¦ã€‚</p><h3 id="ç©ºè¡Œ-CRLF-1"><a href="#ç©ºè¡Œ-CRLF-1" class="headerlink" title="ç©ºè¡Œ(CRLF)"></a>ç©ºè¡Œ(CRLF)</h3><p>å’Œè¯·æ±‚çš„CRLFæ˜¯ä¸€æ ·çš„ï¼Œç”¨æ¥éš”å¼€å“åº”å¤´å’Œå“åº”å†…å®¹ä¸»ä½“</p><h3 id="å“åº”æ¶ˆæ¯ä¸»ä½“"><a href="#å“åº”æ¶ˆæ¯ä¸»ä½“" class="headerlink" title="å“åº”æ¶ˆæ¯ä¸»ä½“"></a>å“åº”æ¶ˆæ¯ä¸»ä½“</h3><p>åœ¨æˆ‘ä»¬è¿™ä¸ªä¾‹å­é‡Œé¢æ˜¯ä¸€å¥å¾ˆç®€å•çš„ <code>&lt;h1&gt;Hello, Jsonz!&lt;/h1&gt;</code>ï¼Œè¿™é‡Œå“åº”ä¸»ä½“æœ‰å¾ˆå¤šç§æ ¼å¼ï¼Œå¦‚æœæ˜¯gifçš„è¯ä¼šè¿”å›gifçš„äºŒè¿›åˆ¶å­—èŠ‚é›†åˆ</p><h1 id="è¯·æ±‚"><a href="#è¯·æ±‚" class="headerlink" title="è¯·æ±‚"></a>è¯·æ±‚</h1><p>è¯·æ±‚çš„ç»“æ„ç»„æˆRequest:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Request-Line CRLF</span><br><span class="line">*Request-HEAD CRLF</span><br><span class="line">CRLF</span><br><span class="line">[ message-body ]</span><br></pre></td></tr></table></figure></p><blockquote><p>Request-Line =&gt; Request-List = Method SPACE Request-URI SPACE HTTP-Version CRLF<br>è¿™é‡Œæˆ‘ä»¬ä¸»è¦Request-Methodséƒ¨åˆ†</p></blockquote><h2 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h2><p>GET æ–¹æ³•ä¸€èˆ¬æ˜¯ç”¨æ¥è·å–URLæŒ‡å®šçš„èµ„æº</p><h3 id="å¯ä»¥é…åˆ-Range-æ¥è·å–å±€éƒ¨èµ„æºã€‚"><a href="#å¯ä»¥é…åˆ-Range-æ¥è·å–å±€éƒ¨èµ„æºã€‚" class="headerlink" title="å¯ä»¥é…åˆ Range æ¥è·å–å±€éƒ¨èµ„æºã€‚"></a>å¯ä»¥é…åˆ <code>Range</code> æ¥è·å–å±€éƒ¨èµ„æºã€‚</h3><p>å‘èµ·è¯·æ±‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET /index.txt HTTP/1.1</span><br><span class="line">Range: bytes=0-4</span><br></pre></td></tr></table></figure></p><p>æœåŠ¡ç«¯å“åº”<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 206 Partial Content</span><br><span class="line">Content-Type: text/html</span><br><span class="line">Content-Range: bytes 0-5/12</span><br><span class="line">Content-Length: 5</span><br><span class="line">hello</span><br></pre></td></tr></table></figure></p><p>åœ¨ä¸€äº›è§†é¢‘çš„åœºæ™¯ï¼Œæ¯”å¦‚ç”¨æˆ·ç‚¹å‡»åˆ°æŸä¸ªè¿›åº¦ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä»è¯¥è¿›åº¦å»è¯·æ±‚ï¼Œè€Œä¸æ˜¯æ•´ä¸€ä¸ªè§†é¢‘éƒ½è¯·æ±‚ä¸‹æ¥ã€‚<br>å“åº”å¤´çš„<code>Content-Range: bytes 0-5/12</code>æŒ‡çš„æ˜¯å½“å‰è¿”å›0-5ï¼Œæ€»é•¿ä¸º12ã€‚</p><h3 id="é…åˆ-ETag-åšç¼“å­˜"><a href="#é…åˆ-ETag-åšç¼“å­˜" class="headerlink" title="é…åˆ ETag åšç¼“å­˜"></a>é…åˆ ETag åšç¼“å­˜</h3><p>æœåŠ¡ç«¯åœ¨å“åº”å¤´é‡Œé¢ä¼šç»™ä¸€ä¸ª<code>ETag</code>æ ‡è¯†ï¼Œè¿™ä¸ªæ ‡è¯†æˆ‘ä»¬åœ¨å¼€å¤´çš„æ—¶å€™æœ‰è¯´äº†æ˜¯æ–‡ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚<br>é‚£ä¹ˆæˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥è¿™ä¹ˆåšï¼Œåœ¨GETè¯·æ±‚æ—¶ä½¿ç”¨æ¡ä»¶è·å–å¤´éƒ¨å­—æ®µï¼Œå¦‚æœæœåŠ¡ç«¯å‘ç°è¿™ä¸ªå­—æ®µä¸æ–‡ä»¶çš„ETagæ ‡è¯†åŒ¹é…ï¼Œåˆ™å¯ä»¥åšç¼“å­˜ï¼Œå¦åˆ™å‘é€æ–°çš„æ–‡æ¡£è¿‡æ¥ã€‚</p><p>å‘èµ·è¯·æ±‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET /hello.htm HTTP/1.1</span><br><span class="line">If-None-Match:  W/&quot;16-dDTk/xb5lvRNBfrz6lE//HVBox8&quot;</span><br></pre></td></tr></table></figure></p><p>æœåŠ¡ç«¯å“åº”<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 304 Not Modified</span><br><span class="line">X-Powered-By: Express</span><br><span class="line">ETag: W/&quot;16-dDTk/xb5lvRNBfrz6lE//HVBox8&quot;</span><br><span class="line">Date: Tue, 22 May 2018 12:08:23 GMT</span><br><span class="line">Connection: keep-alive</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œæˆ‘ä»¬çš„ETagä¸æ–‡ä»¶åŒ¹é…ä¸Šäº†ï¼Œæ‰€ä»¥æœåŠ¡ç«¯ç›´æ¥å“åº” 304 çŠ¶æ€ç (Not Modified);</p><h2 id="HEAD"><a href="#HEAD" class="headerlink" title="HEAD"></a>HEAD</h2><p>HEADæ–¹æ³•å’ŒGETæ–¹æ³•çš„åŒºåˆ«æ˜¯ HEADæ–¹æ³•è¯·æ±‚ï¼Œå“åº”çš„æ—¶å€™å°±åªä¼šå‘é€å“åº”æ¶ˆæ¯çš„å¤´éƒ¨å­—æ®µï¼Œä¸ä¼šæŠŠå“åº”æ¶ˆæ¯ä¸»ä½“è¿”å›</p><p>é‚£ä¹ˆHEADçš„åœºæ™¯ä¸€èˆ¬åœ¨ä»€ä¹ˆåœ°æ–¹å‘¢ï¼Ÿ ä¸€èˆ¬å¯ç”¨äºå‘èµ·ä¸€ä¸ªè¯·æ±‚æ¥è·å–æœåŠ¡ç«¯çš„èµ„æºå¤§å°ï¼Œå†åˆ†æ®µè·å–ã€‚</p><h2 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h2><p>æˆ‘ä»¬å¹³æ—¶å¤§éƒ¨åˆ†åœºæ™¯ç”¨çš„éƒ½æ˜¯POSTæ–¹æ³•ï¼Œå› ä¸ºPOSTæ–¹æ³•ä¸ä¼šæŠŠå‚æ•°éƒ½ä¸¢åœ¨URLä¸Šï¼Œå¯¹è¯·æ±‚çš„æ•°æ®å¤§å°æ²¡æœ‰é™åˆ¶ï¼Œè¯·æ±‚ä¹Ÿä¸ä¼šç¼“å­˜ã€‚</p><h2 id="OPTIONS"><a href="#OPTIONS" class="headerlink" title="OPTIONS"></a>OPTIONS</h2><p>OPTIONSæ–¹æ³•ä¸»è¦æ˜¯ç”¨æ¥æŸ¥è¯¢URLæŒ‡å®šçš„èµ„æºæ‰€æ”¯æŒçš„æ–¹æ³•åˆ—è¡¨</p><p>å‘èµ·è¯·æ±‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OPTIONS /hello.htm HTTP/1.1</span><br></pre></td></tr></table></figure></p><p>æœåŠ¡ç«¯å“åº”<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">X-Powered-By: Express</span><br><span class="line">Allow: GET,HEAD</span><br><span class="line">Content-Type: text/html; charset=utf-8</span><br><span class="line">Content-Length: 8</span><br><span class="line">ETag: W/&quot;8-ZRAf8oNBS3Bjb/SU2GYZCmbtmXg&quot;</span><br><span class="line">Date: Tue, 22 May 2018 12:20:42 GMT</span><br><span class="line">Connection: keep-alive</span><br><span class="line"></span><br><span class="line">GET,HEAD%</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œåˆ—å‡ºäº†è¿™ä¸ªèµ„æºæ”¯æŒ GETä¸HEADæ–¹æ³•</p><h2 id="PUT"><a href="#PUT" class="headerlink" title="PUT"></a>PUT</h2><p>PUTæ–¹æ³•ä¸Šé¢è®²äº†æ˜¯ å¯¹URLæŒ‡å®šçš„èµ„æºè¿›è¡Œåˆ›å»ºï¼Œå¦‚æœå­˜åœ¨å°±ä¿®æ”¹ä»–ã€‚</p><p>ç†è®ºä¸Šè¿™ç§éœ€æ±‚ç›´æ¥ç”¨POSTæ–¹æ³•å°±å®Œå…¨å¤Ÿç”¨äº†ï¼Œæ¯”å¦‚åˆ›å»ºè®¢å•<code>POST /order/create</code><br>æ›´æ–°è®¢å• <code>POST /order/orderId</code></p><p>ä½†æ˜¯è¿™é‡Œå¦‚æœæ”¹æˆPUTåˆ›å»ºçš„è¯ï¼Œå¯ä»¥ç›´æ¥è¿™æ · <code>PUT /order</code> æ›´ç¬¦åˆRestful APIè§„èŒƒï¼Œå¦‚æœæ¢æˆå‰ç«¯çš„å±‚é¢æ¥è¯´ï¼Œå°±åƒ<code>div</code>ä¸<code>header, nav, section, aside, footer</code>è¿™äº›æ›´æœ‰è¯­ä¹‰åŒ–çš„æ ‡ç­¾ã€‚</p><h2 id="DELETE"><a href="#DELETE" class="headerlink" title="DELETE"></a>DELETE</h2><p>åˆ é™¤æŸä¸ªèµ„æºï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„</p><h2 id="CONNECT"><a href="#CONNECT" class="headerlink" title="CONNECT"></a>CONNECT</h2><blockquote><p>åœ¨å½“å‰å·²ç»å»ºç«‹HTTPè¿æ¥çš„æƒ…å†µä¸‹ï¼ŒCONNECT æ–¹æ³•ç”¨æ¥å‘ŠçŸ¥ä»£ç†æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯æƒ³è¦å’ŒæœåŠ¡å™¨ä¹‹é—´å»ºç«‹SSLè¿æ¥ã€‚</p></blockquote><blockquote><p>å®¢æˆ·ç«¯ä½¿ç”¨å¦‚ä¸‹æ¶ˆæ¯ï¼Œé€šçŸ¥ä»£ç†æœåŠ¡å™¨ï¼Œå»åšä¸€ä¸ªè¿æ¥åˆ°æŒ‡å®šçš„æœåŠ¡å™¨åœ°å€å’Œç«¯å£:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CONNECT example.com 443 HTTP/1.1</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>ä»£ç†æœåŠ¡å™¨éšåæå–CONNECT æ–¹æ³•æŒ‡å®šçš„åœ°å€å’Œç«¯å£ï¼ˆè¿™é‡Œæ˜¯ example.com 443 ï¼‰ï¼Œå»ºç«‹å’Œæ­¤æœåŠ¡å™¨çš„SSLè¿æ¥ï¼ŒæˆåŠŸåéšåé€šçŸ¥å®¢æˆ·ç«¯ï¼Œéœ€è¦çš„è¿æ¥å»ºç«‹å®Œæ¯•ï¼š</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 OK</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨CONNECTå‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡ç«¯ä¸ä¼šå»è§£æå­—æ®µç­‰æ“ä½œï¼Œè€Œæ˜¯å®Œå®Œå…¨å…¨å•çº¯çš„åšè½¬å‘ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºé€æ˜ä»£ç†ã€‚</p><h2 id="TRACE"><a href="#TRACE" class="headerlink" title="TRACE"></a>TRACE</h2><p>æŸ¥è¯¢åˆ°ç›®æ ‡èµ„æºç»è¿‡çš„ä¸­é—´èŠ‚ç‚¹ã€‚</p><h1 id="å“åº”"><a href="#å“åº”" class="headerlink" title="å“åº”"></a>å“åº”</h1><p>å“åº”ç»“æ„ç»„æˆResponse:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Response-Line</span><br><span class="line">*(header CRLF) </span><br><span class="line">CRLF</span><br><span class="line">[ message-body ]</span><br></pre></td></tr></table></figure></p><blockquote><p>Response-Line =&gt; HTTP-Version SPACE Status-Code SPACE Reason-Phrease CRLF<br>è¿™é‡Œæˆ‘ä»¬ä¸»è¦Status-Codeéƒ¨åˆ†</p></blockquote><h2 id="1xx"><a href="#1xx" class="headerlink" title="1xx"></a>1xx</h2><h3 id="100-Continue"><a href="#100-Continue" class="headerlink" title="100 Continue"></a>100 Continue</h3><p>æœåŠ¡å™¨å·²ç»æ¥æ”¶åˆ°è¯·æ±‚å¤´ï¼Œå¹¶ä¸”å®¢æˆ·ç«¯åº”ç»§ç»­å‘é€è¯·æ±‚ä¸»ä½“ï¼ˆåœ¨éœ€è¦å‘é€èº«ä½“çš„è¯·æ±‚çš„æƒ…å†µä¸‹ï¼šä¾‹å¦‚ï¼ŒPOSTè¯·æ±‚ï¼‰ï¼Œæˆ–è€…å¦‚æœè¯·æ±‚å·²ç»å®Œæˆï¼Œå¿½ç•¥è¿™ä¸ªå“åº”ã€‚</p><p>æ¯”å¦‚å®¢æˆ·ç«¯ä¸Šä¼ ä¸€äº›è§†é¢‘æ–‡ä»¶ï¼Œå¯ä»¥å…ˆåœ¨è¯·æ±‚å¤´åŠ ä¸€ä¸ª<code>Expect: 100-continue</code> å¦‚æœæœåŠ¡ç«¯å…è®¸æ¥æ”¶è¯¥æ–‡ä»¶ï¼ˆå¤§å°ï¼‰ï¼Œå°±è¿”å›100ï¼Œä¸å…è®¸åˆ™è¿”å›417çŠ¶æ€ç ã€‚</p><h2 id="2xx"><a href="#2xx" class="headerlink" title="2xx"></a>2xx</h2><p>2xx ç³»åˆ—éƒ½æ˜¯è¡¨ç¤ºè¯·æ±‚å·²ç»æˆåŠŸå¤„ç†äº†ï¼Œè¿™é‡Œåˆ—ä¸¾å‡ ä¸ªæ¯”è¾ƒå¸¸è§çš„</p><h3 id="200-OK"><a href="#200-OK" class="headerlink" title="200 OK"></a>200 OK</h3><p>æœ€å¸¸è§çš„å¯èƒ½å°±æ˜¯200äº†ï¼Œå¹³æ—¶å†™ajaxå¾ˆå¤šéƒ½æ˜¯ç›´æ¥åˆ¤æ–­ <code>xmlhttp.status==200</code>, ä»–ä»£è¡¨çš„æ˜¯è¯·æ±‚å·²ç»æˆåŠŸå®Œæˆ</p><h3 id="201-Created"><a href="#201-Created" class="headerlink" title="201 Created"></a>201 Created</h3><p>201è¡¨ç¤ºè¯·æ±‚å·²ç»è¢«å®ç°ï¼Œè€Œä¸”æœ‰ä¸€ä¸ªæ–°çš„èµ„æºå·²ç»ä¾æ®è¯·æ±‚çš„éœ€è¦è€Œåˆ›å»ºï¼Œä¸”å…¶URIå·²ç»éšLocationå¤´ä¿¡æ¯è¿”å›ã€‚å‡å¦‚éœ€è¦çš„èµ„æºæ— æ³•åŠæ—¶åˆ›å»ºçš„è¯ï¼Œåº”å½“è¿”å›â€™202 Acceptedâ€™ã€‚</p><h3 id="202-Accepted"><a href="#202-Accepted" class="headerlink" title="202 Accepted"></a>202 Accepted</h3><p>202ä»£è¡¨æœåŠ¡å™¨å·²æ¥å—è¯·æ±‚ï¼Œä½†å°šæœªå¤„ç†ã€‚æœ€ç»ˆè¯¥è¯·æ±‚å¯èƒ½ä¼šä¹Ÿå¯èƒ½ä¸ä¼šè¢«æ‰§è¡Œï¼Œå¹¶ä¸”å¯èƒ½åœ¨å¤„ç†å‘ç”Ÿæ—¶è¢«ç¦æ­¢</p><h3 id="204-No-Content"><a href="#204-No-Content" class="headerlink" title="204 No Content"></a>204 No Content</h3><p>æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œæ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹ã€‚</p><h3 id="206-Partical-Content"><a href="#206-Partical-Content" class="headerlink" title="206 Partical Content"></a>206 Partical Content</h3><p>206ä¸»è¦æ˜¯ä¸ºäº†æ”¯æŒå¤§æ–‡ä»¶çš„åˆ†æ®µä¸‹è½½ï¼Œç±»ä¼¼è¿…é›·è¿™ç±»çš„HTTP ä¸‹è½½å·¥å…·éƒ½æ˜¯ä½¿ç”¨æ­¤ç±»å“åº”å®ç°æ–­ç‚¹ç»­ä¼ æˆ–è€…å°†ä¸€ä¸ªå¤§æ–‡æ¡£åˆ†è§£ä¸ºå¤šä¸ªä¸‹è½½æ®µåŒæ—¶ä¸‹è½½ã€‚</p><p>è¿™é‡Œç”¨ä¹¦é‡Œçš„ä¸€ä¸ªä¾‹å­æ¥å±•ç¤º,å…ˆç”¨ HEAD è·å–è¯¥èµ„æºçš„å¤§å°ï¼Œå†ç”¨Rangeåˆ†æ®µè·å–ï¼Œè¿™äº›æ–¹æ³•ä¸Šé¢éƒ½æœ‰ä»‹ç»è¿‡ï¼Œè¿™é‡Œç»¼åˆèµ·æ¥è¿ç”¨:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">HEAD /large.jpg HTTP/1.1</span><br><span class="line">Host: example.com</span><br><span class="line"></span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Accept-Ranges: bytes</span><br><span class="line">Content-Length: 4000</span><br><span class="line"></span><br><span class="line">Get /large.jpg HTTP/1.1</span><br><span class="line">Host: example.com</span><br><span class="line">Range: bytes=0-1999</span><br><span class="line"></span><br><span class="line">HTTP/1.1 206 Partical Content</span><br><span class="line">Accept-Ranges: bytes</span><br><span class="line">Content-Length: 2000</span><br><span class="line">Content-Range: bytes 0-1999/4000</span><br><span class="line"></span><br><span class="line">&#123;binary data&#125;</span><br><span class="line"></span><br><span class="line">GET /large.jpg HTTP/1.1</span><br><span class="line">Host: example.com</span><br><span class="line">Range: bytes=2000-</span><br><span class="line"></span><br><span class="line">HTTP/1.1 206 Partical Content</span><br><span class="line">Accept-Ranges: bytes</span><br><span class="line">Content-Length: 2000</span><br><span class="line">Content-Range: bytes 2000-3999/4000</span><br><span class="line"></span><br><span class="line">&#123;binary data&#125;</span><br></pre></td></tr></table></figure></p><p>2xx å¾ˆå¤šåªæ˜¯è§„èŒƒä¸è¯­ä¹‰åŒ–çš„åŒºåˆ«ã€‚</p><h2 id="3xx"><a href="#3xx" class="headerlink" title="3xx"></a>3xx</h2><p>3xxç³»åˆ—é™¤äº† 304 ä»¥å¤–ï¼Œå…¶ä»–éƒ½æ˜¯ç”¨äºé‡å®šå‘çš„</p><h3 id="300-Multiple-Choices"><a href="#300-Multiple-Choices" class="headerlink" title="300 Multiple Choices"></a>300 Multiple Choices</h3><p>300æ˜¯è¯·æ±‚çš„èµ„æºæœ‰ä¸€ç³»åˆ—å¯ä¾›é€‰æ‹©çš„å›é¦ˆä¿¡æ¯ï¼Œç”¨æˆ·æˆ–æµè§ˆå™¨èƒ½å¤Ÿè‡ªè¡Œé€‰æ‹©ä¸€ä¸ªé¦–é€‰çš„åœ°å€è¿›è¡Œé‡å®šå‘ã€‚</p><h3 id="301-Moved-Permanently-amp-amp-302-Found"><a href="#301-Moved-Permanently-amp-amp-302-Found" class="headerlink" title="301 Moved Permanently &amp;&amp; 302 Found"></a>301 Moved Permanently &amp;&amp; 302 Found</h3><p>301 ä¸ 302 éƒ½ä»£è¡¨å½“å‰è®¿é—®çš„URLå¯¹åº”çš„èµ„æºè¢«ç§»åŠ¨åˆ°ä¸€ä¸ªæ–°çš„ä½ç½®ï¼Œè¿™ä¸ªä½ç½®ä¼šåœ¨å“åº”å¤´Locationå†…æŒ‡å®šã€‚<br>ä»–ä»¬çš„åŒºåˆ«æ˜¯ 301æ˜¯æ°¸ä¹…è¢«ç§»åŠ¨åˆ°æ–°ä½ç½®ï¼Œè€Œ302æ˜¯æš‚æ—¶æ€§çš„ä¸´æ—¶é‡å®šå‘</p><h3 id="304-Not-Modified"><a href="#304-Not-Modified" class="headerlink" title="304 Not Modified"></a>304 Not Modified</h3><p>304æˆ‘ä»¬åœ¨å‰é¢å·²ç»æœ‰è§åˆ°è¿‡äº†ï¼Œç”¨ETagä¸If-None-Matché…åˆåšç¼“å­˜æ—¶ï¼Œå°±ä¼šè¿”å›304 ä»£è¡¨è¯¥èµ„æºæœªè¢«ä¿®æ”¹ï¼Œå¯ä»¥ç»§ç»­ç”¨ä»¥å‰ä¸‹è½½çš„å‰¯æœ¬ã€‚</p><h2 id="400"><a href="#400" class="headerlink" title="400"></a>400</h2><p>400æŒ‡çš„æ˜¯å®¢æˆ·ç«¯é”™è¯¯ï¼Œæ—¢æœåŠ¡ç«¯æ¥æ”¶åˆ°è¯¥è¯·æ±‚ï¼Œä½†æ˜¯æ”¶åˆ°çš„è¯·æ±‚æ— æ³•å¤„ç†,è¿™é‡Œåˆ—å‡ºå¸¸è§çš„å‡ ç§</p><h3 id="400-Bad-Request"><a href="#400-Bad-Request" class="headerlink" title="400 Bad Request"></a>400 Bad Request</h3><p>ç”±äºæ˜æ˜¾çš„å®¢æˆ·ç«¯é”™è¯¯ï¼ˆä¾‹å¦‚ï¼Œæ ¼å¼é”™è¯¯çš„è¯·æ±‚è¯­æ³•ï¼Œå¤ªå¤§çš„å¤§å°ï¼Œæ— æ•ˆçš„è¯·æ±‚æ¶ˆæ¯æˆ–æ¬ºéª—æ€§è·¯ç”±è¯·æ±‚ï¼‰ï¼ŒæœåŠ¡å™¨ä¸èƒ½æˆ–ä¸ä¼šå¤„ç†è¯¥è¯·æ±‚</p><h3 id="401-Unauthorized"><a href="#401-Unauthorized" class="headerlink" title="401 Unauthorized"></a>401 Unauthorized</h3><p>401æ—¢æœªè®¤è¯ï¼Œåº”è¯¥æ˜¯æœ€ç®€å•çš„ç”¨æˆ·è®¤è¯ç™»å½•ç³»ç»Ÿäº†ã€‚ä¸403ä¸åŒï¼Œè¿™é‡Œå¦‚æœç”¨æˆ·æä¾›å¿…è¦çš„å‡­æ®ï¼Œå°±å¯ä»¥è®¿é—®èµ„æºã€‚</p><h3 id="403-Forbidden"><a href="#403-Forbidden" class="headerlink" title="403 Forbidden"></a>403 Forbidden</h3><p>æœåŠ¡å™¨å·²ç»ç†è§£è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æ‰§è¡Œå®ƒã€‚ä¸401å“åº”ä¸åŒçš„æ˜¯ï¼Œèº«ä»½éªŒè¯å¹¶ä¸èƒ½æä¾›ä»»ä½•å¸®åŠ©ï¼Œè€Œä¸”è¿™ä¸ªè¯·æ±‚ä¹Ÿä¸åº”è¯¥è¢«é‡å¤æäº¤ã€‚é¡¹ç›®ä¸­çš„ç»éªŒå°±æ˜¯ï¼Œå¦‚æœç”¨æˆ·ç™»å½•çŠ¶æ€è¿‡æœŸï¼Œåå°è¿”å›403çŠ¶æ€ç ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å†å»æ‰§è¡Œè‡ªåŠ¨ç™»å½•æˆ–è€…æç¤ºç™»å½•çš„é€»è¾‘ã€‚</p><h3 id="404-Not-Fount"><a href="#404-Not-Fount" class="headerlink" title="404 Not Fount"></a>404 Not Fount</h3><p>è¯·æ±‚å¤±è´¥ï¼Œè¯·æ±‚æ‰€å¸Œæœ›å¾—åˆ°çš„èµ„æºæœªè¢«åœ¨æœåŠ¡å™¨ä¸Šå‘ç°ï¼Œä½†å…è®¸ç”¨æˆ·çš„åç»­è¯·æ±‚ã€‚è¿™ä¸ªå¯èƒ½æ˜¯æœ€å¸¸è§çš„4xxçŠ¶æ€ç </p><h3 id="412-Precondition-Failed"><a href="#412-Precondition-Failed" class="headerlink" title="412 Precondition Failed"></a>412 Precondition Failed</h3><blockquote><p>å®¢æˆ·ç«¯å‘èµ·äº†æ¡ä»¶è¯·æ±‚ï¼ŒæœåŠ¡å™¨å‘ç°è¿™ä¸ªè¯·æ±‚ä¸­çš„å…¶ä¸­ä¸€ä¸ªæ¡ä»¶å¹¶ä¸æˆç«‹ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±ä¼šç”¨æ­¤é”™è¯¯ç ä½œä¸ºå“åº”æ¶ˆæ¯çš„çŠ¶æ€ç è¿”å›ç»™å®¢æˆ·ç«¯ã€‚<br>æ¯”å¦‚æˆ‘ä»¬åœ¨è¯·æ±‚å¤´è®¾ç½®æ¡ä»¶é™å®š:<code>If-Unmodified-Since</code>ï¼Œå¦‚æœæœåŠ¡ç«¯æ ¡éªŒè¿™ä¸ªæ¡ä»¶ï¼Œå‘ç°è¯´æ²¡æœ‰æ»¡è¶³çš„è¯ï¼Œå°±ä¼šè¿”å› 412 çŠ¶æ€ç ã€‚</p></blockquote><h2 id="5xx"><a href="#5xx" class="headerlink" title="5xx"></a>5xx</h2><p>400æ˜¯å®¢æˆ·ç«¯é”™è¯¯ï¼Œ500å°±æ˜¯æœåŠ¡ç«¯çš„é”™è¯¯çŠ¶æ€ç ã€‚</p><h3 id="500-Internal-Server-Error"><a href="#500-Internal-Server-Error" class="headerlink" title="500 Internal Server Error"></a>500 Internal Server Error</h3><p>500ä¸ºé€šç”¨é”™è¯¯æ¶ˆæ¯ï¼ŒæœåŠ¡å™¨é‡åˆ°äº†ä¸€ä¸ªæœªæ›¾é¢„æ–™çš„çŠ¶å†µï¼Œå¯¼è‡´äº†å®ƒæ— æ³•å®Œæˆå¯¹è¯·æ±‚çš„å¤„ç†ã€‚æ²¡æœ‰ç»™å‡ºå…·ä½“é”™è¯¯ä¿¡æ¯ï¼Œä¸€èˆ¬å¼€å‘è€…å¯ä»¥æŸ¥æ—¥å¿—ç­‰å»è§£å†³è¯¥é”™è¯¯ã€‚</p><h3 id="503-Service-Unavailable"><a href="#503-Service-Unavailable" class="headerlink" title="503 Service Unavailable"></a>503 Service Unavailable</h3><blockquote><p>è¯´æ˜æœåŠ¡å™¨ç°åœ¨æ— æ³•æä¾›æœåŠ¡ï¼Œä½†æ˜¯å°†æ¥å¯ä»¥ã€‚å¦‚æœæœåŠ¡å™¨çŸ¥é“ä½•æ—¶èµ„æºå¯ç”¨ï¼Œåº”è¯¥åœ¨å“åº”ä¸­åŒ…å«Retry-Afterçš„é¦–éƒ¨ï¼Œæç¤ºå®¢æˆ·ç«¯å¯ä»¥é‡è¯•æœåŠ¡çš„æ—¶é—´ã€‚<br>å¦‚æœæ²¡æœ‰æä¾›Retry-Afterå¤´éƒ¨ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯åº”å½“ä»¥å¤„ç†500å“åº”çš„æ–¹å¼å¤„ç†å®ƒã€‚</p></blockquote><p>ä»¥ä¸Šæ˜¯è§‰å¾—æ¯”è¾ƒå¸¸è§çš„çŠ¶æ€ç ï¼Œæ›´å¤šè¯·è§<a href="https://zh.wikipedia.org/wiki/HTTP%E7%8A%B6%E6%80%81%E7%A0%81" target="_blank" rel="noopener">ç»´åŸºç™¾ç§‘</a></p><h2 id="Cache-Control"><a href="#Cache-Control" class="headerlink" title="Cache-Control"></a>Cache-Control</h2><p>ä¸€èˆ¬æˆ‘ä»¬åœ¨æœåŠ¡ç«¯å“åº”å¯ä»¥åŠ ä¸Šè¿™ä¸ªå“åº”å¤´<code>Cache-Control: max-age=2592000</code> æ¥è®©æµè§ˆå™¨æŠŠè¿™ä¸ªèµ„æºç¼“å­˜ä¸‹æ¥ï¼Œç¼“å­˜çš„æ—¶é—´ä¸º<code>2592000</code>æ—¢30å¤©ï¼Œä¹Ÿå¯ä»¥åœ¨æ—¶é—´åé¢åŠ ä¸Šä¸ª<code>public</code>æ¥æŒ‡ç¤ºè¯¥å“åº”å¯ä»¥è¢«ä»»ä½•ä¸­é—´äººï¼ˆcdn,ä»£ç†)ç¼“å­˜ã€‚</p><h1 id="æ¶ˆæ¯ä¸»ä½“-1"><a href="#æ¶ˆæ¯ä¸»ä½“-1" class="headerlink" title="æ¶ˆæ¯ä¸»ä½“"></a>æ¶ˆæ¯ä¸»ä½“</h1><p>åœ¨è¯·æ±‚æ¶ˆæ¯æˆ–å“åº”æ¶ˆæ¯é‡Œé¢ï¼Œéƒ½å¯ä»¥åŒ…å«ä¸€ä¸ªå¯é€‰çš„æ¶ˆæ¯ä¸»ä½“ï¼ŒæœåŠ¡ç«¯æˆ–å®¢æˆ·ç«¯éƒ½æ²¡åŠæ³•ä»æ¶ˆæ¯ä¸»ä½“é‡Œé¢è·å–æ˜¯ä»€ä¹ˆå†…å®¹å•Šï¼Œä»€ä¹ˆç±»å‹å•Šä»€ä¹ˆçš„ï¼Œæ‰€ä»¥å°±ä¼šæœ‰ä¸€ç»„å¤´éƒ¨å­—æ®µæ¥æ ‡ç¤ºä»–ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Content-Type å®ä½“ä¸­æ‰€æ‰¿è½½å¯¹è±¡çš„ç±»å‹,å¦‚ txt/html; image/jpeg</span><br><span class="line">Content-Length æ‰€ä¼ é€å®ä½“ä¸»ä½“çš„é•¿åº¦æˆ–å¤§å°ã€‚</span><br><span class="line">Content-Language ä¸æ‰€ä¼ é€å¯¹è±¡æœ€ç›¸é…çš„äººç±»è¯­è¨€, en-usç­‰</span><br><span class="line">Content-Encoding å¯¹è±¡æ•°æ®æ‰€åšçš„å‹ç¼©æ ¼å¼,gzipç­‰.</span><br><span class="line">Content-Location ä¸€ä¸ªå¤‡ç”¨ä½ç½®ï¼Œè¯·æ±‚æ—¶å¯é€šè¿‡å®ƒè·å¾—å¯¹è±¡ã€‚</span><br><span class="line">Content-Range è¯´æ˜å®ƒæ˜¯æ•´ä½“çš„å“ªä¸ªéƒ¨åˆ†,å¯ç”¨äºåˆ†æ®µè·å–ã€‚</span><br><span class="line">Content-MD5 å®ä½“ä¸»ä½“å†…å®¹çš„æ ¡éªŒå’Œã€‚</span><br><span class="line">Last-Modified æ‰€ä¼ è¾“å†…å®¹åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºæˆ–æœ€åä¿®æ”¹çš„æ—¥æœŸæ—¶é—´ã€‚</span><br><span class="line">Expires å®ä½“æ•°æ®å°†è¦å¤±æ•ˆçš„æ—¥æœŸæ—¶é—´ã€‚</span><br><span class="line">Allow è¯¥èµ„æºæ‰€å…è®¸çš„å„ç§è¯·æ±‚æ–¹æ³•ï¼Œä¾‹å¦‚ï¼ŒGET å’Œ HEADã€‚</span><br><span class="line">ETag è¿™ä»½æ–‡æ¡£çš„å”¯ä¸€éªŒè¯ç ï¼Œå¯ç”¨äºç¼“å­˜</span><br></pre></td></tr></table></figure><h1 id="HTTP-2-0-h2"><a href="#HTTP-2-0-h2" class="headerlink" title="HTTP/2.0(h2)"></a>HTTP/2.0(h2)</h1><p>è¿™é‡Œç®€å•è¯´ä¸€ä¸‹h2ä¸HTTP/1.1å¯¹äºå‰ç«¯å¼€å‘äººå‘˜æ¥è¯´æ¯”è¾ƒå¤§çš„æ”¹åŠ¨ã€‚</p><h2 id="å¤šè·¯å¤ç”¨-Multiplexing"><a href="#å¤šè·¯å¤ç”¨-Multiplexing" class="headerlink" title="å¤šè·¯å¤ç”¨ (Multiplexing)"></a>å¤šè·¯å¤ç”¨ (Multiplexing)</h2><p>å¤šè·¯å¤ç”¨å…è®¸åŒæ—¶é€šè¿‡å•ä¸€çš„ HTTP/2 è¿æ¥å‘èµ·å¤šé‡çš„è¯·æ±‚-å“åº”æ¶ˆæ¯ã€‚<br>åœ¨HTTP/1.1ä¸­ï¼Œæˆ‘ä»¬å®¢æˆ·ç«¯åœ¨åŒä¸€æ—¶é—´ï¼Œé’ˆå¯¹åŒä¸€äºåŸŸåä¸‹çš„è¯·æ±‚ä¼šæœ‰é™åˆ¶ï¼Œå¦‚æœè¶…è¿‡æŸä¸ªå€¼çš„è¯·æ±‚ä¼šè¢«å µå¡åˆ°ã€‚æ‰€ä»¥ä¸€èˆ¬çš„ä¼˜åŒ–æœ‰å‰ç«¯ç”¨é›ªç¢§å›¾æ¥åˆå¹¶å¤šä¸ªå°å›¾ç‰‡å‡å°‘è¯·æ±‚ï¼Œåç«¯æŠŠèµ„æºåˆ†åˆ°ä¸åŒçš„åŸŸä¸‹é¢ï¼Œå‡å°‘åŒåŸŸçš„é™åˆ¶ã€‚<br>ä½†æ˜¯å¦‚æœç½‘ç«™ç”¨äº†h2çš„è¯ï¼Œå‰ç«¯ä¸éœ€è¦è€ƒè™‘ç±»ä¼¼é›ªç¢§å›¾ä¹‹ç±»çš„æŠŠå¤šä¸ªè¯·æ±‚åˆå¹¶ä¸ºä¸€ä¸ªå‡å°‘çš„ä¼˜åŒ–ã€‚</p><h1 id="æœ€åå•°å—¦ä¸¤å¥"><a href="#æœ€åå•°å—¦ä¸¤å¥" class="headerlink" title="æœ€åå•°å—¦ä¸¤å¥"></a>æœ€åå•°å—¦ä¸¤å¥</h1><p>ä¹‹æ‰€ä»¥ä¼šçœ‹ã€ŠHTTPå°ä¹¦ã€‹æ˜¯å› ä¸ºå‰æ®µæ—¶é—´é—®æˆ‘ä¸€ä¸ªæœ‹å‹è¯´æœ‰æ²¡æœ‰å…³äºHTTPæ¯”è¾ƒå¥½çš„ä¹¦ç±æ¨èï¼Œã€ŠHTTPæƒå¨æŒ‡å—ã€‹å…­ä¸ƒç™¾é¡µç»†èŠ‚å¤ªå¤šæ€•æ˜¯çœ‹å®Œç•™ä¸ä½ä»€ä¹ˆæ¦‚å¿µã€‚ä»–ç»™æˆ‘æ¨äº†ã€ŠHTTPå°ä¹¦ã€‹ï¼Œè¿™æœ¬ä¹¦ç®—æ˜¯æœ‰ç‚¹æ”¹å˜æˆ‘ä¸€äº›å…³äºçŸ¥è¯†è·å–çš„è®¤çŸ¥ã€‚<br>ç®€å•æ¥è¯´å°±æ˜¯ï¼Œå¤§å®¶åˆ«çœ‹9å—é’±çš„ä¹¦å°±é‚£ä¹ˆå‡ é¡µï¼Œç¿»ä¸€ä¸ªä¸Šåˆæˆ–è€…ä¸€å¤©å°±çœ‹å®Œï¼Œç„¶åå°±è§‰å¾—ä¸å€¼ï¼Œéå¾—è¦çœ‹å“ªç§å‡ ç™¾é¡µçš„æ‰è§‰å¾—é’±å›æœ¬äº†ã€‚<br>è¿™ç¯‡æ–‡åªæ˜¯ä¸ªäººåœ¨çœ‹çš„æ—¶å€™åšäº†ä¸€äº›å½’çº³ï¼Œä¹¦ä¸­æœ‰æ›´è¯¦ç»†æ›´å¥½çš„è§£é‡Šï¼Œå…³é”®æ˜¯æä¾›äº†æºç ä¸ä¾‹å­ï¼Œåœ¨çœ‹æ¦‚å¿µçš„æ—¶å€™å®æ“ä¸€éä¼šåŠ æ·±å¾ˆå¤šå°è±¡ã€‚<br>æ€»çš„æ¥è¯´ï¼Œè¿™æœ¬ä¹¦æŒºå€¼çš„ï¼Œå’Œä»–çš„æ ‡è¯­ä¸€æ ·ï¼š<em>å‡†èƒ½å¸®ä½ çœä¸‹ä¸å°‘<strong>æ—¶é—´</strong></em></p><p><a href="http://www.ituring.com.cn/book/1791" target="_blank" rel="noopener">ã€ŠHTTPå°ä¹¦ã€‹</a><br><a href="https://juejin.im/user/58774201570c35006207d274" target="_blank" rel="noopener">ã€ŠHTTPå°ä¹¦ã€‹ä½œè€…åˆ˜ä¼ å›</a><br><a href="http://www.cnblogs.com/machao/p/5788425.html" target="_blank" rel="noopener">HTTP Method æ›´è¯¦ç»†çš„ä»‹ç»</a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Caching_FAQ" target="_blank" rel="noopener">HTTPç¼“å­˜ - MDN</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åŒæ ·æ˜¯å› ä¸ºé¢è¯•çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°è‡ªå·±å¯¹httpçš„ä¸€äº›æ¦‚å¿µå’ŒçŸ¥è¯†ç‚¹å’Œé›¶ç¢ï¼Œå€Ÿæ­¤æœºä¼šçœ‹äº†ã€ŠHTTPå°ä¹¦ã€‹ï¼Œé¡ºæ‰‹å†™äº†ç¯‡è®°å½•æ€»ç»“ä¸€äº›å¸¸è§çš„httpçŸ¥è¯†ç‚¹ã€‚&lt;/p&gt;
&lt;h1 id=&quot;http-ç®€ä»‹&quot;&gt;&lt;a href=&quot;#http-ç®€ä»‹&quot; class=&quot;headerlink&quot; title=
      
    
    </summary>
    
      <category term="technology" scheme="https://jsonz1993.github.io/categories/technology/"/>
    
    
      <category term="learn" scheme="https://jsonz1993.github.io/tags/learn/"/>
    
      <category term="Book" scheme="https://jsonz1993.github.io/tags/Book/"/>
    
      <category term="HTTP" scheme="https://jsonz1993.github.io/tags/HTTP/"/>
    
  </entry>
  
</feed>
